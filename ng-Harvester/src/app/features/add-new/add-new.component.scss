// ==========================================
// ðŸŽ¨ PAGE 1: ADD NEW / FARMER FORM
// Glassmorphism Design with Soft Blue Gradient
// ==========================================
.add-new-container {
    min-height: 100vh;
    padding: 16px;
    position: relative;
    overflow: hidden;
    // Page background: Full-height soft blue gradient
    background: linear-gradient(180deg, #14417d 0%, #0b458a 35%, #EAF2FF 100%);
    // Rounded outer edges
    border-radius: 0;
    // Dark theme variant
    [data-theme="dark"] & {
        background: linear-gradient(180deg, #0D47A1 0%, #1565C0 35%, #1E293B 100%);
    }
    // Animated floating spheres (subtle)
    .sphere-1,
    .sphere-2,
    .sphere-3 {
        position: absolute;
        border-radius: 50%;
        opacity: 0.08;
        z-index: 0;
        background: radial-gradient(circle at 35% 35%, rgba(255, 255, 255, 0.2), rgba(255, 255, 255, 0.05));
        pointer-events: none;
    }
    .sphere-1 {
        width: 250px;
        height: 250px;
        top: 10%;
        right: 5%;
    }
    .sphere-2 {
        width: 180px;
        height: 180px;
        bottom: 20%;
        left: 10%;
    }
    .sphere-3 {
        width: 200px;
        height: 200px;
        top: 50%;
        left: 3%;
    }
    @media screen and (max-width: 600px) {
      padding: 0px 16px 20px 16px;
    }
}

// Main Glass Form Container
.form-card {
    position: relative;
    z-index: 1;
    max-width: 900px;
    margin: 16px auto 0;
    border-radius: 20px;
    overflow: hidden;
    // Glassmorphism effect
    background: rgba(255, 255, 255, 0.78);
    backdrop-filter: blur(14px);
    -webkit-backdrop-filter: blur(14px);
    // Shadow
    box-shadow: 0 20px 40px rgba(30, 111, 217, 0.25);
    // Dark theme
    [data-theme="dark"] & {
        background: rgba(30, 41, 59, 0.85);
        box-shadow: 0 20px 40px rgba(0, 0, 0, 0.4);
    }
    mat-card-content {
        padding: 24px;
    }
}

// Form Header Area
.form-section-title {
    font-size: 18px;
    font-weight: 600;
    color: #1E293B;
    margin-bottom: 20px;
    padding-bottom: 12px;
    // Divider below title
    border-bottom: 1px solid #D6E4FF;
    [data-theme="dark"] & {
        color: #F1F5F9;
        border-bottom-color: rgba(66, 165, 245, 0.3);
    }
}

.form-row {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 1.5rem;
    margin-bottom: 10px;
    @media (max-width: 600px) {
        grid-template-columns: 1fr;
        gap: 0.7rem;
    }
    .form-field.full-width {
        grid-column: 1 / -1;
    }
}

// Common Input Container Styling
.form-field {
    width: 100%;
     ::ng-deep {
        // Remove Material's default outline appearance
        .mat-mdc-text-field-wrapper {
            background: #FFFFFF;
            border-radius: 14px;
            border: 1px solid #E3ECFF;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.06);
            padding: 0;
            height: 52px;
        }
        .mdc-text-field {
            height: 52px;
            padding: 0;
            background: transparent;
            // Remove default Material outline
            .mdc-notched-outline {
                display: none !important;
            }
        }
        // Text field input area
        .mdc-text-field__input {
            padding: 0 16px;
            height: 52px;
            font-size: 15px;
            color: #1E293B;
            &::placeholder {
                color: #94A3B8;
                opacity: 1;
            }
        }
        .mat-mdc-form-field-focus-overlay {
            display: none;
        }
        // Input element styling
        .mat-mdc-input-element {
            height: 52px;
            padding: 0;
            font-size: 15px;
            color: #1E293B;
            line-height: 52px;
            &::placeholder {
                color: #94A3B8;
                opacity: 1;
            }
        }
        // Ensure input has proper padding when icon is present
        .mat-mdc-form-field-icon-prefix~.mdc-text-field__input {
            padding-left: 48px;
        }
        // Icons - Angular Material icons (muted blue)
        .mat-icon {
            color: #6B86C8 !important;
        }
        // Prefix icon container
        .mat-mdc-form-field-icon-prefix {
            padding: 0 12px 0 12px;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        // Suffix icon container (for date picker, etc.)
        .mat-mdc-form-field-icon-suffix {
            padding: 0 12px 0 8px;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        // Hide floating label (no floating label per requirements)
        .mat-mdc-floating-label,
        .mdc-floating-label {
            display: none !important;
        }
        // Focus state
        &.mat-focused {
            .mat-mdc-text-field-wrapper {
                border-color: #1E6FD9;
                box-shadow: 0 4px 12px rgba(30, 111, 217, 0.15);
            }
        }
        // Error state
        &.mat-form-field-invalid {
            .mat-mdc-text-field-wrapper {
                border-color: #EF4444;
            }
        }
        // Dark theme
        [data-theme="dark"] & {
            .mat-mdc-text-field-wrapper {
                background: rgba(30, 41, 59, 0.8);
                border-color: rgba(107, 134, 200, 0.3);
            }
            .mat-mdc-input-element {
                color: #F1F5F9;
                &::placeholder {
                    color: #64748B;
                }
            }
            .mat-icon {
                color: #6B86C8 !important;
            }
            &.mat-focused {
                .mat-mdc-text-field-wrapper {
                    border-color: #4A90E2;
                }
            }
        }
    }
}

// Calculated input (disabled, read-only)
.calculated-input {
    font-weight: 600;
    color: #1E6FD9;
    background: #F8FAFC !important;
    [data-theme="dark"] & {
        color: #4A90E2;
        background: rgba(30, 41, 59, 0.5) !important;
    }
}

// Payment Summary Section (Auto Calculated)
.payment-summary {
  background: transparent;
  border-radius: 10px;
  padding: 5px;
  margin: 0px 0;
  border: none;
  box-shadow: 0 0 8px rgba(0, 0, 0, 0.2);
}

.summary-row {
    display: flex;
    justify-content: space-between;
    align-items: center;
    height: 44px;
    padding: 0 4px;
    font-size: 15px;
    // Left side: Circular check icon + Label
    .summary-label {
        display: flex;
        align-items: center;
        gap: 8px;
        font-weight: 500;
        color: #475569;
        // Circular check icon (using pseudo-element)
        &::before {
            content: 'âœ“';
            display: flex;
            align-items: center;
            justify-content: center;
            width: 20px;
            height: 20px;
            border-radius: 50%;
            background: #E3ECFF;
            color: #1E6FD9;
            font-size: 12px;
            font-weight: 600;
        }
    }
    // Right side: Amount + Green check icon
    .summary-value {
        display: flex;
        align-items: center;
        gap: 8px;
        font-weight: 600;
        font-size: 16px;
        color: #1E293B;
        // Green check icon (using pseudo-element)
        &::after {
            content: 'âœ“';
            display: flex;
            align-items: center;
            justify-content: center;
            width: 20px;
            height: 20px;
            border-radius: 50%;
            background: #D1FAE5;
            color: #10B981;
            font-size: 12px;
            font-weight: 600;
        }
    }
    // Balance Row (Pending) - Green emphasis
    &.summary-pending {
        .summary-label {
            color: #059669;
            font-weight: 600;
            &::before {
                background: #D1FAE5;
                color: #059669;
            }
        }
        .summary-value {
            color: #059669;
            font-weight: 700;
            &::after {
                background: #10B981;
                color: #FFFFFF;
            }
            // When pending is zero
            &.pending-zero {
                color: #10B981;
            }
        }
    }
    // Dark theme
    [data-theme="dark"] & {
        .summary-label {
            color: #CBD5E1;
            &::before {
                background: rgba(30, 111, 217, 0.2);
                color: #4A90E2;
            }
        }
        .summary-value {
            color: #F1F5F9;
            &::after {
                background: rgba(16, 185, 129, 0.2);
                color: #34D399;
            }
        }
        &.summary-pending {
            .summary-label {
                color: #34D399;
                &::before {
                    background: rgba(16, 185, 129, 0.2);
                    color: #34D399;
                }
            }
            .summary-value {
                color: #34D399;
                &::after {
                    background: #10B981;
                    color: #FFFFFF;
                }
            }
        }
    }
}

// Action Buttons
.form-actions {
    display: flex;
    gap: 12px;
    margin-top: 24px;
    @media (max-width: 600px) {
        flex-direction: row-reverse;
    }
    button {
        flex: 1;
        font-weight: 600;
        height: 45px;
        gap: 8px;
        border-radius: 8px;
        font-size: 16px;
        transition: all 0.3s ease;
        border: none;
        cursor: pointer;
        box-shadow: 0 0 8px rgba(0, 0, 0, 0.2);
        mat-icon {
            margin-right: 8px;
        }
        &:hover:not(:disabled) {
            transform: translateY(-2px);
        }
        &:active:not(:disabled) {
            transform: translateY(0);
        }
        &:disabled {
            opacity: 0.6;
            cursor: not-allowed;
        }
    }
    // Save Entry Button (Primary CTA)
    .save-btn {
        margin: 0;
        background: linear-gradient(180deg, #165dae 0%, #0e467d 100%) !important;
        color: white;
        box-shadow: 0 12px 24px rgba(30, 111, 217, 0.35);
        &:hover:not(:disabled) {
            box-shadow: 0 16px 32px rgba(30, 111, 217, 0.45);
        }
    }
    // Clear/Cancel buttons
    .clear-btn,
    .cancel-btn {
        background: rgba(255, 255, 255, 0.9);
        color: #64748B;
        border: 1px solid #E3ECFF;
        &:hover:not(:disabled) {
            background: rgba(255, 255, 255, 1);
            border-color: #CBD5E1;
        }
        [data-theme="dark"] & {
            background: rgba(30, 41, 59, 0.8);
            color: #CBD5E1;
            border-color: rgba(107, 134, 200, 0.3);
            &:hover:not(:disabled) {
                background: rgba(30, 41, 59, 1);
            }
        }
    }
}

// Land & Rate Section Label
// Add label before the row containing landInAcres field
.form-row:has([formControlName="landInAcres"]) {
    // margin-top: 32px;
    &::before {
        content: 'Land & Rate';
        display: block;
        font-weight: 500;
        color: #475569;
        margin-bottom: 0px;
        font-size: 15px;
        grid-column: 1 / -1;
        [data-theme="dark"] & {
            color: #CBD5E1;
        }
    }
}

// Responsive design
@media (max-width: 768px) {
    .add-new-container {
        padding: 0 12px 20px 12px;
    }
    .form-card {
        mat-card-content {
            padding: 20px;
        }
    }
    .form-row {
        grid-template-columns: 1fr;
        // gap: 16px;
    }
}

mat-form-field {
  box-shadow: 0 3px 8px rgba(0, 0, 0, 0.2);
  max-height: 55px;
  margin-bottom: 15px;
  border-radius: 7px;
}

.mdc-notched-outline__leading{
  border-left: none !important;
}
.mat-mdc-notch-piece{
  border: none !important;
}
.mdc-notched-outline__trailing{
  border-right: none !important;
}