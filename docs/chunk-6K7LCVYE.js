import{$ as _o,$b as Ih,A as Dc,Aa as bt,Ac as ky,B as ey,Bc as Ch,C as dt,Ca as xt,Cb as zi,Cc as Xr,Da as hr,Db as It,Dc as Oy,E as cr,Ea as Ee,Eb as Tt,Ec as Fy,F as Kr,Fa as _h,Fb as Qr,Fc as Ze,G as Cc,Ga as fy,Gb as Nc,Gc as Ly,H as ph,Ha as Yr,Hb as kc,Hc as Vy,I as hn,Ia as my,Ib as On,Ic as Uy,J as ty,Ja as fr,K as lr,Ka as py,L as ur,La as bo,M as gh,Ma as vh,Mb as Cy,N as ny,Na as Vi,Nb as wo,O as ry,Oa as Ui,Ob as Nt,P as iy,Pa as gy,Pb as Ne,Q as sy,Qa as _y,Qb as fn,R as oy,Ra as vy,S as Sc,Sa as yy,Sb as pr,T as Fi,Ta as by,Tb as Xt,U as ht,Ua as Ey,Ub as Me,V as Kt,Va as wy,Vb as Hi,Wa as Pt,Wb as mn,X as Te,Xa as it,Xb as ft,Y as Rc,Ya as Bi,Yb as mt,Z as ay,Za as Iy,Zb as Sy,_ as H,_a as Ty,_b as Io,a as N,aa as kn,ab as $e,ac as Th,b as _e,ba as O,bb as Z,ca as fe,cb as Pc,cc as Ce,d as ar,da as cy,db as yh,dc as Oc,e as Yv,ea as L,eb as mr,ec as Ry,f as Rt,fa as W,fb as Bt,fc as xy,g as uh,ga as b,gb as ne,h as dh,ha as Yt,i as ue,ia as ly,ib as ji,j as vt,ja as Qt,k as Qv,ka as Ye,kb as Ay,l as Xv,la as uy,lb as bh,m as Wt,ma as dy,mb as Pe,mc as Xe,n as hh,nb as me,o as fh,ob as Q,p as mh,pa as De,pb as Eh,q as yt,qa as ie,qb as st,qc as Py,r as $,ra as vo,rc as My,s as Wr,sa as dr,sb as Mc,t as Jv,ta as xc,tb as wh,tc as Ah,u as Zv,ub as Eo,uc as Je,v as Y,va as yo,vb as Dy,vc as pn,w as go,wa as Qe,wb as $i,wc as qi,x as Ut,xb as Mt,xc as Dh,y as Tc,ya as hy,yb as Et,yc as Ny,z as Ac,za as Li,zb as wt,zc as To}from"./chunk-67S7ME6Q.js";var $y=null;function jt(){return $y}function Sh(n){$y??=n}var Ao=class{},Do=(()=>{class n{historyGo(t){throw new Error("")}static \u0275fac=function(r){return new(r||n)};static \u0275prov=O({token:n,factory:()=>b(zy),providedIn:"platform"})}return n})();var zy=(()=>{class n extends Do{_location;_history;_doc=b(ie);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return jt().getBaseHref(this._doc)}onPopState(t){let r=jt().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){let r=jt().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,i){this._history.pushState(t,r,i)}replaceState(t,r,i){this._history.replaceState(t,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}static \u0275fac=function(r){return new(r||n)};static \u0275prov=O({token:n,factory:()=>new n,providedIn:"platform"})}return n})();function Fc(n,e){return n?e?n.endsWith("/")?e.startsWith("/")?n+e.slice(1):n+e:e.startsWith("/")?n+e:`${n}/${e}`:n:e}function By(n){let e=n.search(/#|\?|$/);return n[e-1]==="/"?n.slice(0,e-1)+n.slice(e):n}function Jt(n){return n&&n[0]!=="?"?`?${n}`:n}var gr=(()=>{class n{historyGo(t){throw new Error("")}static \u0275fac=function(r){return new(r||n)};static \u0275prov=O({token:n,factory:()=>b(Rh),providedIn:"root"})}return n})(),Lc=new L(""),Rh=(()=>{class n extends gr{_platformLocation;_baseHref;_removeListenerFns=[];constructor(t,r){super(),this._platformLocation=t,this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??b(ie).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return Fc(this._baseHref,t)}path(t=!1){let r=this._platformLocation.pathname+Jt(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,s){let o=this.prepareExternalUrl(i+Jt(s));this._platformLocation.pushState(t,r,o)}replaceState(t,r,i,s){let o=this.prepareExternalUrl(i+Jt(s));this._platformLocation.replaceState(t,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static \u0275fac=function(r){return new(r||n)(W(Do),W(Lc,8))};static \u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Jr=(()=>{class n{_subject=new ue;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(t){this._locationStrategy=t;let r=this._locationStrategy.getBaseHref();this._basePath=fC(By(jy(r))),this._locationStrategy.onPopState(i=>{this._subject.next({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+Jt(r))}normalize(t){return n.stripTrailingSlash(hC(this._basePath,jy(t)))}prepareExternalUrl(t){return t&&t[0]!=="/"&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Jt(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Jt(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r??void 0,complete:i??void 0})}static normalizeQueryParams=Jt;static joinWithSlash=Fc;static stripTrailingSlash=By;static \u0275fac=function(r){return new(r||n)(W(gr))};static \u0275prov=O({token:n,factory:()=>dC(),providedIn:"root"})}return n})();function dC(){return new Jr(W(gr))}function hC(n,e){if(!n||!e.startsWith(n))return e;let t=e.substring(n.length);return t===""||["/",";","?","#"].includes(t[0])?t:e}function jy(n){return n.replace(/\/index.html$/,"")}function fC(n){if(new RegExp("^(https?:)?//").test(n)){let[,t]=n.split(/\/\/[^\/]+/);return t}return n}var Fh=(()=>{class n extends gr{_platformLocation;_baseHref="";_removeListenerFns=[];constructor(t,r){super(),this._platformLocation=t,r!=null&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash??"#";return r.length>0?r.substring(1):r}prepareExternalUrl(t){let r=Fc(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,s){let o=this.prepareExternalUrl(i+Jt(s))||this._platformLocation.pathname;this._platformLocation.pushState(t,r,o)}replaceState(t,r,i,s){let o=this.prepareExternalUrl(i+Jt(s))||this._platformLocation.pathname;this._platformLocation.replaceState(t,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static \u0275fac=function(r){return new(r||n)(W(Do),W(Lc,8))};static \u0275prov=O({token:n,factory:n.\u0275fac})}return n})();var Lh=(function(n){return n[n.Decimal=0]="Decimal",n[n.Percent=1]="Percent",n[n.Currency=2]="Currency",n[n.Scientific=3]="Scientific",n})(Lh||{});var ot=(function(n){return n[n.Format=0]="Format",n[n.Standalone=1]="Standalone",n})(ot||{}),pe=(function(n){return n[n.Narrow=0]="Narrow",n[n.Abbreviated=1]="Abbreviated",n[n.Wide=2]="Wide",n[n.Short=3]="Short",n})(pe||{}),At=(function(n){return n[n.Short=0]="Short",n[n.Medium=1]="Medium",n[n.Long=2]="Long",n[n.Full=3]="Full",n})(At||{}),Dt={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function Yy(n){return Nt(n)[Ne.LocaleId]}function Qy(n,e,t){let r=Nt(n),i=[r[Ne.DayPeriodsFormat],r[Ne.DayPeriodsStandalone]],s=$t(i,e);return $t(s,t)}function Xy(n,e,t){let r=Nt(n),i=[r[Ne.DaysFormat],r[Ne.DaysStandalone]],s=$t(i,e);return $t(s,t)}function Jy(n,e,t){let r=Nt(n),i=[r[Ne.MonthsFormat],r[Ne.MonthsStandalone]],s=$t(i,e);return $t(s,t)}function Zy(n,e){let r=Nt(n)[Ne.Eras];return $t(r,e)}function Co(n,e){let t=Nt(n);return $t(t[Ne.DateFormat],e)}function So(n,e){let t=Nt(n);return $t(t[Ne.TimeFormat],e)}function Ro(n,e){let r=Nt(n)[Ne.DateTimeFormat];return $t(r,e)}function gn(n,e){let t=Nt(n),r=t[Ne.NumberSymbols][e];if(typeof r>"u"){if(e===Dt.CurrencyDecimal)return t[Ne.NumberSymbols][Dt.Decimal];if(e===Dt.CurrencyGroup)return t[Ne.NumberSymbols][Dt.Group]}return r}function eb(n,e){return Nt(n)[Ne.NumberFormats][e]}function tb(n){if(!n[Ne.ExtraData])throw new H(2303,!1)}function nb(n){let e=Nt(n);return tb(e),(e[Ne.ExtraData][2]||[]).map(r=>typeof r=="string"?xh(r):[xh(r[0]),xh(r[1])])}function rb(n,e,t){let r=Nt(n);tb(r);let i=[r[Ne.ExtraData][0],r[Ne.ExtraData][1]],s=$t(i,e)||[];return $t(s,t)||[]}function $t(n,e){for(let t=e;t>-1;t--)if(typeof n[t]<"u")return n[t];throw new H(2304,!1)}function xh(n){let[e,t]=n.split(":");return{hours:+e,minutes:+t}}var mC=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Vc={},pC=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;function ib(n,e,t,r){let i=TC(n);e=Fn(t,e)||e;let o=[],c;for(;e;)if(c=pC.exec(e),c){o=o.concat(c.slice(1));let f=o.pop();if(!f)break;e=f}else{o.push(e);break}let l=i.getTimezoneOffset();r&&(l=ob(r,l),i=IC(i,r));let d="";return o.forEach(f=>{let p=EC(f);d+=p?p(i,t,l):f==="''"?"'":f.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),d}function zc(n,e,t){let r=new Date(0);return r.setFullYear(n,e,t),r.setHours(0,0,0),r}function Fn(n,e){let t=Yy(n);if(Vc[t]??={},Vc[t][e])return Vc[t][e];let r="";switch(e){case"shortDate":r=Co(n,At.Short);break;case"mediumDate":r=Co(n,At.Medium);break;case"longDate":r=Co(n,At.Long);break;case"fullDate":r=Co(n,At.Full);break;case"shortTime":r=So(n,At.Short);break;case"mediumTime":r=So(n,At.Medium);break;case"longTime":r=So(n,At.Long);break;case"fullTime":r=So(n,At.Full);break;case"short":let i=Fn(n,"shortTime"),s=Fn(n,"shortDate");r=Uc(Ro(n,At.Short),[i,s]);break;case"medium":let o=Fn(n,"mediumTime"),c=Fn(n,"mediumDate");r=Uc(Ro(n,At.Medium),[o,c]);break;case"long":let l=Fn(n,"longTime"),d=Fn(n,"longDate");r=Uc(Ro(n,At.Long),[l,d]);break;case"full":let f=Fn(n,"fullTime"),p=Fn(n,"fullDate");r=Uc(Ro(n,At.Full),[f,p]);break}return r&&(Vc[t][e]=r),r}function Uc(n,e){return e&&(n=n.replace(/\{([^}]+)}/g,function(t,r){return e!=null&&r in e?e[r]:t})),n}function Zt(n,e,t="-",r,i){let s="";(n<0||i&&n<=0)&&(i?n=-n+1:(n=-n,s=t));let o=String(n);for(;o.length<e;)o="0"+o;return r&&(o=o.slice(o.length-e)),s+o}function gC(n,e){return Zt(n,3).substring(0,e)}function ke(n,e,t=0,r=!1,i=!1){return function(s,o){let c=_C(n,s);if((t>0||c>-t)&&(c+=t),n===3)c===0&&t===-12&&(c=12);else if(n===6)return gC(c,e);let l=gn(o,Dt.MinusSign);return Zt(c,e,l,r,i)}}function _C(n,e){switch(n){case 0:return e.getFullYear();case 1:return e.getMonth();case 2:return e.getDate();case 3:return e.getHours();case 4:return e.getMinutes();case 5:return e.getSeconds();case 6:return e.getMilliseconds();case 7:return e.getDay();default:throw new H(2301,!1)}}function ye(n,e,t=ot.Format,r=!1){return function(i,s){return vC(i,s,n,e,t,r)}}function vC(n,e,t,r,i,s){switch(t){case 2:return Jy(e,i,r)[n.getMonth()];case 1:return Xy(e,i,r)[n.getDay()];case 0:let o=n.getHours(),c=n.getMinutes();if(s){let d=nb(e),f=rb(e,i,r),p=d.findIndex(g=>{if(Array.isArray(g)){let[A,R]=g,M=o>=A.hours&&c>=A.minutes,S=o<R.hours||o===R.hours&&c<R.minutes;if(A.hours<R.hours){if(M&&S)return!0}else if(M||S)return!0}else if(g.hours===o&&g.minutes===c)return!0;return!1});if(p!==-1)return f[p]}return Qy(e,i,r)[o<12?0:1];case 3:return Zy(e,r)[n.getFullYear()<=0?0:1];default:let l=t;throw new H(2302,!1)}}function Bc(n){return function(e,t,r){let i=-1*r,s=gn(t,Dt.MinusSign),o=i>0?Math.floor(i/60):Math.ceil(i/60);switch(n){case 0:return(i>=0?"+":"")+Zt(o,2,s)+Zt(Math.abs(i%60),2,s);case 1:return"GMT"+(i>=0?"+":"")+Zt(o,1,s);case 2:return"GMT"+(i>=0?"+":"")+Zt(o,2,s)+":"+Zt(Math.abs(i%60),2,s);case 3:return r===0?"Z":(i>=0?"+":"")+Zt(o,2,s)+":"+Zt(Math.abs(i%60),2,s);default:throw new H(2310,!1)}}}var yC=0,$c=4;function bC(n){let e=zc(n,yC,1).getDay();return zc(n,0,1+(e<=$c?$c:$c+7)-e)}function sb(n){let e=n.getDay(),t=e===0?-3:$c-e;return zc(n.getFullYear(),n.getMonth(),n.getDate()+t)}function Ph(n,e=!1){return function(t,r){let i;if(e){let s=new Date(t.getFullYear(),t.getMonth(),1).getDay()-1,o=t.getDate();i=1+Math.floor((o+s)/7)}else{let s=sb(t),o=bC(s.getFullYear()),c=s.getTime()-o.getTime();i=1+Math.round(c/6048e5)}return Zt(i,n,gn(r,Dt.MinusSign))}}function jc(n,e=!1){return function(t,r){let s=sb(t).getFullYear();return Zt(s,n,gn(r,Dt.MinusSign),e)}}var Mh={};function EC(n){if(Mh[n])return Mh[n];let e;switch(n){case"G":case"GG":case"GGG":e=ye(3,pe.Abbreviated);break;case"GGGG":e=ye(3,pe.Wide);break;case"GGGGG":e=ye(3,pe.Narrow);break;case"y":e=ke(0,1,0,!1,!0);break;case"yy":e=ke(0,2,0,!0,!0);break;case"yyy":e=ke(0,3,0,!1,!0);break;case"yyyy":e=ke(0,4,0,!1,!0);break;case"Y":e=jc(1);break;case"YY":e=jc(2,!0);break;case"YYY":e=jc(3);break;case"YYYY":e=jc(4);break;case"M":case"L":e=ke(1,1,1);break;case"MM":case"LL":e=ke(1,2,1);break;case"MMM":e=ye(2,pe.Abbreviated);break;case"MMMM":e=ye(2,pe.Wide);break;case"MMMMM":e=ye(2,pe.Narrow);break;case"LLL":e=ye(2,pe.Abbreviated,ot.Standalone);break;case"LLLL":e=ye(2,pe.Wide,ot.Standalone);break;case"LLLLL":e=ye(2,pe.Narrow,ot.Standalone);break;case"w":e=Ph(1);break;case"ww":e=Ph(2);break;case"W":e=Ph(1,!0);break;case"d":e=ke(2,1);break;case"dd":e=ke(2,2);break;case"c":case"cc":e=ke(7,1);break;case"ccc":e=ye(1,pe.Abbreviated,ot.Standalone);break;case"cccc":e=ye(1,pe.Wide,ot.Standalone);break;case"ccccc":e=ye(1,pe.Narrow,ot.Standalone);break;case"cccccc":e=ye(1,pe.Short,ot.Standalone);break;case"E":case"EE":case"EEE":e=ye(1,pe.Abbreviated);break;case"EEEE":e=ye(1,pe.Wide);break;case"EEEEE":e=ye(1,pe.Narrow);break;case"EEEEEE":e=ye(1,pe.Short);break;case"a":case"aa":case"aaa":e=ye(0,pe.Abbreviated);break;case"aaaa":e=ye(0,pe.Wide);break;case"aaaaa":e=ye(0,pe.Narrow);break;case"b":case"bb":case"bbb":e=ye(0,pe.Abbreviated,ot.Standalone,!0);break;case"bbbb":e=ye(0,pe.Wide,ot.Standalone,!0);break;case"bbbbb":e=ye(0,pe.Narrow,ot.Standalone,!0);break;case"B":case"BB":case"BBB":e=ye(0,pe.Abbreviated,ot.Format,!0);break;case"BBBB":e=ye(0,pe.Wide,ot.Format,!0);break;case"BBBBB":e=ye(0,pe.Narrow,ot.Format,!0);break;case"h":e=ke(3,1,-12);break;case"hh":e=ke(3,2,-12);break;case"H":e=ke(3,1);break;case"HH":e=ke(3,2);break;case"m":e=ke(4,1);break;case"mm":e=ke(4,2);break;case"s":e=ke(5,1);break;case"ss":e=ke(5,2);break;case"S":e=ke(6,1);break;case"SS":e=ke(6,2);break;case"SSS":e=ke(6,3);break;case"Z":case"ZZ":case"ZZZ":e=Bc(0);break;case"ZZZZZ":e=Bc(3);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=Bc(1);break;case"OOOO":case"ZZZZ":case"zzzz":e=Bc(2);break;default:return null}return Mh[n]=e,e}function ob(n,e){n=n.replace(/:/g,"");let t=Date.parse("Jan 01, 1970 00:00:00 "+n)/6e4;return isNaN(t)?e:t}function wC(n,e){return n=new Date(n.getTime()),n.setMinutes(n.getMinutes()+e),n}function IC(n,e,t){let i=n.getTimezoneOffset(),s=ob(e,i);return wC(n,-1*(s-i))}function TC(n){if(Hy(n))return n;if(typeof n=="number"&&!isNaN(n))return new Date(n);if(typeof n=="string"){if(n=n.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(n)){let[i,s=1,o=1]=n.split("-").map(c=>+c);return zc(i,s-1,o)}let t=parseFloat(n);if(!isNaN(n-t))return new Date(t);let r;if(r=n.match(mC))return AC(r)}let e=new Date(n);if(!Hy(e))throw new H(2311,!1);return e}function AC(n){let e=new Date(0),t=0,r=0,i=n[8]?e.setUTCFullYear:e.setFullYear,s=n[8]?e.setUTCHours:e.setHours;n[9]&&(t=Number(n[9]+n[10]),r=Number(n[9]+n[11])),i.call(e,Number(n[1]),Number(n[2])-1,Number(n[3]));let o=Number(n[4]||0)-t,c=Number(n[5]||0)-r,l=Number(n[6]||0),d=Math.floor(parseFloat("0."+(n[7]||0))*1e3);return s.call(e,o,c,l,d),e}function Hy(n){return n instanceof Date&&!isNaN(n.valueOf())}var DC=/^(\d+)?\.((\d+)(-(\d+))?)?$/,qy=22,Hc=".",xo="0",CC=";",SC=",",Nh="#";function RC(n,e,t,r,i,s,o=!1){let c="",l=!1;if(!isFinite(n))c=gn(t,Dt.Infinity);else{let d=MC(n);o&&(d=PC(d));let f=e.minInt,p=e.minFrac,g=e.maxFrac;if(s){let U=s.match(DC);if(U===null)throw new H(2306,!1);let j=U[1],G=U[3],ve=U[5];j!=null&&(f=kh(j)),G!=null&&(p=kh(G)),ve!=null?g=kh(ve):G!=null&&p>g&&(g=p)}NC(d,p,g);let A=d.digits,R=d.integerLen,M=d.exponent,S=[];for(l=A.every(U=>!U);R<f;R++)A.unshift(0);for(;R<0;R++)A.unshift(0);R>0?S=A.splice(R,A.length):(S=A,A=[0]);let F=[];for(A.length>=e.lgSize&&F.unshift(A.splice(-e.lgSize,A.length).join(""));A.length>e.gSize;)F.unshift(A.splice(-e.gSize,A.length).join(""));A.length&&F.unshift(A.join("")),c=F.join(gn(t,r)),S.length&&(c+=gn(t,i)+S.join("")),M&&(c+=gn(t,Dt.Exponential)+"+"+M)}return n<0&&!l?c=e.negPre+c+e.negSuf:c=e.posPre+c+e.posSuf,c}function ab(n,e,t){let r=eb(e,Lh.Decimal),i=xC(r,gn(e,Dt.MinusSign));return RC(n,i,e,Dt.Group,Dt.Decimal,t)}function xC(n,e="-"){let t={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},r=n.split(CC),i=r[0],s=r[1],o=i.indexOf(Hc)!==-1?i.split(Hc):[i.substring(0,i.lastIndexOf(xo)+1),i.substring(i.lastIndexOf(xo)+1)],c=o[0],l=o[1]||"";t.posPre=c.substring(0,c.indexOf(Nh));for(let f=0;f<l.length;f++){let p=l.charAt(f);p===xo?t.minFrac=t.maxFrac=f+1:p===Nh?t.maxFrac=f+1:t.posSuf+=p}let d=c.split(SC);if(t.gSize=d[1]?d[1].length:0,t.lgSize=d[2]||d[1]?(d[2]||d[1]).length:0,s){let f=i.length-t.posPre.length-t.posSuf.length,p=s.indexOf(Nh);t.negPre=s.substring(0,p).replace(/'/g,""),t.negSuf=s.slice(p+f).replace(/'/g,"")}else t.negPre=e+t.posPre,t.negSuf=t.posSuf;return t}function PC(n){if(n.digits[0]===0)return n;let e=n.digits.length-n.integerLen;return n.exponent?n.exponent+=2:(e===0?n.digits.push(0,0):e===1&&n.digits.push(0),n.integerLen+=2),n}function MC(n){let e=Math.abs(n)+"",t=0,r,i,s,o,c;for((i=e.indexOf(Hc))>-1&&(e=e.replace(Hc,"")),(s=e.search(/e/i))>0?(i<0&&(i=s),i+=+e.slice(s+1),e=e.substring(0,s)):i<0&&(i=e.length),s=0;e.charAt(s)===xo;s++);if(s===(c=e.length))r=[0],i=1;else{for(c--;e.charAt(c)===xo;)c--;for(i-=s,r=[],o=0;s<=c;s++,o++)r[o]=Number(e.charAt(s))}return i>qy&&(r=r.splice(0,qy-1),t=i-1,i=1),{digits:r,exponent:t,integerLen:i}}function NC(n,e,t){if(e>t)throw new H(2307,!1);let r=n.digits,i=r.length-n.integerLen,s=Math.min(Math.max(e,i),t),o=s+n.integerLen,c=r[o];if(o>0){r.splice(Math.max(n.integerLen,o));for(let p=o;p<r.length;p++)r[p]=0}else{i=Math.max(0,i),n.integerLen=1,r.length=Math.max(1,o=s+1),r[0]=0;for(let p=1;p<o;p++)r[p]=0}if(c>=5)if(o-1<0){for(let p=0;p>o;p--)r.unshift(0),n.integerLen++;r.unshift(1),n.integerLen++}else r[o-1]++;for(;i<Math.max(0,s);i++)r.push(0);let l=s!==0,d=e+n.integerLen,f=r.reduceRight(function(p,g,A,R){return g=g+p,R[A]=g<10?g:g-10,l&&(R[A]===0&&A>=d?R.pop():l=!1),g>=10?1:0},0);f&&(r.unshift(f),n.integerLen++)}function kh(n){let e=parseInt(n);if(isNaN(e))throw new H(2305,!1);return e}var Oh=/\s+/,Gy=[],kC=(()=>{class n{_ngEl;_renderer;initialClasses=Gy;rawClass;stateMap=new Map;constructor(t,r){this._ngEl=t,this._renderer=r}set klass(t){this.initialClasses=t!=null?t.trim().split(Oh):Gy}set ngClass(t){this.rawClass=typeof t=="string"?t.trim().split(Oh):t}ngDoCheck(){for(let r of this.initialClasses)this._updateState(r,!0);let t=this.rawClass;if(Array.isArray(t)||t instanceof Set)for(let r of t)this._updateState(r,!0);else if(t!=null)for(let r of Object.keys(t))this._updateState(r,!!t[r]);this._applyStateDiff()}_updateState(t,r){let i=this.stateMap.get(t);i!==void 0?(i.enabled!==r&&(i.changed=!0,i.enabled=r),i.touched=!0):this.stateMap.set(t,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(let t of this.stateMap){let r=t[0],i=t[1];i.changed?(this._toggleClass(r,i.enabled),i.changed=!1):i.touched||(i.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),i.touched=!1}}_toggleClass(t,r){t=t.trim(),t.length>0&&t.split(Oh).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}static \u0275fac=function(r){return new(r||n)(ne(Ee),ne(Bt))};static \u0275dir=Q({type:n,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"}})}return n})();var qc=class{$implicit;ngForOf;index;count;constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},cb=(()=>{class n{_viewContainer;_template;_differs;set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}_ngForOf=null;_ngForOfDirty=!0;_differ=null;_trackByFn;constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){let t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){let r=this._viewContainer;t.forEachOperation((i,s,o)=>{if(i.previousIndex==null)r.createEmbeddedView(this._template,new qc(i.item,this._ngForOf,-1,-1),o===null?void 0:o);else if(o==null)r.remove(s===null?void 0:s);else if(s!==null){let c=r.get(s);r.move(c,o),Wy(c,i)}});for(let i=0,s=r.length;i<s;i++){let c=r.get(i).context;c.index=i,c.count=s,c.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{let s=r.get(i.currentIndex);Wy(s,i)})}static ngTemplateContextGuard(t,r){return!0}static \u0275fac=function(r){return new(r||n)(ne(ji),ne(yh),ne(Oy))};static \u0275dir=Q({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}})}return n})();function Wy(n,e){n.context.$implicit=e.item}var OC=(()=>{class n{_viewContainer;_context=new Gc;_thenTemplateRef=null;_elseTemplateRef=null;_thenViewRef=null;_elseViewRef=null;constructor(t,r){this._viewContainer=t,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){Ky(t,!1),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){Ky(t,!1),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngIfUseIfTypeGuard;static ngTemplateGuard_ngIf;static ngTemplateContextGuard(t,r){return!0}static \u0275fac=function(r){return new(r||n)(ne(ji),ne(yh))};static \u0275dir=Q({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}})}return n})(),Gc=class{$implicit=null;ngIf=null};function Ky(n,e){if(n&&!n.createEmbeddedView)throw new H(2020,!1)}var Vh=(()=>{class n{_viewContainerRef;_viewRef=null;ngTemplateOutletContext=null;ngTemplateOutlet=null;ngTemplateOutletInjector=null;constructor(t){this._viewContainerRef=t}ngOnChanges(t){if(this._shouldRecreateView(t)){let r=this._viewContainerRef;if(this._viewRef&&r.remove(r.indexOf(this._viewRef)),!this.ngTemplateOutlet){this._viewRef=null;return}let i=this._createContextForwardProxy();this._viewRef=r.createEmbeddedView(this.ngTemplateOutlet,i,{injector:this.ngTemplateOutletInjector??void 0})}}_shouldRecreateView(t){return!!t.ngTemplateOutlet||!!t.ngTemplateOutletInjector}_createContextForwardProxy(){return new Proxy({},{set:(t,r,i)=>this.ngTemplateOutletContext?Reflect.set(this.ngTemplateOutletContext,r,i):!1,get:(t,r,i)=>{if(this.ngTemplateOutletContext)return Reflect.get(this.ngTemplateOutletContext,r,i)}})}static \u0275fac=function(r){return new(r||n)(ne(ji))};static \u0275dir=Q({type:n,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},features:[xt]})}return n})();function lb(n,e){return new H(2100,!1)}var FC="mediumDate",ub=new L(""),db=new L(""),LC=(()=>{class n{locale;defaultTimezone;defaultOptions;constructor(t,r,i){this.locale=t,this.defaultTimezone=r,this.defaultOptions=i}transform(t,r,i,s){if(t==null||t===""||t!==t)return null;try{let o=r??this.defaultOptions?.dateFormat??FC,c=i??this.defaultOptions?.timezone??this.defaultTimezone??void 0;return ib(t,o,s||this.locale,c)}catch(o){throw lb(n,o.message)}}static \u0275fac=function(r){return new(r||n)(ne(Ah,16),ne(ub,24),ne(db,24))};static \u0275pipe=Eh({name:"date",type:n,pure:!0})}return n})();var VC=(()=>{class n{_locale;constructor(t){this._locale=t}transform(t,r,i){if(!UC(t))return null;i||=this._locale;try{let s=BC(t);return ab(s,i,r)}catch(s){throw lb(n,s.message)}}static \u0275fac=function(r){return new(r||n)(ne(Ah,16))};static \u0275pipe=Eh({name:"number",type:n,pure:!0})}return n})();function UC(n){return!(n==null||n===""||n!==n)}function BC(n){if(typeof n=="string"&&!isNaN(Number(n)-parseFloat(n)))return Number(n);if(typeof n!="number")throw new H(2309,!1);return n}var hb=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=me({type:n});static \u0275inj=fe({})}return n})();function Po(n,e){e=encodeURIComponent(e);for(let t of n.split(";")){let r=t.indexOf("="),[i,s]=r==-1?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}var Zr=class{};var Uh="browser";function fb(n){return n===Uh}var Mo=class{_doc;constructor(e){this._doc=e}manager},Wc=(()=>{class n extends Mo{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i,s){return t.addEventListener(r,i,s),()=>this.removeEventListener(t,r,i,s)}removeEventListener(t,r,i,s){return t.removeEventListener(r,i,s)}static \u0275fac=function(r){return new(r||n)(W(ie))};static \u0275prov=O({token:n,factory:n.\u0275fac})}return n})(),Yc=new L(""),Hh=(()=>{class n{_zone;_plugins;_eventNameToPlugin=new Map;constructor(t,r){this._zone=r,t.forEach(o=>{o.manager=this});let i=t.filter(o=>!(o instanceof Wc));this._plugins=i.slice().reverse();let s=t.find(o=>o instanceof Wc);s&&this._plugins.push(s)}addEventListener(t,r,i,s){return this._findPluginFor(r).addEventListener(t,r,i,s)}getZone(){return this._zone}_findPluginFor(t){let r=this._eventNameToPlugin.get(t);if(r)return r;if(r=this._plugins.find(s=>s.supports(t)),!r)throw new H(5101,!1);return this._eventNameToPlugin.set(t,r),r}static \u0275fac=function(r){return new(r||n)(W(Yc),W(Z))};static \u0275prov=O({token:n,factory:n.\u0275fac})}return n})(),Bh="ng-app-id";function mb(n){for(let e of n)e.remove()}function pb(n,e){let t=e.createElement("style");return t.textContent=n,t}function $C(n,e,t,r){let i=n.head?.querySelectorAll(`style[${Bh}="${e}"],link[${Bh}="${e}"]`);if(i)for(let s of i)s.removeAttribute(Bh),s instanceof HTMLLinkElement?r.set(s.href.slice(s.href.lastIndexOf("/")+1),{usage:0,elements:[s]}):s.textContent&&t.set(s.textContent,{usage:0,elements:[s]})}function $h(n,e){let t=e.createElement("link");return t.setAttribute("rel","stylesheet"),t.setAttribute("href",n),t}var qh=(()=>{class n{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;constructor(t,r,i,s={}){this.doc=t,this.appId=r,this.nonce=i,$C(t,r,this.inline,this.external),this.hosts.add(t.head)}addStyles(t,r){for(let i of t)this.addUsage(i,this.inline,pb);r?.forEach(i=>this.addUsage(i,this.external,$h))}removeStyles(t,r){for(let i of t)this.removeUsage(i,this.inline);r?.forEach(i=>this.removeUsage(i,this.external))}addUsage(t,r,i){let s=r.get(t);s?s.usage++:r.set(t,{usage:1,elements:[...this.hosts].map(o=>this.addElement(o,i(t,this.doc)))})}removeUsage(t,r){let i=r.get(t);i&&(i.usage--,i.usage<=0&&(mb(i.elements),r.delete(t)))}ngOnDestroy(){for(let[,{elements:t}]of[...this.inline,...this.external])mb(t);this.hosts.clear()}addHost(t){this.hosts.add(t);for(let[r,{elements:i}]of this.inline)i.push(this.addElement(t,pb(r,this.doc)));for(let[r,{elements:i}]of this.external)i.push(this.addElement(t,$h(r,this.doc)))}removeHost(t){this.hosts.delete(t)}addElement(t,r){return this.nonce&&r.setAttribute("nonce",this.nonce),t.appendChild(r)}static \u0275fac=function(r){return new(r||n)(W(ie),W(Yr),W(bo,8),W(fr))};static \u0275prov=O({token:n,factory:n.\u0275fac})}return n})(),jh={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},Gh=/%COMP%/g;var _b="%COMP%",zC=`_nghost-${_b}`,HC=`_ngcontent-${_b}`,qC=!0,GC=new L("",{providedIn:"root",factory:()=>qC});function WC(n){return HC.replace(Gh,n)}function KC(n){return zC.replace(Gh,n)}function vb(n,e){return e.map(t=>t.replace(Gh,n))}var Wh=(()=>{class n{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(t,r,i,s,o,c,l=null,d=null){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=s,this.doc=o,this.ngZone=c,this.nonce=l,this.tracingService=d,this.platformIsServer=!1,this.defaultRenderer=new No(t,o,c,this.platformIsServer,this.tracingService)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;let i=this.getOrCreateRenderer(t,r);return i instanceof Kc?i.applyToHost(t):i instanceof ko&&i.applyStyles(),i}getOrCreateRenderer(t,r){let i=this.rendererByCompId,s=i.get(r.id);if(!s){let o=this.doc,c=this.ngZone,l=this.eventManager,d=this.sharedStylesHost,f=this.removeStylesOnCompDestroy,p=this.platformIsServer,g=this.tracingService;switch(r.encapsulation){case vh.Emulated:s=new Kc(l,d,r,this.appId,f,o,c,p,g);break;case vh.ShadowDom:return new zh(l,d,t,r,o,c,this.nonce,p,g);default:s=new ko(l,d,r,f,o,c,p,g);break}i.set(r.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(t){this.rendererByCompId.delete(t)}static \u0275fac=function(r){return new(r||n)(W(Hh),W(qh),W(Yr),W(GC),W(ie),W(Z),W(bo),W(Ty,8))};static \u0275prov=O({token:n,factory:n.\u0275fac})}return n})(),No=class{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(e,t,r,i,s){this.eventManager=e,this.doc=t,this.ngZone=r,this.platformIsServer=i,this.tracingService=s}destroy(){}destroyNode=null;createElement(e,t){return t?this.doc.createElementNS(jh[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(gb(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(gb(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){t.remove()}selectRootElement(e,t){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new H(-5104,!1);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;let s=jh[i];s?e.setAttributeNS(s,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){let i=jh[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(Bi.DashCase|Bi.Important)?e.style.setProperty(t,r,i&Bi.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&Bi.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e!=null&&(e[t]=r)}setValue(e,t){e.nodeValue=t}listen(e,t,r,i){if(typeof e=="string"&&(e=jt().getGlobalEventTarget(this.doc,e),!e))throw new H(5102,!1);let s=this.decoratePreventDefault(r);return this.tracingService?.wrapEventListener&&(s=this.tracingService.wrapEventListener(e,t,s)),this.eventManager.addEventListener(e,t,s,i)}decoratePreventDefault(e){return t=>{if(t==="__ngUnwrap__")return e;e(t)===!1&&t.preventDefault()}}};function gb(n){return n.tagName==="TEMPLATE"&&n.content!==void 0}var zh=class extends No{sharedStylesHost;hostEl;shadowRoot;constructor(e,t,r,i,s,o,c,l,d){super(e,s,o,l,d),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let f=i.styles;f=vb(i.id,f);for(let g of f){let A=document.createElement("style");c&&A.setAttribute("nonce",c),A.textContent=g,this.shadowRoot.appendChild(A)}let p=i.getExternalStyles?.();if(p)for(let g of p){let A=$h(g,s);c&&A.setAttribute("nonce",c),this.shadowRoot.appendChild(A)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(null,t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},ko=class extends No{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(e,t,r,i,s,o,c,l,d){super(e,s,o,c,l),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=i;let f=r.styles;this.styles=d?vb(d,f):f,this.styleUrls=r.getExternalStyles?.(d)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&Iy.size===0&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},Kc=class extends ko{contentAttr;hostAttr;constructor(e,t,r,i,s,o,c,l,d){let f=i+"-"+r.id;super(e,t,r,s,o,c,l,d,f),this.contentAttr=WC(f),this.hostAttr=KC(f)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){let r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}};var Qc=class n extends Ao{supportsDOMEvents=!0;static makeCurrent(){Sh(new n)}onAndCancel(e,t,r,i){return e.addEventListener(t,r,i),()=>{e.removeEventListener(t,r,i)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.remove()}createElement(e,t){return t=t||this.getDefaultDocument(),t.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return t==="window"?window:t==="document"?e:t==="body"?e.body:null}getBaseHref(e){let t=QC();return t==null?null:XC(t)}resetBaseElement(){Oo=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return Po(document.cookie,e)}},Oo=null;function QC(){return Oo=Oo||document.head.querySelector("base"),Oo?Oo.getAttribute("href"):null}function XC(n){return new URL(n,document.baseURI).pathname}var JC=(()=>{class n{build(){return new XMLHttpRequest}static \u0275fac=function(r){return new(r||n)};static \u0275prov=O({token:n,factory:n.\u0275fac})}return n})(),yb=["alt","control","meta","shift"],ZC={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},eS={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey},bb=(()=>{class n extends Mo{constructor(t){super(t)}supports(t){return n.parseEventName(t)!=null}addEventListener(t,r,i,s){let o=n.parseEventName(r),c=n.eventCallback(o.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>jt().onAndCancel(t,o.domEventName,c,s))}static parseEventName(t){let r=t.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let s=n._normalizeKey(r.pop()),o="",c=r.indexOf("code");if(c>-1&&(r.splice(c,1),o="code."),yb.forEach(d=>{let f=r.indexOf(d);f>-1&&(r.splice(f,1),o+=d+".")}),o+=s,r.length!=0||s.length===0)return null;let l={};return l.domEventName=i,l.fullKey=o,l}static matchEventFullKeyCode(t,r){let i=ZC[t.key]||t.key,s="";return r.indexOf("code.")>-1&&(i=t.code,s="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),yb.forEach(o=>{if(o!==i){let c=eS[o];c(t)&&(s+=o+".")}}),s+=i,s===r)}static eventCallback(t,r,i){return s=>{n.matchEventFullKeyCode(s,t)&&i.runGuarded(()=>r(s))}}static _normalizeKey(t){return t==="esc"?"escape":t}static \u0275fac=function(r){return new(r||n)(W(ie))};static \u0275prov=O({token:n,factory:n.\u0275fac})}return n})();function tS(n,e,t){let r=N({rootComponent:n,platformRef:t?.platformRef},nS(e));return Fy(r)}function nS(n){return{appProviders:[...aS,...n?.providers??[]],platformProviders:oS}}function rS(){Qc.makeCurrent()}function iS(){return new dr}function sS(){return fy(document),document}var oS=[{provide:fr,useValue:Uh},{provide:my,useValue:rS,multi:!0},{provide:ie,useFactory:sS}];var aS=[{provide:ly,useValue:"root"},{provide:dr,useFactory:iS},{provide:Yc,useClass:Wc,multi:!0,deps:[ie]},{provide:Yc,useClass:bb,multi:!0,deps:[ie]},Wh,qh,Hh,{provide:mr,useExisting:Wh},{provide:Zr,useClass:JC},[]];var Ki=class{},Fo=class{},_r=class n{headers;normalizedNames=new Map;lazyInit;lazyUpdate=null;constructor(e){e?typeof e=="string"?this.lazyInit=()=>{this.headers=new Map,e.split(`
`).forEach(t=>{let r=t.indexOf(":");if(r>0){let i=t.slice(0,r),s=t.slice(r+1).trim();this.addHeaderEntry(i,s)}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((t,r)=>{this.addHeaderEntry(r,t)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([t,r])=>{this.setHeaderEntries(t,r)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();let t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof n?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){let t=new n;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof n?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){let t=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if(typeof r=="string"&&(r=[r]),r.length===0)return;this.maybeSetNormalizedName(e.name,t);let i=(e.op==="a"?this.headers.get(t):void 0)||[];i.push(...r),this.headers.set(t,i);break;case"d":let s=e.value;if(!s)this.headers.delete(t),this.normalizedNames.delete(t);else{let o=this.headers.get(t);if(!o)return;o=o.filter(c=>s.indexOf(c)===-1),o.length===0?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,o)}break}}addHeaderEntry(e,t){let r=e.toLowerCase();this.maybeSetNormalizedName(e,r),this.headers.has(r)?this.headers.get(r).push(t):this.headers.set(r,[t])}setHeaderEntries(e,t){let r=(Array.isArray(t)?t:[t]).map(s=>s.toString()),i=e.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(e,i)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}};var Jc=class{encodeKey(e){return Eb(e)}encodeValue(e){return Eb(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}};function cS(n,e){let t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(i=>{let s=i.indexOf("="),[o,c]=s==-1?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,s)),e.decodeValue(i.slice(s+1))],l=t.get(o)||[];l.push(c),t.set(o,l)}),t}var lS=/%(\d[a-f0-9])/gi,uS={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function Eb(n){return encodeURIComponent(n).replace(lS,(e,t)=>uS[t]??e)}function Xc(n){return`${n}`}var Ln=class n{map;encoder;updates=null;cloneFrom=null;constructor(e={}){if(this.encoder=e.encoder||new Jc,e.fromString){if(e.fromObject)throw new H(2805,!1);this.map=cS(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{let r=e.fromObject[t],i=Array.isArray(r)?r.map(Xc):[Xc(r)];this.map.set(t,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();let t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){let t=[];return Object.keys(e).forEach(r=>{let i=e[r];Array.isArray(i)?i.forEach(s=>{t.push({param:r,value:s,op:"a"})}):t.push({param:r,value:i,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{let t=this.encoder.encodeKey(e);return this.map.get(e).map(r=>t+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>e!=="").join("&")}clone(e){let t=new n({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":let t=(e.op==="a"?this.map.get(e.param):void 0)||[];t.push(Xc(e.value)),this.map.set(e.param,t);break;case"d":if(e.value!==void 0){let r=this.map.get(e.param)||[],i=r.indexOf(Xc(e.value));i!==-1&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}else{this.map.delete(e.param);break}}}),this.cloneFrom=this.updates=null)}};var Zc=class{map=new Map;set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}};function dS(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function wb(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function Ib(n){return typeof Blob<"u"&&n instanceof Blob}function Tb(n){return typeof FormData<"u"&&n instanceof FormData}function hS(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}var Ab="Content-Type",Db="Accept",Cb="X-Request-URL",Sb="text/plain",Rb="application/json",fS=`${Rb}, ${Sb}, */*`,Gi=class n{url;body=null;headers;context;reportProgress=!1;withCredentials=!1;credentials;keepalive=!1;cache;priority;mode;redirect;referrer;integrity;responseType="json";method;params;urlWithParams;transferCache;timeout;constructor(e,t,r,i){this.url=t,this.method=e.toUpperCase();let s;if(dS(this.method)||i?(this.body=r!==void 0?r:null,s=i):s=r,s){if(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,this.keepalive=!!s.keepalive,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params),s.priority&&(this.priority=s.priority),s.cache&&(this.cache=s.cache),s.credentials&&(this.credentials=s.credentials),typeof s.timeout=="number"){if(s.timeout<1||!Number.isInteger(s.timeout))throw new H(2822,"");this.timeout=s.timeout}s.mode&&(this.mode=s.mode),s.redirect&&(this.redirect=s.redirect),s.integrity&&(this.integrity=s.integrity),s.referrer&&(this.referrer=s.referrer),this.transferCache=s.transferCache}if(this.headers??=new _r,this.context??=new Zc,!this.params)this.params=new Ln,this.urlWithParams=t;else{let o=this.params.toString();if(o.length===0)this.urlWithParams=t;else{let c=t.indexOf("?"),l=c===-1?"?":c<t.length-1?"&":"";this.urlWithParams=t+l+o}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||wb(this.body)||Ib(this.body)||Tb(this.body)||hS(this.body)?this.body:this.body instanceof Ln?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||Tb(this.body)?null:Ib(this.body)?this.body.type||null:wb(this.body)?null:typeof this.body=="string"?Sb:this.body instanceof Ln?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?Rb:null}clone(e={}){let t=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,s=e.keepalive??this.keepalive,o=e.priority||this.priority,c=e.cache||this.cache,l=e.mode||this.mode,d=e.redirect||this.redirect,f=e.credentials||this.credentials,p=e.referrer||this.referrer,g=e.integrity||this.integrity,A=e.transferCache??this.transferCache,R=e.timeout??this.timeout,M=e.body!==void 0?e.body:this.body,S=e.withCredentials??this.withCredentials,F=e.reportProgress??this.reportProgress,U=e.headers||this.headers,j=e.params||this.params,G=e.context??this.context;return e.setHeaders!==void 0&&(U=Object.keys(e.setHeaders).reduce((ve,re)=>ve.set(re,e.setHeaders[re]),U)),e.setParams&&(j=Object.keys(e.setParams).reduce((ve,re)=>ve.set(re,e.setParams[re]),j)),new n(t,r,M,{params:j,headers:U,context:G,reportProgress:F,responseType:i,withCredentials:S,transferCache:A,keepalive:s,cache:c,priority:o,timeout:R,mode:l,redirect:d,credentials:f,referrer:p,integrity:g})}},ei=(function(n){return n[n.Sent=0]="Sent",n[n.UploadProgress=1]="UploadProgress",n[n.ResponseHeader=2]="ResponseHeader",n[n.DownloadProgress=3]="DownloadProgress",n[n.Response=4]="Response",n[n.User=5]="User",n})(ei||{}),Yi=class{headers;status;statusText;url;ok;type;redirected;constructor(e,t=200,r="OK"){this.headers=e.headers||new _r,this.status=e.status!==void 0?e.status:t,this.statusText=e.statusText||r,this.url=e.url||null,this.redirected=e.redirected,this.ok=this.status>=200&&this.status<300}},el=class n extends Yi{constructor(e={}){super(e)}type=ei.ResponseHeader;clone(e={}){return new n({headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},Lo=class n extends Yi{body;constructor(e={}){super(e),this.body=e.body!==void 0?e.body:null}type=ei.Response;clone(e={}){return new n({body:e.body!==void 0?e.body:this.body,headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0,redirected:e.redirected??this.redirected})}},Wi=class extends Yi{name="HttpErrorResponse";message;error;ok=!1;constructor(e){super(e,0,"Unknown Error"),this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${e.url||"(unknown url)"}`:this.message=`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}},mS=200,pS=204;function Kh(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials,credentials:n.credentials,transferCache:n.transferCache,timeout:n.timeout,keepalive:n.keepalive,priority:n.priority,cache:n.cache,mode:n.mode,redirect:n.redirect,integrity:n.integrity,referrer:n.referrer}}var nl=(()=>{class n{handler;constructor(t){this.handler=t}request(t,r,i={}){let s;if(t instanceof Gi)s=t;else{let l;i.headers instanceof _r?l=i.headers:l=new _r(i.headers);let d;i.params&&(i.params instanceof Ln?d=i.params:d=new Ln({fromObject:i.params})),s=new Gi(t,r,i.body!==void 0?i.body:null,{headers:l,context:i.context,params:d,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials,transferCache:i.transferCache,keepalive:i.keepalive,priority:i.priority,cache:i.cache,mode:i.mode,redirect:i.redirect,credentials:i.credentials,referrer:i.referrer,integrity:i.integrity,timeout:i.timeout})}let o=$(s).pipe(Kr(l=>this.handler.handle(l)));if(t instanceof Gi||i.observe==="events")return o;let c=o.pipe(dt(l=>l instanceof Lo));switch(i.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return c.pipe(Y(l=>{if(l.body!==null&&!(l.body instanceof ArrayBuffer))throw new H(2806,!1);return l.body}));case"blob":return c.pipe(Y(l=>{if(l.body!==null&&!(l.body instanceof Blob))throw new H(2807,!1);return l.body}));case"text":return c.pipe(Y(l=>{if(l.body!==null&&typeof l.body!="string")throw new H(2808,!1);return l.body}));case"json":default:return c.pipe(Y(l=>l.body))}case"response":return c;default:throw new H(2809,!1)}}delete(t,r={}){return this.request("DELETE",t,r)}get(t,r={}){return this.request("GET",t,r)}head(t,r={}){return this.request("HEAD",t,r)}jsonp(t,r){return this.request("JSONP",t,{params:new Ln().append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,r={}){return this.request("OPTIONS",t,r)}patch(t,r,i={}){return this.request("PATCH",t,Kh(i,r))}post(t,r,i={}){return this.request("POST",t,Kh(i,r))}put(t,r,i={}){return this.request("PUT",t,Kh(i,r))}static \u0275fac=function(r){return new(r||n)(W(Ki))};static \u0275prov=O({token:n,factory:n.\u0275fac})}return n})();var gS=new L("");function _S(n,e){return e(n)}function vS(n,e,t){return(r,i)=>Ye(t,()=>e(r,s=>n(s,i)))}var xb=new L(""),Pb=new L(""),Mb=new L("",{providedIn:"root",factory:()=>!0});var tl=(()=>{class n extends Ki{backend;injector;chain=null;pendingTasks=b(Li);contributeToStability=b(Mb);constructor(t,r){super(),this.backend=t,this.injector=r}handle(t){if(this.chain===null){let r=Array.from(new Set([...this.injector.get(xb),...this.injector.get(Pb,[])]));this.chain=r.reduceRight((i,s)=>vS(i,s,this.injector),_S)}if(this.contributeToStability){let r=this.pendingTasks.add();return this.chain(t,i=>this.backend.handle(i)).pipe(lr(r))}else return this.chain(t,r=>this.backend.handle(r))}static \u0275fac=function(r){return new(r||n)(W(Fo),W(Qt))};static \u0275prov=O({token:n,factory:n.\u0275fac})}return n})();var yS=/^\)\]\}',?\n/,bS=RegExp(`^${Cb}:`,"m");function ES(n){return"responseURL"in n&&n.responseURL?n.responseURL:bS.test(n.getAllResponseHeaders())?n.getResponseHeader(Cb):null}var Yh=(()=>{class n{xhrFactory;constructor(t){this.xhrFactory=t}handle(t){if(t.method==="JSONP")throw new H(-2800,!1);let r=this.xhrFactory;return $(null).pipe(ht(()=>new Rt(s=>{let o=r.build();if(o.open(t.method,t.urlWithParams),t.withCredentials&&(o.withCredentials=!0),t.headers.forEach((S,F)=>o.setRequestHeader(S,F.join(","))),t.headers.has(Db)||o.setRequestHeader(Db,fS),!t.headers.has(Ab)){let S=t.detectContentTypeHeader();S!==null&&o.setRequestHeader(Ab,S)}if(t.timeout&&(o.timeout=t.timeout),t.responseType){let S=t.responseType.toLowerCase();o.responseType=S!=="json"?S:"text"}let c=t.serializeBody(),l=null,d=()=>{if(l!==null)return l;let S=o.statusText||"OK",F=new _r(o.getAllResponseHeaders()),U=ES(o)||t.url;return l=new el({headers:F,status:o.status,statusText:S,url:U}),l},f=()=>{let{headers:S,status:F,statusText:U,url:j}=d(),G=null;F!==pS&&(G=typeof o.response>"u"?o.responseText:o.response),F===0&&(F=G?mS:0);let ve=F>=200&&F<300;if(t.responseType==="json"&&typeof G=="string"){let re=G;G=G.replace(yS,"");try{G=G!==""?JSON.parse(G):null}catch(w){G=re,ve&&(ve=!1,G={error:w,text:G})}}ve?(s.next(new Lo({body:G,headers:S,status:F,statusText:U,url:j||void 0})),s.complete()):s.error(new Wi({error:G,headers:S,status:F,statusText:U,url:j||void 0}))},p=S=>{let{url:F}=d(),U=new Wi({error:S,status:o.status||0,statusText:o.statusText||"Unknown Error",url:F||void 0});s.error(U)},g=p;t.timeout&&(g=S=>{let{url:F}=d(),U=new Wi({error:new DOMException("Request timed out","TimeoutError"),status:o.status||0,statusText:o.statusText||"Request timeout",url:F||void 0});s.error(U)});let A=!1,R=S=>{A||(s.next(d()),A=!0);let F={type:ei.DownloadProgress,loaded:S.loaded};S.lengthComputable&&(F.total=S.total),t.responseType==="text"&&o.responseText&&(F.partialText=o.responseText),s.next(F)},M=S=>{let F={type:ei.UploadProgress,loaded:S.loaded};S.lengthComputable&&(F.total=S.total),s.next(F)};return o.addEventListener("load",f),o.addEventListener("error",p),o.addEventListener("timeout",g),o.addEventListener("abort",p),t.reportProgress&&(o.addEventListener("progress",R),c!==null&&o.upload&&o.upload.addEventListener("progress",M)),o.send(c),s.next({type:ei.Sent}),()=>{o.removeEventListener("error",p),o.removeEventListener("abort",p),o.removeEventListener("load",f),o.removeEventListener("timeout",g),t.reportProgress&&(o.removeEventListener("progress",R),c!==null&&o.upload&&o.upload.removeEventListener("progress",M)),o.readyState!==o.DONE&&o.abort()}})))}static \u0275fac=function(r){return new(r||n)(W(Zr))};static \u0275prov=O({token:n,factory:n.\u0275fac})}return n})(),Nb=new L(""),wS="XSRF-TOKEN",IS=new L("",{providedIn:"root",factory:()=>wS}),TS="X-XSRF-TOKEN",AS=new L("",{providedIn:"root",factory:()=>TS}),Vo=class{},DS=(()=>{class n{doc;cookieName;lastCookieString="";lastToken=null;parseCount=0;constructor(t,r){this.doc=t,this.cookieName=r}getToken(){let t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=Po(t,this.cookieName),this.lastCookieString=t),this.lastToken}static \u0275fac=function(r){return new(r||n)(W(ie),W(IS))};static \u0275prov=O({token:n,factory:n.\u0275fac})}return n})(),CS=/^(?:https?:)?\/\//i;function SS(n,e){if(!b(Nb)||n.method==="GET"||n.method==="HEAD"||CS.test(n.url))return e(n);let t=b(Vo).getToken(),r=b(AS);return t!=null&&!n.headers.has(r)&&(n=n.clone({headers:n.headers.set(r,t)})),e(n)}function RS(...n){let e=[nl,Yh,tl,{provide:Ki,useExisting:tl},{provide:Fo,useFactory:()=>b(gS,{optional:!0})??b(Yh)},{provide:xb,useValue:SS,multi:!0},{provide:Nb,useValue:!0},{provide:Vo,useClass:DS}];for(let t of n)e.push(...t.\u0275providers);return Yt(e)}var kb=(()=>{class n{_doc;constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static \u0275fac=function(r){return new(r||n)(W(ie))};static \u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var Qh=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=O({token:n,factory:function(r){let i=null;return r?i=new(r||n):i=W(NS),i},providedIn:"root"})}return n})(),NS=(()=>{class n extends Qh{_doc;constructor(t){super(),this._doc=t}sanitize(t,r){if(r==null)return null;switch(t){case Pt.NONE:return r;case Pt.HTML:return Ui(r,"HTML")?Vi(r):wy(this._doc,String(r)).toString();case Pt.STYLE:return Ui(r,"Style")?Vi(r):r;case Pt.SCRIPT:if(Ui(r,"Script"))return Vi(r);throw new H(5200,!1);case Pt.URL:return Ui(r,"URL")?Vi(r):Ey(String(r));case Pt.RESOURCE_URL:if(Ui(r,"ResourceURL"))return Vi(r);throw new H(5201,!1);default:throw new H(5202,!1)}}bypassSecurityTrustHtml(t){return gy(t)}bypassSecurityTrustStyle(t){return _y(t)}bypassSecurityTrustScript(t){return vy(t)}bypassSecurityTrustUrl(t){return yy(t)}bypassSecurityTrustResourceUrl(t){return by(t)}static \u0275fac=function(r){return new(r||n)(W(ie))};static \u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var X="primary",Zo=Symbol("RouteTitle"),tf=class{params;constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}};function ri(n){return new tf(n)}function zb(n,e,t){let r=t.path.split("/");if(r.length>n.length||t.pathMatch==="full"&&(e.hasChildren()||r.length<n.length))return null;let i={};for(let s=0;s<r.length;s++){let o=r[s],c=n[s];if(o[0]===":")i[o.substring(1)]=c;else if(o!==c.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function kS(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!_n(n[t],e[t]))return!1;return!0}function _n(n,e){let t=n?nf(n):void 0,r=e?nf(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let s=0;s<t.length;s++)if(i=t[s],!Hb(n[i],e[i]))return!1;return!0}function nf(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function Hb(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;let t=[...n].sort(),r=[...e].sort();return t.every((i,s)=>r[s]===i)}else return n===e}function qb(n){return n.length>0?n[n.length-1]:null}function Bn(n){return Jv(n)?n:Eo(n)?yt(Promise.resolve(n)):$(n)}var OS={exact:Wb,subset:Kb},Gb={exact:FS,subset:LS,ignored:()=>!0};function Fb(n,e,t){return OS[t.paths](n.root,e.root,t.matrixParams)&&Gb[t.queryParams](n.queryParams,e.queryParams)&&!(t.fragment==="exact"&&n.fragment!==e.fragment)}function FS(n,e){return _n(n,e)}function Wb(n,e,t){if(!ti(n.segments,e.segments)||!sl(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!n.children[r]||!Wb(n.children[r],e.children[r],t))return!1;return!0}function LS(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>Hb(n[t],e[t]))}function Kb(n,e,t){return Yb(n,e,e.segments,t)}function Yb(n,e,t,r){if(n.segments.length>t.length){let i=n.segments.slice(0,t.length);return!(!ti(i,t)||e.hasChildren()||!sl(i,t,r))}else if(n.segments.length===t.length){if(!ti(n.segments,t)||!sl(n.segments,t,r))return!1;for(let i in e.children)if(!n.children[i]||!Kb(n.children[i],e.children[i],r))return!1;return!0}else{let i=t.slice(0,n.segments.length),s=t.slice(n.segments.length);return!ti(n.segments,i)||!sl(n.segments,i,r)||!n.children[X]?!1:Yb(n.children[X],e,s,r)}}function sl(n,e,t){return e.every((r,i)=>Gb[t](n[i].parameters,r.parameters))}var yn=class{root;queryParams;fragment;_queryParamMap;constructor(e=new de([],{}),t={},r=null){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap??=ri(this.queryParams),this._queryParamMap}toString(){return BS.serialize(this)}},de=class{segments;children;parent=null;constructor(e,t){this.segments=e,this.children=t,Object.values(t).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return ol(this)}},vr=class{path;parameters;_parameterMap;constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap??=ri(this.parameters),this._parameterMap}toString(){return Xb(this)}};function VS(n,e){return ti(n,e)&&n.every((t,r)=>_n(t.parameters,e[r].parameters))}function ti(n,e){return n.length!==e.length?!1:n.every((t,r)=>t.path===e[r].path)}function US(n,e){let t=[];return Object.entries(n.children).forEach(([r,i])=>{r===X&&(t=t.concat(e(i,r)))}),Object.entries(n.children).forEach(([r,i])=>{r!==X&&(t=t.concat(e(i,r)))}),t}var ea=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=O({token:n,factory:()=>new ii,providedIn:"root"})}return n})(),ii=class{parse(e){let t=new sf(e);return new yn(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){let t=`/${Uo(e.root,!0)}`,r=zS(e.queryParams),i=typeof e.fragment=="string"?`#${jS(e.fragment)}`:"";return`${t}${r}${i}`}},BS=new ii;function ol(n){return n.segments.map(e=>Xb(e)).join("/")}function Uo(n,e){if(!n.hasChildren())return ol(n);if(e){let t=n.children[X]?Uo(n.children[X],!1):"",r=[];return Object.entries(n.children).forEach(([i,s])=>{i!==X&&r.push(`${i}:${Uo(s,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}else{let t=US(n,(r,i)=>i===X?[Uo(n.children[X],!1)]:[`${i}:${Uo(r,!1)}`]);return Object.keys(n.children).length===1&&n.children[X]!=null?`${ol(n)}/${t[0]}`:`${ol(n)}/(${t.join("//")})`}}function Qb(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function rl(n){return Qb(n).replace(/%3B/gi,";")}function jS(n){return encodeURI(n)}function rf(n){return Qb(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function al(n){return decodeURIComponent(n)}function Lb(n){return al(n.replace(/\+/g,"%20"))}function Xb(n){return`${rf(n.path)}${$S(n.parameters)}`}function $S(n){return Object.entries(n).map(([e,t])=>`;${rf(e)}=${rf(t)}`).join("")}function zS(n){let e=Object.entries(n).map(([t,r])=>Array.isArray(r)?r.map(i=>`${rl(t)}=${rl(i)}`).join("&"):`${rl(t)}=${rl(r)}`).filter(t=>t);return e.length?`?${e.join("&")}`:""}var HS=/^[^\/()?;#]+/;function Xh(n){let e=n.match(HS);return e?e[0]:""}var qS=/^[^\/()?;=#]+/;function GS(n){let e=n.match(qS);return e?e[0]:""}var WS=/^[^=?&#]+/;function KS(n){let e=n.match(WS);return e?e[0]:""}var YS=/^[^&#]+/;function QS(n){let e=n.match(YS);return e?e[0]:""}var sf=class{url;remaining;constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new de([],{}):new de([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[X]=new de(e,t)),r}parseSegment(){let e=Xh(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new H(4009,!1);return this.capture(e),new vr(al(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let t=GS(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let i=Xh(this.remaining);i&&(r=i,this.capture(r))}e[al(t)]=al(r)}parseQueryParam(e){let t=KS(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let o=QS(this.remaining);o&&(r=o,this.capture(r))}let i=Lb(t),s=Lb(r);if(e.hasOwnProperty(i)){let o=e[i];Array.isArray(o)||(o=[o],e[i]=o),o.push(s)}else e[i]=s}parseParens(e){let t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=Xh(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new H(4010,!1);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=X);let o=this.parseChildren();t[s??X]=Object.keys(o).length===1&&o[X]?o[X]:new de([],o),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new H(4011,!1)}};function Jb(n){return n.segments.length>0?new de([],{[X]:n}):n}function Zb(n){let e={};for(let[r,i]of Object.entries(n.children)){let s=Zb(i);if(r===X&&s.segments.length===0&&s.hasChildren())for(let[o,c]of Object.entries(s.children))e[o]=c;else(s.segments.length>0||s.hasChildren())&&(e[r]=s)}let t=new de(n.segments,e);return XS(t)}function XS(n){if(n.numberOfChildren===1&&n.children[X]){let e=n.children[X];return new de(n.segments.concat(e.segments),e.children)}return n}function es(n){return n instanceof yn}function eE(n,e,t=null,r=null){let i=tE(n);return nE(i,e,t,r)}function tE(n){let e;function t(s){let o={};for(let l of s.children){let d=t(l);o[l.outlet]=d}let c=new de(s.url,o);return s===n&&(e=c),c}let r=t(n.root),i=Jb(r);return e??i}function nE(n,e,t,r){let i=n;for(;i.parent;)i=i.parent;if(e.length===0)return Jh(i,i,i,t,r);let s=JS(e);if(s.toRoot())return Jh(i,i,new de([],{}),t,r);let o=ZS(s,i,n),c=o.processChildren?jo(o.segmentGroup,o.index,s.commands):iE(o.segmentGroup,o.index,s.commands);return Jh(i,o.segmentGroup,c,t,r)}function cl(n){return typeof n=="object"&&n!=null&&!n.outlets&&!n.segmentPath}function Ho(n){return typeof n=="object"&&n!=null&&n.outlets}function Jh(n,e,t,r,i){let s={};r&&Object.entries(r).forEach(([l,d])=>{s[l]=Array.isArray(d)?d.map(f=>`${f}`):`${d}`});let o;n===e?o=t:o=rE(n,e,t);let c=Jb(Zb(o));return new yn(c,s,i)}function rE(n,e,t){let r={};return Object.entries(n.children).forEach(([i,s])=>{s===e?r[i]=t:r[i]=rE(s,e,t)}),new de(n.segments,r)}var ll=class{isAbsolute;numberOfDoubleDots;commands;constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&cl(r[0]))throw new H(4003,!1);let i=r.find(Ho);if(i&&i!==qb(r))throw new H(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function JS(n){if(typeof n[0]=="string"&&n.length===1&&n[0]==="/")return new ll(!0,0,n);let e=0,t=!1,r=n.reduce((i,s,o)=>{if(typeof s=="object"&&s!=null){if(s.outlets){let c={};return Object.entries(s.outlets).forEach(([l,d])=>{c[l]=typeof d=="string"?d.split("/"):d}),[...i,{outlets:c}]}if(s.segmentPath)return[...i,s.segmentPath]}return typeof s!="string"?[...i,s]:o===0?(s.split("/").forEach((c,l)=>{l==0&&c==="."||(l==0&&c===""?t=!0:c===".."?e++:c!=""&&i.push(c))}),i):[...i,s]},[]);return new ll(t,e,r)}var Ji=class{segmentGroup;processChildren;index;constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}};function ZS(n,e,t){if(n.isAbsolute)return new Ji(e,!0,0);if(!t)return new Ji(e,!1,NaN);if(t.parent===null)return new Ji(t,!0,0);let r=cl(n.commands[0])?0:1,i=t.segments.length-1+r;return eR(t,i,n.numberOfDoubleDots)}function eR(n,e,t){let r=n,i=e,s=t;for(;s>i;){if(s-=i,r=r.parent,!r)throw new H(4005,!1);i=r.segments.length}return new Ji(r,!1,i-s)}function tR(n){return Ho(n[0])?n[0].outlets:{[X]:n}}function iE(n,e,t){if(n??=new de([],{}),n.segments.length===0&&n.hasChildren())return jo(n,e,t);let r=nR(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){let s=new de(n.segments.slice(0,r.pathIndex),{});return s.children[X]=new de(n.segments.slice(r.pathIndex),n.children),jo(s,0,i)}else return r.match&&i.length===0?new de(n.segments,{}):r.match&&!n.hasChildren()?of(n,e,t):r.match?jo(n,0,i):of(n,e,t)}function jo(n,e,t){if(t.length===0)return new de(n.segments,{});{let r=tR(t),i={};if(Object.keys(r).some(s=>s!==X)&&n.children[X]&&n.numberOfChildren===1&&n.children[X].segments.length===0){let s=jo(n.children[X],e,t);return new de(n.segments,s.children)}return Object.entries(r).forEach(([s,o])=>{typeof o=="string"&&(o=[o]),o!==null&&(i[s]=iE(n.children[s],e,o))}),Object.entries(n.children).forEach(([s,o])=>{r[s]===void 0&&(i[s]=o)}),new de(n.segments,i)}}function nR(n,e,t){let r=0,i=e,s={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return s;let o=n.segments[i],c=t[r];if(Ho(c))break;let l=`${c}`,d=r<t.length-1?t[r+1]:null;if(i>0&&l===void 0)break;if(l&&d&&typeof d=="object"&&d.outlets===void 0){if(!Ub(l,d,o))return s;r+=2}else{if(!Ub(l,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function of(n,e,t){let r=n.segments.slice(0,e),i=0;for(;i<t.length;){let s=t[i];if(Ho(s)){let l=rR(s.outlets);return new de(r,l)}if(i===0&&cl(t[0])){let l=n.segments[e];r.push(new vr(l.path,Vb(t[0]))),i++;continue}let o=Ho(s)?s.outlets[X]:`${s}`,c=i<t.length-1?t[i+1]:null;o&&c&&cl(c)?(r.push(new vr(o,Vb(c))),i+=2):(r.push(new vr(o,{})),i++)}return new de(r,{})}function rR(n){let e={};return Object.entries(n).forEach(([t,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[t]=of(new de([],{}),0,r))}),e}function Vb(n){let e={};return Object.entries(n).forEach(([t,r])=>e[t]=`${r}`),e}function Ub(n,e,t){return n==t.path&&_n(e,t.parameters)}var $o="imperative",ze=(function(n){return n[n.NavigationStart=0]="NavigationStart",n[n.NavigationEnd=1]="NavigationEnd",n[n.NavigationCancel=2]="NavigationCancel",n[n.NavigationError=3]="NavigationError",n[n.RoutesRecognized=4]="RoutesRecognized",n[n.ResolveStart=5]="ResolveStart",n[n.ResolveEnd=6]="ResolveEnd",n[n.GuardsCheckStart=7]="GuardsCheckStart",n[n.GuardsCheckEnd=8]="GuardsCheckEnd",n[n.RouteConfigLoadStart=9]="RouteConfigLoadStart",n[n.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",n[n.ChildActivationStart=11]="ChildActivationStart",n[n.ChildActivationEnd=12]="ChildActivationEnd",n[n.ActivationStart=13]="ActivationStart",n[n.ActivationEnd=14]="ActivationEnd",n[n.Scroll=15]="Scroll",n[n.NavigationSkipped=16]="NavigationSkipped",n})(ze||{}),Ot=class{id;url;constructor(e,t){this.id=e,this.url=t}},si=class extends Ot{type=ze.NavigationStart;navigationTrigger;restoredState;constructor(e,t,r="imperative",i=null){super(e,t),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},Vn=class extends Ot{urlAfterRedirects;type=ze.NavigationEnd;constructor(e,t,r){super(e,t),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},pt=(function(n){return n[n.Redirect=0]="Redirect",n[n.SupersededByNewNavigation=1]="SupersededByNewNavigation",n[n.NoDataFromResolver=2]="NoDataFromResolver",n[n.GuardRejected=3]="GuardRejected",n[n.Aborted=4]="Aborted",n})(pt||{}),qo=(function(n){return n[n.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",n[n.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",n})(qo||{}),vn=class extends Ot{reason;code;type=ze.NavigationCancel;constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Un=class extends Ot{reason;code;type=ze.NavigationSkipped;constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i}},ts=class extends Ot{error;target;type=ze.NavigationError;constructor(e,t,r,i){super(e,t),this.error=r,this.target=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Go=class extends Ot{urlAfterRedirects;state;type=ze.RoutesRecognized;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},ul=class extends Ot{urlAfterRedirects;state;type=ze.GuardsCheckStart;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},dl=class extends Ot{urlAfterRedirects;state;shouldActivate;type=ze.GuardsCheckEnd;constructor(e,t,r,i,s){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},hl=class extends Ot{urlAfterRedirects;state;type=ze.ResolveStart;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},fl=class extends Ot{urlAfterRedirects;state;type=ze.ResolveEnd;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},ml=class{route;type=ze.RouteConfigLoadStart;constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},pl=class{route;type=ze.RouteConfigLoadEnd;constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},gl=class{snapshot;type=ze.ChildActivationStart;constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},_l=class{snapshot;type=ze.ChildActivationEnd;constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},vl=class{snapshot;type=ze.ActivationStart;constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},yl=class{snapshot;type=ze.ActivationEnd;constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var Wo=class{},ns=class{url;navigationBehaviorOptions;constructor(e,t){this.url=e,this.navigationBehaviorOptions=t}};function iR(n){return!(n instanceof Wo)&&!(n instanceof ns)}function sR(n,e){return n.providers&&!n._injector&&(n._injector=bh(n.providers,e,`Route: ${n.path}`)),n._injector??e}function en(n){return n.outlet||X}function oR(n,e){let t=n.filter(r=>en(r)===e);return t.push(...n.filter(r=>en(r)!==e)),t}function ss(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){let t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}var bl=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return ss(this.route?.snapshot)??this.rootInjector}constructor(e){this.rootInjector=e,this.children=new os(this.rootInjector)}},os=(()=>{class n{rootInjector;contexts=new Map;constructor(t){this.rootInjector=t}onChildOutletCreated(t,r){let i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){let r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new bl(this.rootInjector),this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}static \u0275fac=function(r){return new(r||n)(W(Qt))};static \u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),El=class{_root;constructor(e){this._root=e}get root(){return this._root.value}parent(e){let t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){let t=af(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){let t=af(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){let t=cf(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return cf(e,this._root).map(t=>t.value)}};function af(n,e){if(n===e.value)return e;for(let t of e.children){let r=af(n,t);if(r)return r}return null}function cf(n,e){if(n===e.value)return[e];for(let t of e.children){let r=cf(n,t);if(r.length)return r.unshift(e),r}return[]}var kt=class{value;children;constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}};function Xi(n){let e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}var Ko=class extends El{snapshot;constructor(e,t){super(e),this.snapshot=t,gf(this,e)}toString(){return this.snapshot.toString()}};function sE(n){let e=aR(n),t=new vt([new vr("",{})]),r=new vt({}),i=new vt({}),s=new vt({}),o=new vt(""),c=new yr(t,r,s,o,i,X,n,e.root);return c.snapshot=e.root,new Ko(new kt(c,[]),e)}function aR(n){let e={},t={},r={},s=new ni([],e,r,"",t,X,n,null,{});return new Yo("",new kt(s,[]))}var yr=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(e,t,r,i,s,o,c,l){this.urlSubject=e,this.paramsSubject=t,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=s,this.outlet=o,this.component=c,this._futureSnapshot=l,this.title=this.dataSubject?.pipe(Y(d=>d[Zo]))??$(void 0),this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(Y(e=>ri(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(Y(e=>ri(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function wl(n,e,t="emptyOnly"){let r,{routeConfig:i}=n;return e!==null&&(t==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:N(N({},e.params),n.params),data:N(N({},e.data),n.data),resolve:N(N(N(N({},n.data),e.data),i?.data),n._resolvedData)}:r={params:N({},n.params),data:N({},n.data),resolve:N(N({},n.data),n._resolvedData??{})},i&&aE(i)&&(r.resolve[Zo]=i.title),r}var ni=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[Zo]}constructor(e,t,r,i,s,o,c,l,d){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=c,this.routeConfig=l,this._resolve=d}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=ri(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=ri(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),t=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${t}')`}},Yo=class extends El{url;constructor(e,t){super(t),this.url=e,gf(this,t)}toString(){return oE(this._root)}};function gf(n,e){e.value._routerState=n,e.children.forEach(t=>gf(n,t))}function oE(n){let e=n.children.length>0?` { ${n.children.map(oE).join(", ")} } `:"";return`${n.value}${e}`}function Zh(n){if(n.snapshot){let e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,_n(e.queryParams,t.queryParams)||n.queryParamsSubject.next(t.queryParams),e.fragment!==t.fragment&&n.fragmentSubject.next(t.fragment),_n(e.params,t.params)||n.paramsSubject.next(t.params),kS(e.url,t.url)||n.urlSubject.next(t.url),_n(e.data,t.data)||n.dataSubject.next(t.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function lf(n,e){let t=_n(n.params,e.params)&&VS(n.url,e.url),r=!n.parent!=!e.parent;return t&&!r&&(!n.parent||lf(n.parent,e.parent))}function aE(n){return typeof n.title=="string"||n.title===null}var cE=new L(""),_f=(()=>{class n{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=X;activateEvents=new $e;deactivateEvents=new $e;attachEvents=new $e;detachEvents=new $e;routerOutletData=Ny();parentContexts=b(os);location=b(ji);changeDetector=b(Xr);inputBinder=b(Dl,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(t){if(t.name){let{firstChange:r,previousValue:i}=t.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new H(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new H(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new H(4012,!1);this.location.detach();let t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){let t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new H(4013,!1);this._activatedRoute=t;let i=this.location,o=t.snapshot.component,c=this.parentContexts.getOrCreateContext(this.name).children,l=new uf(t,c,i.injector,this.routerOutletData);this.activated=i.createComponent(o,{index:i.length,injector:l,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(r){return new(r||n)};static \u0275dir=Q({type:n,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[xt]})}return n})(),uf=class{route;childContexts;parent;outletData;constructor(e,t,r,i){this.route=e,this.childContexts=t,this.parent=r,this.outletData=i}get(e,t){return e===yr?this.route:e===os?this.childContexts:e===cE?this.outletData:this.parent.get(e,t)}},Dl=new L("");var vf=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275cmp=Pe({type:n,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(r,i){r&1&&Qr(0,"router-outlet")},dependencies:[_f],encapsulation:2})}return n})();function yf(n){let e=n.children&&n.children.map(yf),t=e?_e(N({},n),{children:e}):N({},n);return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==X&&(t.component=vf),t}function cR(n,e,t){let r=Qo(n,e._root,t?t._root:void 0);return new Ko(r,e)}function Qo(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){let r=t.value;r._futureSnapshot=e.value;let i=lR(n,e,t);return new kt(r,i)}else{if(n.shouldAttach(e.value)){let s=n.retrieve(e.value);if(s!==null){let o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(c=>Qo(n,c)),o}}let r=uR(e.value),i=e.children.map(s=>Qo(n,s));return new kt(r,i)}}function lR(n,e,t){return e.children.map(r=>{for(let i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return Qo(n,r,i);return Qo(n,r)})}function uR(n){return new yr(new vt(n.url),new vt(n.params),new vt(n.queryParams),new vt(n.fragment),new vt(n.data),n.outlet,n.component,n)}var rs=class{redirectTo;navigationBehaviorOptions;constructor(e,t){this.redirectTo=e,this.navigationBehaviorOptions=t}},lE="ngNavigationCancelingError";function Il(n,e){let{redirectTo:t,navigationBehaviorOptions:r}=es(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=uE(!1,pt.Redirect);return i.url=t,i.navigationBehaviorOptions=r,i}function uE(n,e){let t=new Error(`NavigationCancelingError: ${n||""}`);return t[lE]=!0,t.cancellationCode=e,t}function dR(n){return dE(n)&&es(n.url)}function dE(n){return!!n&&n[lE]}var hR=(n,e,t,r)=>Y(i=>(new df(e,i.targetRouterState,i.currentRouterState,t,r).activate(n),i)),df=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(e,t,r,i,s){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=s}activate(e){let t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),Zh(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){let i=Xi(t);e.children.forEach(s=>{let o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),Object.values(i).forEach(s=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,t,r){let i=e.value,s=t?t.value:null;if(i===s)if(i.component){let o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(e,t,o.children)}else this.deactivateChildRoutes(e,t,r);else s&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,s=Xi(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,i);if(r&&r.outlet){let o=r.outlet.detach(),c=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:c})}}deactivateRouteAndOutlet(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,s=Xi(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,t,r){let i=Xi(t);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new yl(s.value.snapshot))}),e.children.length&&this.forwardEvent(new _l(e.value.snapshot))}activateRoutes(e,t,r){let i=e.value,s=t?t.value:null;if(Zh(i),i===s)if(i.component){let o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,o.children)}else this.activateChildRoutes(e,t,r);else if(i.component){let o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let c=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(c.contexts),o.attachRef=c.componentRef,o.route=c.route.value,o.outlet&&o.outlet.attach(c.componentRef,c.route.value),Zh(c.route.value),this.activateChildRoutes(e,null,o.children)}else o.attachRef=null,o.route=i,o.outlet&&o.outlet.activateWith(i,o.injector),this.activateChildRoutes(e,null,o.children)}else this.activateChildRoutes(e,null,r)}},Tl=class{path;route;constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},Zi=class{component;route;constructor(e,t){this.component=e,this.route=t}};function fR(n,e,t){let r=n._root,i=e?e._root:null;return Bo(r,i,t,[r.value])}function mR(n){let e=n.routeConfig?n.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:n,guards:e}}function as(n,e){let t=Symbol(),r=e.get(n,t);return r===t?typeof n=="function"&&!cy(n)?n:e.get(n):r}function Bo(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=Xi(e);return n.children.forEach(o=>{pR(o,s[o.value.outlet],t,r.concat([o.value]),i),delete s[o.value.outlet]}),Object.entries(s).forEach(([o,c])=>zo(c,t.getContext(o),i)),i}function pR(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=n.value,o=e?e.value:null,c=t?t.getContext(n.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){let l=gR(o,s,s.routeConfig.runGuardsAndResolvers);l?i.canActivateChecks.push(new Tl(r)):(s.data=o.data,s._resolvedData=o._resolvedData),s.component?Bo(n,e,c?c.children:null,r,i):Bo(n,e,t,r,i),l&&c&&c.outlet&&c.outlet.isActivated&&i.canDeactivateChecks.push(new Zi(c.outlet.component,o))}else o&&zo(e,c,i),i.canActivateChecks.push(new Tl(r)),s.component?Bo(n,null,c?c.children:null,r,i):Bo(n,null,t,r,i);return i}function gR(n,e,t){if(typeof t=="function")return t(n,e);switch(t){case"pathParamsChange":return!ti(n.url,e.url);case"pathParamsOrQueryParamsChange":return!ti(n.url,e.url)||!_n(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!lf(n,e)||!_n(n.queryParams,e.queryParams);case"paramsChange":default:return!lf(n,e)}}function zo(n,e,t){let r=Xi(n),i=n.value;Object.entries(r).forEach(([s,o])=>{i.component?e?zo(o,e.children.getContext(s),t):zo(o,null,t):zo(o,e,t)}),i.component?e&&e.outlet&&e.outlet.isActivated?t.canDeactivateChecks.push(new Zi(e.outlet.component,i)):t.canDeactivateChecks.push(new Zi(null,i)):t.canDeactivateChecks.push(new Zi(null,i))}function ta(n){return typeof n=="function"}function _R(n){return typeof n=="boolean"}function vR(n){return n&&ta(n.canLoad)}function yR(n){return n&&ta(n.canActivate)}function bR(n){return n&&ta(n.canActivateChild)}function ER(n){return n&&ta(n.canDeactivate)}function wR(n){return n&&ta(n.canMatch)}function hE(n){return n instanceof Zv||n?.name==="EmptyError"}var il=Symbol("INITIAL_VALUE");function is(){return ht(n=>go(n.map(e=>e.pipe(hn(1),Fi(il)))).pipe(Y(e=>{for(let t of e)if(t!==!0){if(t===il)return il;if(t===!1||IR(t))return t}return!0}),dt(e=>e!==il),hn(1)))}function IR(n){return es(n)||n instanceof rs}function TR(n,e){return Ut(t=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=t;return o.length===0&&s.length===0?$(_e(N({},t),{guardsResult:!0})):AR(o,r,i,n).pipe(Ut(c=>c&&_R(c)?DR(r,s,n,e):$(c)),Y(c=>_e(N({},t),{guardsResult:c})))})}function AR(n,e,t,r){return yt(n).pipe(Ut(i=>PR(i.component,i.route,t,e,r)),ur(i=>i!==!0,!0))}function DR(n,e,t,r){return yt(e).pipe(Kr(i=>Tc(SR(i.route.parent,r),CR(i.route,r),xR(n,i.path,t),RR(n,i.route,t))),ur(i=>i!==!0,!0))}function CR(n,e){return n!==null&&e&&e(new vl(n)),$(!0)}function SR(n,e){return n!==null&&e&&e(new gl(n)),$(!0)}function RR(n,e,t){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return $(!0);let i=r.map(s=>Ac(()=>{let o=ss(e)??t,c=as(s,o),l=yR(c)?c.canActivate(e,n):Ye(o,()=>c(e,n));return Bn(l).pipe(ur())}));return $(i).pipe(is())}function xR(n,e,t){let r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>mR(o)).filter(o=>o!==null).map(o=>Ac(()=>{let c=o.guards.map(l=>{let d=ss(o.node)??t,f=as(l,d),p=bR(f)?f.canActivateChild(r,n):Ye(d,()=>f(r,n));return Bn(p).pipe(ur())});return $(c).pipe(is())}));return $(s).pipe(is())}function PR(n,e,t,r,i){let s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!s||s.length===0)return $(!0);let o=s.map(c=>{let l=ss(e)??i,d=as(c,l),f=ER(d)?d.canDeactivate(n,e,t,r):Ye(l,()=>d(n,e,t,r));return Bn(f).pipe(ur())});return $(o).pipe(is())}function MR(n,e,t,r){let i=e.canLoad;if(i===void 0||i.length===0)return $(!0);let s=i.map(o=>{let c=as(o,n),l=vR(c)?c.canLoad(e,t):Ye(n,()=>c(e,t));return Bn(l)});return $(s).pipe(is(),fE(r))}function fE(n){return Yv(Te(e=>{if(typeof e!="boolean")throw Il(n,e)}),Y(e=>e===!0))}function NR(n,e,t,r){let i=e.canMatch;if(!i||i.length===0)return $(!0);let s=i.map(o=>{let c=as(o,n),l=wR(c)?c.canMatch(e,t):Ye(n,()=>c(e,t));return Bn(l)});return $(s).pipe(is(),fE(r))}var Xo=class{segmentGroup;constructor(e){this.segmentGroup=e||null}},Jo=class extends Error{urlTree;constructor(e){super(),this.urlTree=e}};function Qi(n){return Wr(new Xo(n))}function kR(n){return Wr(new H(4e3,!1))}function OR(n){return Wr(uE(!1,pt.GuardRejected))}var hf=class{urlSerializer;urlTree;constructor(e,t){this.urlSerializer=e,this.urlTree=t}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return $(r);if(i.numberOfChildren>1||!i.children[X])return kR(`${e.redirectTo}`);i=i.children[X]}}applyRedirectCommands(e,t,r,i,s){return FR(t,i,s).pipe(Y(o=>{if(o instanceof yn)throw new Jo(o);let c=this.applyRedirectCreateUrlTree(o,this.urlSerializer.parse(o),e,r);if(o[0]==="/")throw new Jo(c);return c}))}applyRedirectCreateUrlTree(e,t,r,i){let s=this.createSegmentGroup(e,t.root,r,i);return new yn(s,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){let r={};return Object.entries(e).forEach(([i,s])=>{if(typeof s=="string"&&s[0]===":"){let c=s.substring(1);r[i]=t[c]}else r[i]=s}),r}createSegmentGroup(e,t,r,i){let s=this.createSegments(e,t.segments,r,i),o={};return Object.entries(t.children).forEach(([c,l])=>{o[c]=this.createSegmentGroup(e,l,r,i)}),new de(s,o)}createSegments(e,t,r,i){return t.map(s=>s.path[0]===":"?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,t,r){let i=r[t.path.substring(1)];if(!i)throw new H(4001,!1);return i}findOrReturn(e,t){let r=0;for(let i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}};function FR(n,e,t){if(typeof n=="string")return $(n);let r=n,{queryParams:i,fragment:s,routeConfig:o,url:c,outlet:l,params:d,data:f,title:p}=e;return Bn(Ye(t,()=>r({params:d,data:f,queryParams:i,fragment:s,routeConfig:o,url:c,outlet:l,title:p})))}var ff={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function LR(n,e,t,r,i){let s=mE(n,e,t);return s.matched?(r=sR(e,r),NR(r,e,t,i).pipe(Y(o=>o===!0?s:N({},ff)))):$(s)}function mE(n,e,t){if(e.path==="**")return VR(t);if(e.path==="")return e.pathMatch==="full"&&(n.hasChildren()||t.length>0)?N({},ff):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};let i=(e.matcher||zb)(t,n,e);if(!i)return N({},ff);let s={};Object.entries(i.posParams??{}).forEach(([c,l])=>{s[c]=l.path});let o=i.consumed.length>0?N(N({},s),i.consumed[i.consumed.length-1].parameters):s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:o,positionalParamSegments:i.posParams??{}}}function VR(n){return{matched:!0,parameters:n.length>0?qb(n).parameters:{},consumedSegments:n,remainingSegments:[],positionalParamSegments:{}}}function Bb(n,e,t,r){return t.length>0&&jR(n,t,r)?{segmentGroup:new de(e,BR(r,new de(t,n.children))),slicedSegments:[]}:t.length===0&&$R(n,t,r)?{segmentGroup:new de(n.segments,UR(n,t,r,n.children)),slicedSegments:t}:{segmentGroup:new de(n.segments,n.children),slicedSegments:t}}function UR(n,e,t,r){let i={};for(let s of t)if(Cl(n,e,s)&&!r[en(s)]){let o=new de([],{});i[en(s)]=o}return N(N({},r),i)}function BR(n,e){let t={};t[X]=e;for(let r of n)if(r.path===""&&en(r)!==X){let i=new de([],{});t[en(r)]=i}return t}function jR(n,e,t){return t.some(r=>Cl(n,e,r)&&en(r)!==X)}function $R(n,e,t){return t.some(r=>Cl(n,e,r))}function Cl(n,e,t){return(n.hasChildren()||e.length>0)&&t.pathMatch==="full"?!1:t.path===""}function zR(n,e,t){return e.length===0&&!n.children[t]}var mf=class{};function HR(n,e,t,r,i,s,o="emptyOnly"){return new pf(n,e,t,r,i,o,s).recognize()}var qR=31,pf=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(e,t,r,i,s,o,c){this.injector=e,this.configLoader=t,this.rootComponentType=r,this.config=i,this.urlTree=s,this.paramsInheritanceStrategy=o,this.urlSerializer=c,this.applyRedirects=new hf(this.urlSerializer,this.urlTree)}noMatchError(e){return new H(4002,`'${e.segmentGroup}'`)}recognize(){let e=Bb(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(Y(({children:t,rootSnapshot:r})=>{let i=new kt(r,t),s=new Yo("",i),o=eE(r,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(o),{state:s,tree:o}}))}match(e){let t=new ni([],Object.freeze({}),Object.freeze(N({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),X,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,X,t).pipe(Y(r=>({children:r,rootSnapshot:t})),cr(r=>{if(r instanceof Jo)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof Xo?this.noMatchError(r):r}))}processSegmentGroup(e,t,r,i,s){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,t,r,s):this.processSegment(e,t,r,r.segments,i,!0,s).pipe(Y(o=>o instanceof kt?[o]:[]))}processChildren(e,t,r,i){let s=[];for(let o of Object.keys(r.children))o==="primary"?s.unshift(o):s.push(o);return yt(s).pipe(Kr(o=>{let c=r.children[o],l=oR(t,o);return this.processSegmentGroup(e,l,c,o,i)}),iy((o,c)=>(o.push(...c),o)),ph(null),ny(),Ut(o=>{if(o===null)return Qi(r);let c=pE(o);return GR(c),$(c)}))}processSegment(e,t,r,i,s,o,c){return yt(t).pipe(Kr(l=>this.processSegmentAgainstRoute(l._injector??e,t,l,r,i,s,o,c).pipe(cr(d=>{if(d instanceof Xo)return $(null);throw d}))),ur(l=>!!l),cr(l=>{if(hE(l))return zR(r,i,s)?$(new mf):Qi(r);throw l}))}processSegmentAgainstRoute(e,t,r,i,s,o,c,l){return en(r)!==o&&(o===X||!Cl(i,s,r))?Qi(i):r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,s,o,l):this.allowRedirects&&c?this.expandSegmentAgainstRouteUsingRedirect(e,i,t,r,s,o,l):Qi(i)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,s,o,c){let{matched:l,parameters:d,consumedSegments:f,positionalParamSegments:p,remainingSegments:g}=mE(t,i,s);if(!l)return Qi(t);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>qR&&(this.allowRedirects=!1));let A=new ni(s,d,Object.freeze(N({},this.urlTree.queryParams)),this.urlTree.fragment,jb(i),en(i),i.component??i._loadedComponent??null,i,$b(i)),R=wl(A,c,this.paramsInheritanceStrategy);return A.params=Object.freeze(R.params),A.data=Object.freeze(R.data),this.applyRedirects.applyRedirectCommands(f,i.redirectTo,p,A,e).pipe(ht(S=>this.applyRedirects.lineralizeSegments(i,S)),Ut(S=>this.processSegment(e,r,t,S.concat(g),o,!1,c)))}matchSegmentAgainstRoute(e,t,r,i,s,o){let c=LR(t,r,i,e,this.urlSerializer);return r.path==="**"&&(t.children={}),c.pipe(ht(l=>l.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(ht(({routes:d})=>{let f=r._loadedInjector??e,{parameters:p,consumedSegments:g,remainingSegments:A}=l,R=new ni(g,p,Object.freeze(N({},this.urlTree.queryParams)),this.urlTree.fragment,jb(r),en(r),r.component??r._loadedComponent??null,r,$b(r)),M=wl(R,o,this.paramsInheritanceStrategy);R.params=Object.freeze(M.params),R.data=Object.freeze(M.data);let{segmentGroup:S,slicedSegments:F}=Bb(t,g,A,d);if(F.length===0&&S.hasChildren())return this.processChildren(f,d,S,R).pipe(Y(j=>new kt(R,j)));if(d.length===0&&F.length===0)return $(new kt(R,[]));let U=en(r)===s;return this.processSegment(f,d,S,F,U?X:s,!0,R).pipe(Y(j=>new kt(R,j instanceof kt?[j]:[])))}))):Qi(t)))}getChildConfig(e,t,r){return t.children?$({routes:t.children,injector:e}):t.loadChildren?t._loadedRoutes!==void 0?$({routes:t._loadedRoutes,injector:t._loadedInjector}):MR(e,t,r,this.urlSerializer).pipe(Ut(i=>i?this.configLoader.loadChildren(e,t).pipe(Te(s=>{t._loadedRoutes=s.routes,t._loadedInjector=s.injector})):OR(t))):$({routes:[],injector:e})}};function GR(n){n.sort((e,t)=>e.value.outlet===X?-1:t.value.outlet===X?1:e.value.outlet.localeCompare(t.value.outlet))}function WR(n){let e=n.value.routeConfig;return e&&e.path===""}function pE(n){let e=[],t=new Set;for(let r of n){if(!WR(r)){e.push(r);continue}let i=e.find(s=>r.value.routeConfig===s.value.routeConfig);i!==void 0?(i.children.push(...r.children),t.add(i)):e.push(r)}for(let r of t){let i=pE(r.children);e.push(new kt(r.value,i))}return e.filter(r=>!t.has(r))}function jb(n){return n.data||{}}function $b(n){return n.resolve||{}}function KR(n,e,t,r,i,s){return Ut(o=>HR(n,e,t,r,o.extractedUrl,i,s).pipe(Y(({state:c,tree:l})=>_e(N({},o),{targetSnapshot:c,urlAfterRedirects:l}))))}function YR(n,e){return Ut(t=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return $(t);let s=new Set(i.map(l=>l.route)),o=new Set;for(let l of s)if(!o.has(l))for(let d of gE(l))o.add(d);let c=0;return yt(o).pipe(Kr(l=>s.has(l)?QR(l,r,n,e):(l.data=wl(l,l.parent,n).resolve,$(void 0))),Te(()=>c++),gh(1),Ut(l=>c===o.size?$(t):Wt))})}function gE(n){let e=n.children.map(t=>gE(t)).flat();return[n,...e]}function QR(n,e,t,r){let i=n.routeConfig,s=n._resolve;return i?.title!==void 0&&!aE(i)&&(s[Zo]=i.title),Ac(()=>(n.data=wl(n,n.parent,t).resolve,XR(s,n,e,r).pipe(Y(o=>(n._resolvedData=o,n.data=N(N({},n.data),o),null)))))}function XR(n,e,t,r){let i=nf(n);if(i.length===0)return $({});let s={};return yt(i).pipe(Ut(o=>JR(n[o],e,t,r).pipe(ur(),Te(c=>{if(c instanceof rs)throw Il(new ii,c);s[o]=c}))),gh(1),Y(()=>s),cr(o=>hE(o)?Wt:Wr(o)))}function JR(n,e,t,r){let i=ss(e)??r,s=as(n,i),o=s.resolve?s.resolve(e,t):Ye(i,()=>s(e,t));return Bn(o)}function ef(n){return ht(e=>{let t=n(e);return t?yt(t).pipe(Y(()=>e)):$(e)})}var bf=(()=>{class n{buildTitle(t){let r,i=t.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(s=>s.outlet===X);return r}getResolvedTitleForRoute(t){return t.data[Zo]}static \u0275fac=function(r){return new(r||n)};static \u0275prov=O({token:n,factory:()=>b(_E),providedIn:"root"})}return n})(),_E=(()=>{class n extends bf{title;constructor(t){super(),this.title=t}updateTitle(t){let r=this.buildTitle(t);r!==void 0&&this.title.setTitle(r)}static \u0275fac=function(r){return new(r||n)(W(kb))};static \u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),na=new L("",{providedIn:"root",factory:()=>({})}),ra=new L(""),vE=(()=>{class n{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=b(My);loadComponent(t,r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return $(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);let i=Bn(Ye(t,()=>r.loadComponent())).pipe(Y(bE),ht(EE),Te(o=>{this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=o}),lr(()=>{this.componentLoaders.delete(r)})),s=new dh(i,()=>new ue).pipe(uh());return this.componentLoaders.set(r,s),s}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return $({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let s=yE(r,this.compiler,t,this.onLoadEndListener).pipe(lr(()=>{this.childrenLoaders.delete(r)})),o=new dh(s,()=>new ue).pipe(uh());return this.childrenLoaders.set(r,o),o}static \u0275fac=function(r){return new(r||n)};static \u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function yE(n,e,t,r){return Bn(Ye(t,()=>n.loadChildren())).pipe(Y(bE),ht(EE),Ut(i=>i instanceof Ay||Array.isArray(i)?$(i):yt(e.compileModuleAsync(i))),Y(i=>{r&&r(n);let s,o,c=!1;return Array.isArray(i)?(o=i,c=!0):(s=i.create(t).injector,o=s.get(ra,[],{optional:!0,self:!0}).flat()),{routes:o.map(yf),injector:s}}))}function ZR(n){return n&&typeof n=="object"&&"default"in n}function bE(n){return ZR(n)?n.default:n}function EE(n){return $(n)}var Sl=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=O({token:n,factory:()=>b(ex),providedIn:"root"})}return n})(),ex=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}static \u0275fac=function(r){return new(r||n)};static \u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),wE=new L("");var IE=new L(""),TE=(()=>{class n{currentNavigation=Qe(null,{equal:()=>!1});currentTransition=null;lastSuccessfulNavigation=null;events=new ue;transitionAbortWithErrorSubject=new ue;configLoader=b(vE);environmentInjector=b(Qt);destroyRef=b(vo);urlSerializer=b(ea);rootContexts=b(os);location=b(Jr);inputBindingEnabled=b(Dl,{optional:!0})!==null;titleStrategy=b(bf);options=b(na,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=b(Sl);createViewTransition=b(wE,{optional:!0});navigationErrorHandler=b(IE,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>$(void 0);rootComponentType=null;destroyed=!1;constructor(){let t=i=>this.events.next(new ml(i)),r=i=>this.events.next(new pl(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=t,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(t){let r=++this.navigationId;Je(()=>{this.transitions?.next(_e(N({},t),{extractedUrl:this.urlHandlingStrategy.extract(t.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,abortController:new AbortController,id:r}))})}setupNavigations(t){return this.transitions=new vt(null),this.transitions.pipe(dt(r=>r!==null),ht(r=>{let i=!1;return $(r).pipe(ht(s=>{if(this.navigationId>r.id)return this.cancelNavigationTransition(r,"",pt.SupersededByNewNavigation),Wt;this.currentTransition=r,this.currentNavigation.set({id:s.id,initialUrl:s.rawUrl,extractedUrl:s.extractedUrl,targetBrowserUrl:typeof s.extras.browserUrl=="string"?this.urlSerializer.parse(s.extras.browserUrl):s.extras.browserUrl,trigger:s.source,extras:s.extras,previousNavigation:this.lastSuccessfulNavigation?_e(N({},this.lastSuccessfulNavigation),{previousNavigation:null}):null,abort:()=>s.abortController.abort()});let o=!t.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),c=s.extras.onSameUrlNavigation??t.onSameUrlNavigation;if(!o&&c!=="reload")return this.events.next(new Un(s.id,this.urlSerializer.serialize(s.rawUrl),"",qo.IgnoredSameUrlNavigation)),s.resolve(!1),Wt;if(this.urlHandlingStrategy.shouldProcessUrl(s.rawUrl))return $(s).pipe(ht(l=>(this.events.next(new si(l.id,this.urlSerializer.serialize(l.extractedUrl),l.source,l.restoredState)),l.id!==this.navigationId?Wt:Promise.resolve(l))),KR(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,this.paramsInheritanceStrategy),Te(l=>{r.targetSnapshot=l.targetSnapshot,r.urlAfterRedirects=l.urlAfterRedirects,this.currentNavigation.update(f=>(f.finalUrl=l.urlAfterRedirects,f));let d=new Go(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(d)}));if(o&&this.urlHandlingStrategy.shouldProcessUrl(s.currentRawUrl)){let{id:l,extractedUrl:d,source:f,restoredState:p,extras:g}=s,A=new si(l,this.urlSerializer.serialize(d),f,p);this.events.next(A);let R=sE(this.rootComponentType).snapshot;return this.currentTransition=r=_e(N({},s),{targetSnapshot:R,urlAfterRedirects:d,extras:_e(N({},g),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.update(M=>(M.finalUrl=d,M)),$(r)}else return this.events.next(new Un(s.id,this.urlSerializer.serialize(s.extractedUrl),"",qo.IgnoredByUrlHandlingStrategy)),s.resolve(!1),Wt}),Te(s=>{let o=new ul(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(o)}),Y(s=>(this.currentTransition=r=_e(N({},s),{guards:fR(s.targetSnapshot,s.currentSnapshot,this.rootContexts)}),r)),TR(this.environmentInjector,s=>this.events.next(s)),Te(s=>{if(r.guardsResult=s.guardsResult,s.guardsResult&&typeof s.guardsResult!="boolean")throw Il(this.urlSerializer,s.guardsResult);let o=new dl(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot,!!s.guardsResult);this.events.next(o)}),dt(s=>s.guardsResult?!0:(this.cancelNavigationTransition(s,"",pt.GuardRejected),!1)),ef(s=>{if(s.guards.canActivateChecks.length!==0)return $(s).pipe(Te(o=>{let c=new hl(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot);this.events.next(c)}),ht(o=>{let c=!1;return $(o).pipe(YR(this.paramsInheritanceStrategy,this.environmentInjector),Te({next:()=>c=!0,complete:()=>{c||this.cancelNavigationTransition(o,"",pt.NoDataFromResolver)}}))}),Te(o=>{let c=new fl(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot);this.events.next(c)}))}),ef(s=>{let o=c=>{let l=[];if(c.routeConfig?.loadComponent){let d=ss(c)??this.environmentInjector;l.push(this.configLoader.loadComponent(d,c.routeConfig).pipe(Te(f=>{c.component=f}),Y(()=>{})))}for(let d of c.children)l.push(...o(d));return l};return go(o(s.targetSnapshot.root)).pipe(ph(null),hn(1))}),ef(()=>this.afterPreactivation()),ht(()=>{let{currentSnapshot:s,targetSnapshot:o}=r,c=this.createViewTransition?.(this.environmentInjector,s.root,o.root);return c?yt(c).pipe(Y(()=>r)):$(r)}),Y(s=>{let o=cR(t.routeReuseStrategy,s.targetSnapshot,s.currentRouterState);return this.currentTransition=r=_e(N({},s),{targetRouterState:o}),this.currentNavigation.update(c=>(c.targetRouterState=o,c)),r}),Te(()=>{this.events.next(new Wo)}),hR(this.rootContexts,t.routeReuseStrategy,s=>this.events.next(s),this.inputBindingEnabled),hn(1),Kt(new Rt(s=>{let o=r.abortController.signal,c=()=>s.next();return o.addEventListener("abort",c),()=>o.removeEventListener("abort",c)}).pipe(dt(()=>!i&&!r.targetRouterState),Te(()=>{this.cancelNavigationTransition(r,r.abortController.signal.reason+"",pt.Aborted)}))),Te({next:s=>{i=!0,this.lastSuccessfulNavigation=Je(this.currentNavigation),this.events.next(new Vn(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects))),this.titleStrategy?.updateTitle(s.targetRouterState.snapshot),s.resolve(!0)},complete:()=>{i=!0}}),Kt(this.transitionAbortWithErrorSubject.pipe(Te(s=>{throw s}))),lr(()=>{i||this.cancelNavigationTransition(r,"",pt.SupersededByNewNavigation),this.currentTransition?.id===r.id&&(this.currentNavigation.set(null),this.currentTransition=null)}),cr(s=>{if(this.destroyed)return r.resolve(!1),Wt;if(i=!0,dE(s))this.events.next(new vn(r.id,this.urlSerializer.serialize(r.extractedUrl),s.message,s.cancellationCode)),dR(s)?this.events.next(new ns(s.url,s.navigationBehaviorOptions)):r.resolve(!1);else{let o=new ts(r.id,this.urlSerializer.serialize(r.extractedUrl),s,r.targetSnapshot??void 0);try{let c=Ye(this.environmentInjector,()=>this.navigationErrorHandler?.(o));if(c instanceof rs){let{message:l,cancellationCode:d}=Il(this.urlSerializer,c);this.events.next(new vn(r.id,this.urlSerializer.serialize(r.extractedUrl),l,d)),this.events.next(new ns(c.redirectTo,c.navigationBehaviorOptions))}else throw this.events.next(o),s}catch(c){this.options.resolveNavigationPromiseOnError?r.resolve(!1):r.reject(c)}}return Wt}))}))}cancelNavigationTransition(t,r,i){let s=new vn(t.id,this.urlSerializer.serialize(t.extractedUrl),r,i);this.events.next(s),t.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let t=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=Je(this.currentNavigation),i=r?.targetBrowserUrl??r?.extractedUrl;return t.toString()!==i?.toString()&&!r?.extras.skipLocationChange}static \u0275fac=function(r){return new(r||n)};static \u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function tx(n){return n!==$o}var AE=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=O({token:n,factory:()=>b(nx),providedIn:"root"})}return n})(),Al=class{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}},nx=(()=>{class n extends Al{static \u0275fac=(()=>{let t;return function(i){return(t||(t=hr(n)))(i||n)}})();static \u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),DE=(()=>{class n{urlSerializer=b(ea);options=b(na,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";location=b(Jr);urlHandlingStrategy=b(Sl);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new yn;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}createBrowserPath({finalUrl:t,initialUrl:r,targetBrowserUrl:i}){let s=t!==void 0?this.urlHandlingStrategy.merge(t,r):r,o=i??s;return o instanceof yn?this.urlSerializer.serialize(o):o}commitTransition({targetRouterState:t,finalUrl:r,initialUrl:i}){r&&t?(this.currentUrlTree=r,this.rawUrlTree=this.urlHandlingStrategy.merge(r,i),this.routerState=t):this.rawUrlTree=i}routerState=sE(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();updateStateMemento(){this.stateMemento=this.createStateMemento()}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}resetInternalState({finalUrl:t}){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t??this.rawUrlTree)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=O({token:n,factory:()=>b(rx),providedIn:"root"})}return n})(),rx=(()=>{class n extends DE{currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}registerNonRouterCurrentEntryChangeListener(t){return this.location.subscribe(r=>{r.type==="popstate"&&setTimeout(()=>{t(r.url,r.state,"popstate")})})}handleRouterEvent(t,r){t instanceof si?this.updateStateMemento():t instanceof Un?this.commitTransition(r):t instanceof Go?this.urlUpdateStrategy==="eager"&&(r.extras.skipLocationChange||this.setBrowserUrl(this.createBrowserPath(r),r)):t instanceof Wo?(this.commitTransition(r),this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(this.createBrowserPath(r),r)):t instanceof vn&&t.code!==pt.SupersededByNewNavigation&&t.code!==pt.Redirect?this.restoreHistory(r):t instanceof ts?this.restoreHistory(r,!0):t instanceof Vn&&(this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId)}setBrowserUrl(t,{extras:r,id:i}){let{replaceUrl:s,state:o}=r;if(this.location.isCurrentPathEqualTo(t)||s){let c=this.browserPageId,l=N(N({},o),this.generateNgRouterState(i,c));this.location.replaceState(t,"",l)}else{let c=N(N({},o),this.generateNgRouterState(i,this.browserPageId+1));this.location.go(t,"",c)}}restoreHistory(t,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,s=this.currentPageId-i;s!==0?this.location.historyGo(s):this.getCurrentUrlTree()===t.finalUrl&&s===0&&(this.resetInternalState(t),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetInternalState(t),this.resetUrlToCurrentUrlTree())}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.getRawUrlTree()),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return this.canceledNavigationResolution==="computed"?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}static \u0275fac=(()=>{let t;return function(i){return(t||(t=hr(n)))(i||n)}})();static \u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Ef(n,e){n.events.pipe(dt(t=>t instanceof Vn||t instanceof vn||t instanceof ts||t instanceof Un),Y(t=>t instanceof Vn||t instanceof Un?0:(t instanceof vn?t.code===pt.Redirect||t.code===pt.SupersededByNewNavigation:!1)?2:1),dt(t=>t!==2),hn(1)).subscribe(()=>{e()})}var ix={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},sx={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Rl=(()=>{class n{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=b(wh);stateManager=b(DE);options=b(na,{optional:!0})||{};pendingTasks=b(hy);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=b(TE);urlSerializer=b(ea);location=b(Jr);urlHandlingStrategy=b(Sl);injector=b(Qt);_events=new ue;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=b(AE);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=b(ra,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!b(Dl,{optional:!0});currentNavigation=this.navigationTransitions.currentNavigation.asReadonly();constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:t=>{this.console.warn(t)}}),this.subscribeToNavigationEvents()}eventsSubscription=new ar;subscribeToNavigationEvents(){let t=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,s=Je(this.navigationTransitions.currentNavigation);if(i!==null&&s!==null){if(this.stateManager.handleRouterEvent(r,s),r instanceof vn&&r.code!==pt.Redirect&&r.code!==pt.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof Vn)this.navigated=!0;else if(r instanceof ns){let o=r.navigationBehaviorOptions,c=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),l=N({browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||tx(i.source)},o);this.scheduleNavigation(c,$o,null,l,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}iR(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortWithErrorSubject.next(i)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),$o,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((t,r,i)=>{this.navigateToSyncWithBrowser(t,i,r)})}navigateToSyncWithBrowser(t,r,i){let s={replaceUrl:!0},o=i?.navigationId?i:null;if(i){let l=N({},i);delete l.navigationId,delete l.\u0275routerPageId,Object.keys(l).length!==0&&(s.state=l)}let c=this.parseUrl(t);this.scheduleNavigation(c,r,o,s).catch(l=>{this.disposed||this.injector.get(xc)(l)})}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return Je(this.navigationTransitions.currentNavigation)}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(yf),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,r={}){let{relativeTo:i,queryParams:s,fragment:o,queryParamsHandling:c,preserveFragment:l}=r,d=l?this.currentUrlTree.fragment:o,f=null;switch(c??this.options.defaultQueryParamsHandling){case"merge":f=N(N({},this.currentUrlTree.queryParams),s);break;case"preserve":f=this.currentUrlTree.queryParams;break;default:f=s||null}f!==null&&(f=this.removeEmptyProps(f));let p;try{let g=i?i.snapshot:this.routerState.snapshot.root;p=tE(g)}catch{(typeof t[0]!="string"||t[0][0]!=="/")&&(t=[]),p=this.currentUrlTree.root}return nE(p,t,f,d??null)}navigateByUrl(t,r={skipLocationChange:!1}){let i=es(t)?t:this.parseUrl(t),s=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(s,$o,null,r)}navigate(t,r={skipLocationChange:!1}){return ox(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){try{return this.urlSerializer.parse(t)}catch{return this.console.warn(_o(4018,!1)),this.urlSerializer.parse("/")}}isActive(t,r){let i;if(r===!0?i=N({},ix):r===!1?i=N({},sx):i=r,es(t))return Fb(this.currentUrlTree,t,i);let s=this.parseUrl(t);return Fb(this.currentUrlTree,s,i)}removeEmptyProps(t){return Object.entries(t).reduce((r,[i,s])=>(s!=null&&(r[i]=s),r),{})}scheduleNavigation(t,r,i,s,o){if(this.disposed)return Promise.resolve(!1);let c,l,d;o?(c=o.resolve,l=o.reject,d=o.promise):d=new Promise((p,g)=>{c=p,l=g});let f=this.pendingTasks.add();return Ef(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(f))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:s,resolve:c,reject:l,promise:d,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),d.catch(p=>Promise.reject(p))}static \u0275fac=function(r){return new(r||n)};static \u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function ox(n){for(let e=0;e<n.length;e++)if(n[e]==null)throw new H(4008,!1)}var cx=new L("");function lx(n,...e){return Yt([{provide:ra,multi:!0,useValue:n},[],{provide:yr,useFactory:ux,deps:[Rl]},{provide:Dy,multi:!0,useFactory:hx},e.map(t=>t.\u0275providers)])}function ux(n){return n.routerState.root}function dx(n,e){return{\u0275kind:n,\u0275providers:e}}function hx(){let n=b(De);return e=>{let t=n.get($i);if(e!==t.components[0])return;let r=n.get(Rl),i=n.get(fx);n.get(mx)===1&&r.initialNavigation(),n.get(px,null,{optional:!0})?.setUpPreloading(),n.get(cx,null,{optional:!0})?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var fx=new L("",{factory:()=>new ue}),mx=new L("",{providedIn:"root",factory:()=>1});var px=new L("");function gx(){return dx(6,[{provide:gr,useClass:Fh}])}var OE=(()=>{class n{_renderer;_elementRef;onChange=t=>{};onTouched=()=>{};constructor(t,r){this._renderer=t,this._elementRef=r}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}static \u0275fac=function(r){return new(r||n)(ne(Bt),ne(Ee))};static \u0275dir=Q({type:n})}return n})(),FE=(()=>{class n extends OE{static \u0275fac=(()=>{let t;return function(i){return(t||(t=hr(n)))(i||n)}})();static \u0275dir=Q({type:n,features:[st]})}return n})(),jl=new L("");var vx={provide:jl,useExisting:kn(()=>LE),multi:!0};function yx(){let n=jt()?jt().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}var bx=new L(""),LE=(()=>{class n extends OE{_compositionMode;_composing=!1;constructor(t,r,i){super(t,r),this._compositionMode=i,this._compositionMode==null&&(this._compositionMode=!yx())}writeValue(t){let r=t??"";this.setProperty("value",r)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}static \u0275fac=function(r){return new(r||n)(ne(Bt),ne(Ee),ne(bx,8))};static \u0275dir=Q({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){r&1&&fn("input",function(o){return i._handleInput(o.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(o){return i._compositionEnd(o.target.value)})},standalone:!1,features:[Xe([vx]),st]})}return n})();function Af(n){return n==null||Df(n)===0}function Df(n){return n==null?null:Array.isArray(n)||typeof n=="string"?n.length:n instanceof Set?n.size:null}var hs=new L(""),$l=new L(""),Ex=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,Pl=class{static min(e){return wx(e)}static max(e){return Ix(e)}static required(e){return VE(e)}static requiredTrue(e){return Tx(e)}static email(e){return Ax(e)}static minLength(e){return Dx(e)}static maxLength(e){return UE(e)}static pattern(e){return Cx(e)}static nullValidator(e){return Ml()}static compose(e){return qE(e)}static composeAsync(e){return GE(e)}};function wx(n){return e=>{if(e.value==null||n==null)return null;let t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}function Ix(n){return e=>{if(e.value==null||n==null)return null;let t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}function VE(n){return Af(n.value)?{required:!0}:null}function Tx(n){return n.value===!0?null:{required:!0}}function Ax(n){return Af(n.value)||Ex.test(n.value)?null:{email:!0}}function Dx(n){return e=>{let t=e.value?.length??Df(e.value);return t===null||t===0?null:t<n?{minlength:{requiredLength:n,actualLength:t}}:null}}function UE(n){return e=>{let t=e.value?.length??Df(e.value);return t!==null&&t>n?{maxlength:{requiredLength:n,actualLength:t}}:null}}function Cx(n){if(!n)return Ml;let e,t;return typeof n=="string"?(t="",n.charAt(0)!=="^"&&(t+="^"),t+=n,n.charAt(n.length-1)!=="$"&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),r=>{if(Af(r.value))return null;let i=r.value;return e.test(i)?null:{pattern:{requiredPattern:t,actualValue:i}}}}function Ml(n){return null}function BE(n){return n!=null}function jE(n){return Eo(n)?yt(n):n}function $E(n){let e={};return n.forEach(t=>{e=t!=null?N(N({},e),t):e}),Object.keys(e).length===0?null:e}function zE(n,e){return e.map(t=>t(n))}function Sx(n){return!n.validate}function HE(n){return n.map(e=>Sx(e)?e:t=>e.validate(t))}function qE(n){if(!n)return null;let e=n.filter(BE);return e.length==0?null:function(t){return $E(zE(t,e))}}function Cf(n){return n!=null?qE(HE(n)):null}function GE(n){if(!n)return null;let e=n.filter(BE);return e.length==0?null:function(t){let r=zE(t,e).map(jE);return Dc(r).pipe(Y($E))}}function Sf(n){return n!=null?GE(HE(n)):null}function CE(n,e){return n===null?[e]:Array.isArray(n)?[...n,e]:[n,e]}function WE(n){return n._rawValidators}function KE(n){return n._rawAsyncValidators}function wf(n){return n?Array.isArray(n)?n:[n]:[]}function Nl(n,e){return Array.isArray(n)?n.includes(e):n===e}function SE(n,e){let t=wf(e);return wf(n).forEach(i=>{Nl(t,i)||t.push(i)}),t}function RE(n,e){return wf(e).filter(t=>!Nl(n,t))}var kl=class{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=Cf(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=Sf(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,t){return this.control?this.control.hasError(e,t):!1}getError(e,t){return this.control?this.control.getError(e,t):null}},jn=class extends kl{name;get formDirective(){return null}get path(){return null}},$n=class extends kl{_parent=null;name=null;valueAccessor=null},Ol=class{_cd;constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},Rx={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},fj=_e(N({},Rx),{"[class.ng-submitted]":"isSubmitted"}),mj=(()=>{class n extends Ol{constructor(t){super(t)}static \u0275fac=function(r){return new(r||n)(ne($n,2))};static \u0275dir=Q({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){r&2&&Ce("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},standalone:!1,features:[st]})}return n})(),pj=(()=>{class n extends Ol{constructor(t){super(t)}static \u0275fac=function(r){return new(r||n)(ne(jn,10))};static \u0275dir=Q({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){r&2&&Ce("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},standalone:!1,features:[st]})}return n})();var ia="VALID",xl="INVALID",cs="PENDING",sa="DISABLED",br=class{},Fl=class extends br{value;source;constructor(e,t){super(),this.value=e,this.source=t}},aa=class extends br{pristine;source;constructor(e,t){super(),this.pristine=e,this.source=t}},ca=class extends br{touched;source;constructor(e,t){super(),this.touched=e,this.source=t}},ls=class extends br{status;source;constructor(e,t){super(),this.status=e,this.source=t}},Ll=class extends br{source;constructor(e){super(),this.source=e}},ua=class extends br{source;constructor(e){super(),this.source=e}};function Rf(n){return(zl(n)?n.validators:n)||null}function xx(n){return Array.isArray(n)?Cf(n):n||null}function xf(n,e){return(zl(e)?e.asyncValidators:n)||null}function Px(n){return Array.isArray(n)?Sf(n):n||null}function zl(n){return n!=null&&!Array.isArray(n)&&typeof n=="object"}function YE(n,e,t){let r=n.controls;if(!(e?Object.keys(r):r).length)throw new H(1e3,"");if(!r[t])throw new H(1001,"")}function QE(n,e,t){n._forEachChild((r,i)=>{if(t[i]===void 0)throw new H(1002,"")})}var us=class{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(e,t){this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return Je(this.statusReactive)}set status(e){Je(()=>this.statusReactive.set(e))}_status=pn(()=>this.statusReactive());statusReactive=Qe(void 0);get valid(){return this.status===ia}get invalid(){return this.status===xl}get pending(){return this.status==cs}get disabled(){return this.status===sa}get enabled(){return this.status!==sa}errors;get pristine(){return Je(this.pristineReactive)}set pristine(e){Je(()=>this.pristineReactive.set(e))}_pristine=pn(()=>this.pristineReactive());pristineReactive=Qe(!0);get dirty(){return!this.pristine}get touched(){return Je(this.touchedReactive)}set touched(e){Je(()=>this.touchedReactive.set(e))}_touched=pn(()=>this.touchedReactive());touchedReactive=Qe(!1);get untouched(){return!this.touched}_events=new ue;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(SE(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(SE(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(RE(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(RE(e,this._rawAsyncValidators))}hasValidator(e){return Nl(this._rawValidators,e)}hasAsyncValidator(e){return Nl(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let t=this.touched===!1;this.touched=!0;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(_e(N({},e),{sourceControl:r})),t&&e.emitEvent!==!1&&this._events.next(new ca(!0,r))}markAllAsDirty(e={}){this.markAsDirty({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(t=>t.markAllAsDirty(e))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(t=>t.markAllAsTouched(e))}markAsUntouched(e={}){let t=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:r})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,r),t&&e.emitEvent!==!1&&this._events.next(new ca(!1,r))}markAsDirty(e={}){let t=this.pristine===!0;this.pristine=!1;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(_e(N({},e),{sourceControl:r})),t&&e.emitEvent!==!1&&this._events.next(new aa(!1,r))}markAsPristine(e={}){let t=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,r),t&&e.emitEvent!==!1&&this._events.next(new aa(!0,r))}markAsPending(e={}){this.status=cs;let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new ls(this.status,t)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(_e(N({},e),{sourceControl:t}))}disable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=sa,this.errors=null,this._forEachChild(i=>{i.disable(_e(N({},e),{onlySelf:!0}))}),this._updateValue();let r=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Fl(this.value,r)),this._events.next(new ls(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(_e(N({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=ia,this._forEachChild(r=>{r.enable(_e(N({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(_e(N({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e,t){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},t),this._parent._updateTouched({},t))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===ia||this.status===cs)&&this._runAsyncValidator(r,e.emitEvent)}let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Fl(this.value,t)),this._events.next(new ls(this.status,t)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(_e(N({},e),{sourceControl:t}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?sa:ia}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,t){if(this.asyncValidator){this.status=cs,this._hasOwnPendingAsyncValidator={emitEvent:t!==!1,shouldHaveEmitted:e!==!1};let r=jE(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:t,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=(this._hasOwnPendingAsyncValidator?.emitEvent||this._hasOwnPendingAsyncValidator?.shouldHaveEmitted)??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(t.emitEvent!==!1,this,t.shouldHaveEmitted)}get(e){let t=e;return t==null||(Array.isArray(t)||(t=t.split(".")),t.length===0)?null:t.reduce((r,i)=>r&&r._find(i),this)}getError(e,t){let r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,t,r){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||r)&&this._events.next(new ls(this.status,t)),this._parent&&this._parent._updateControlsErrors(e,t,r)}_initObservables(){this.valueChanges=new $e,this.statusChanges=new $e}_calculateStatus(){return this._allControlsDisabled()?sa:this.errors?xl:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(cs)?cs:this._anyControlsHaveStatus(xl)?xl:ia}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,t){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,t),i&&this._events.next(new aa(this.pristine,t))}_updateTouched(e={},t){this.touched=this._anyControlsTouched(),this._events.next(new ca(this.touched,t)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,t)}_onDisabledChange=[];_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){zl(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let t=this._parent&&this._parent.dirty;return!e&&!!t&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=xx(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=Px(this._rawAsyncValidators)}},ds=class extends us{constructor(e,t,r){super(Rf(t),xf(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){QE(this,!0,e),Object.keys(e).forEach(r=>{YE(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){e!=null&&(Object.keys(e).forEach(r=>{let i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t,this),this._updateTouched(t,this),this.updateValueAndValidity(t),t?.emitEvent!==!1&&this._events.next(new ua(this))}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>r._syncPendingControls()?!0:t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{let r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[t,r]of Object.entries(this.controls))if(this.contains(t)&&e(r))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(t,r,i)=>((r.enabled||this.disabled)&&(t[i]=r.value),t))}_reduceChildren(e,t){let r=e;return this._forEachChild((i,s)=>{r=t(r,i,s)}),r}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var If=class extends ds{};var da=new L("",{providedIn:"root",factory:()=>Hl}),Hl="always";function XE(n,e){return[...e.path,n]}function Vl(n,e,t=Hl){Pf(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||t==="always")&&e.valueAccessor.setDisabledState?.(n.disabled),Nx(n,e),Ox(n,e),kx(n,e),Mx(n,e)}function xE(n,e,t=!0){let r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),Bl(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function Ul(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function Mx(n,e){if(e.valueAccessor.setDisabledState){let t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}function Pf(n,e){let t=WE(n);e.validator!==null?n.setValidators(CE(t,e.validator)):typeof t=="function"&&n.setValidators([t]);let r=KE(n);e.asyncValidator!==null?n.setAsyncValidators(CE(r,e.asyncValidator)):typeof r=="function"&&n.setAsyncValidators([r]);let i=()=>n.updateValueAndValidity();Ul(e._rawValidators,i),Ul(e._rawAsyncValidators,i)}function Bl(n,e){let t=!1;if(n!==null){if(e.validator!==null){let i=WE(n);if(Array.isArray(i)&&i.length>0){let s=i.filter(o=>o!==e.validator);s.length!==i.length&&(t=!0,n.setValidators(s))}}if(e.asyncValidator!==null){let i=KE(n);if(Array.isArray(i)&&i.length>0){let s=i.filter(o=>o!==e.asyncValidator);s.length!==i.length&&(t=!0,n.setAsyncValidators(s))}}}let r=()=>{};return Ul(e._rawValidators,r),Ul(e._rawAsyncValidators,r),t}function Nx(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,n.updateOn==="change"&&JE(n,e)})}function kx(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,n.updateOn==="blur"&&n._pendingChange&&JE(n,e),n.updateOn!=="submit"&&n.markAsTouched()})}function JE(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function Ox(n,e){let t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}function ZE(n,e){n==null,Pf(n,e)}function Fx(n,e){return Bl(n,e)}function ew(n,e){if(!n.hasOwnProperty("model"))return!1;let t=n.model;return t.isFirstChange()?!0:!Object.is(e,t.currentValue)}function Lx(n){return Object.getPrototypeOf(n.constructor)===FE}function tw(n,e){n._syncPendingControls(),e.forEach(t=>{let r=t.control;r.updateOn==="submit"&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function nw(n,e){if(!e)return null;Array.isArray(e);let t,r,i;return e.forEach(s=>{s.constructor===LE?t=s:Lx(s)?r=s:i=s}),i||r||t||null}function Vx(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}var Ux={provide:jn,useExisting:kn(()=>Mf)},oa=Promise.resolve(),Mf=(()=>{class n extends jn{callSetDisabledState;get submitted(){return Je(this.submittedReactive)}_submitted=pn(()=>this.submittedReactive());submittedReactive=Qe(!1);_directives=new Set;form;ngSubmit=new $e;options;constructor(t,r,i){super(),this.callSetDisabledState=i,this.form=new ds({},Cf(t),Sf(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){oa.then(()=>{let r=this._findContainer(t.path);t.control=r.registerControl(t.name,t.control),Vl(t.control,t,this.callSetDisabledState),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){oa.then(()=>{let r=this._findContainer(t.path);r&&r.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){oa.then(()=>{let r=this._findContainer(t.path),i=new ds({});ZE(i,t),r.registerControl(t.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){oa.then(()=>{let r=this._findContainer(t.path);r&&r.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,r){oa.then(()=>{this.form.get(t.path).setValue(r)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submittedReactive.set(!0),tw(this.form,this._directives),this.ngSubmit.emit(t),this.form._events.next(new Ll(this.control)),t?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this.submittedReactive.set(!1)}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}static \u0275fac=function(r){return new(r||n)(ne(hs,10),ne($l,10),ne(da,8))};static \u0275dir=Q({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(r,i){r&1&&fn("submit",function(o){return i.onSubmit(o)})("reset",function(){return i.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[Xe([Ux]),st]})}return n})();function PE(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function ME(n){return typeof n=="object"&&n!==null&&Object.keys(n).length===2&&"value"in n&&"disabled"in n}var la=class extends us{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(e=null,t,r){super(Rf(t),xf(r,t)),this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),zl(t)&&(t.nonNullable||t.initialValueIsDefault)&&(ME(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&t.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,t.emitViewToModelChange!==!1)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1,t?.emitEvent!==!1&&this._events.next(new ua(this))}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){PE(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){PE(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){ME(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var Bx=n=>n instanceof la;var jx={provide:$n,useExisting:kn(()=>$x)},NE=Promise.resolve(),$x=(()=>{class n extends $n{_changeDetectorRef;callSetDisabledState;control=new la;static ngAcceptInputType_isDisabled;_registered=!1;viewModel;name="";isDisabled;model;options;update=new $e;constructor(t,r,i,s,o,c){super(),this._changeDetectorRef=o,this.callSetDisabledState=c,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=nw(this,s)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){let r=t.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),ew(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){Vl(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._checkName()}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(t){NE.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){let r=t.isDisabled.currentValue,i=r!==0&&Ze(r);NE.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?XE(t,this._parent):[t]}static \u0275fac=function(r){return new(r||n)(ne(jn,9),ne(hs,10),ne($l,10),ne(jl,10),ne(Xr,8),ne(da,8))};static \u0275dir=Q({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],standalone:!1,features:[Xe([jx]),st,xt]})}return n})();var _j=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275dir=Q({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""],standalone:!1})}return n})(),zx={provide:jl,useExisting:kn(()=>Hx),multi:!0},Hx=(()=>{class n extends FE{writeValue(t){let r=t??"";this.setProperty("value",r)}registerOnChange(t){this.onChange=r=>{t(r==""?null:parseFloat(r))}}static \u0275fac=(()=>{let t;return function(i){return(t||(t=hr(n)))(i||n)}})();static \u0275dir=Q({type:n,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(r,i){r&1&&fn("input",function(o){return i.onChange(o.target.value)})("blur",function(){return i.onTouched()})},standalone:!1,features:[Xe([zx]),st]})}return n})();var rw=new L("");var qx={provide:jn,useExisting:kn(()=>Nf)},Nf=(()=>{class n extends jn{callSetDisabledState;get submitted(){return Je(this._submittedReactive)}set submitted(t){this._submittedReactive.set(t)}_submitted=pn(()=>this._submittedReactive());_submittedReactive=Qe(!1);_oldForm;_onCollectionChange=()=>this._updateDomValue();directives=[];form=null;ngSubmit=new $e;constructor(t,r,i){super(),this.callSetDisabledState=i,this._setValidators(t),this._setAsyncValidators(r)}ngOnChanges(t){t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Bl(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){let r=this.form.get(t.path);return Vl(r,t,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),r}getControl(t){return this.form.get(t.path)}removeControl(t){xE(t.control||null,t,!1),Vx(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,r){this.form.get(t.path).setValue(r)}onSubmit(t){return this._submittedReactive.set(!0),tw(this.form,this.directives),this.ngSubmit.emit(t),this.form._events.next(new Ll(this.control)),t?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(t=void 0,r={}){this.form.reset(t,r),this._submittedReactive.set(!1)}_updateDomValue(){this.directives.forEach(t=>{let r=t.control,i=this.form.get(t.path);r!==i&&(xE(r||null,t),Bx(i)&&(Vl(i,t,this.callSetDisabledState),t.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){let r=this.form.get(t.path);ZE(r,t),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){let r=this.form.get(t.path);r&&Fx(r,t)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Pf(this.form,this),this._oldForm&&Bl(this._oldForm,this)}static \u0275fac=function(r){return new(r||n)(ne(hs,10),ne($l,10),ne(da,8))};static \u0275dir=Q({type:n,selectors:[["","formGroup",""]],hostBindings:function(r,i){r&1&&fn("submit",function(o){return i.onSubmit(o)})("reset",function(){return i.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[Xe([qx]),st,xt]})}return n})();var Gx={provide:$n,useExisting:kn(()=>Wx)},Wx=(()=>{class n extends $n{_ngModelWarningConfig;_added=!1;viewModel;control;name=null;set isDisabled(t){}model;update=new $e;static _ngModelWarningSentOnce=!1;_ngModelWarningSent=!1;constructor(t,r,i,s,o){super(),this._ngModelWarningConfig=o,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=nw(this,s)}ngOnChanges(t){this._added||this._setUpControl(),ew(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return XE(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_setUpControl(){this.control=this.formDirective.addControl(this),this._added=!0}static \u0275fac=function(r){return new(r||n)(ne(jn,13),ne(hs,10),ne($l,10),ne(jl,10),ne(rw,8))};static \u0275dir=Q({type:n,selectors:[["","formControlName",""]],inputs:{name:[0,"formControlName","name"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},standalone:!1,features:[Xe([Gx]),st,xt]})}return n})();function Kx(n){return typeof n=="number"?n:parseInt(n,10)}var iw=(()=>{class n{_validator=Ml;_onChange;_enabled;ngOnChanges(t){if(this.inputName in t){let r=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):Ml,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return t!=null}static \u0275fac=function(r){return new(r||n)};static \u0275dir=Q({type:n,features:[xt]})}return n})();var Yx={provide:hs,useExisting:kn(()=>Qx),multi:!0};var Qx=(()=>{class n extends iw{required;inputName="required";normalizeInput=Ze;createValidator=t=>VE;enabled(t){return t}static \u0275fac=(()=>{let t;return function(i){return(t||(t=hr(n)))(i||n)}})();static \u0275dir=Q({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(r,i){r&2&&Mt("required",i._enabled?"":null)},inputs:{required:"required"},standalone:!1,features:[Xe([Yx]),st]})}return n})();var Xx={provide:hs,useExisting:kn(()=>Jx),multi:!0},Jx=(()=>{class n extends iw{maxlength;inputName="maxlength";normalizeInput=t=>Kx(t);createValidator=t=>UE(t);static \u0275fac=(()=>{let t;return function(i){return(t||(t=hr(n)))(i||n)}})();static \u0275dir=Q({type:n,selectors:[["","maxlength","","formControlName",""],["","maxlength","","formControl",""],["","maxlength","","ngModel",""]],hostVars:1,hostBindings:function(r,i){r&2&&Mt("maxlength",i._enabled?i.maxlength:null)},inputs:{maxlength:"maxlength"},standalone:!1,features:[Xe([Xx]),st]})}return n})();var sw=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=me({type:n});static \u0275inj=fe({})}return n})(),Tf=class extends us{constructor(e,t,r){super(Rf(t),xf(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;at(e){return this.controls[this._adjustIndex(e)]}push(e,t={}){Array.isArray(e)?e.forEach(r=>{this.controls.push(r),this._registerControl(r)}):(this.controls.push(e),this._registerControl(e)),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,r={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,t={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,r={}){let i=this._adjustIndex(e);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),t&&(this.controls.splice(i,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){QE(this,!1,e),e.forEach((r,i)=>{YE(this,!1,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){e!=null&&(e.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t,this),this._updateTouched(t,this),this.updateValueAndValidity(t),t?.emitEvent!==!1&&this._events.next(new ua(this))}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((t,r)=>r._syncPendingControls()?!0:t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((t,r)=>{e(t,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(let e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}};function kE(n){return!!n&&(n.asyncValidators!==void 0||n.validators!==void 0||n.updateOn!==void 0)}var vj=(()=>{class n{useNonNullable=!1;get nonNullable(){let t=new n;return t.useNonNullable=!0,t}group(t,r=null){let i=this._reduceControls(t),s={};return kE(r)?s=r:r!==null&&(s.validators=r.validator,s.asyncValidators=r.asyncValidator),new ds(i,s)}record(t,r=null){let i=this._reduceControls(t);return new If(i,r)}control(t,r,i){let s={};return this.useNonNullable?(kE(r)?s=r:(s.validators=r,s.asyncValidators=i),new la(t,_e(N({},s),{nonNullable:!0}))):new la(t,r,i)}array(t,r,i){let s=t.map(o=>this._createControl(o));return new Tf(s,r,i)}_reduceControls(t){let r={};return Object.keys(t).forEach(i=>{r[i]=this._createControl(t[i])}),r}_createControl(t){if(t instanceof la)return t;if(t instanceof us)return t;if(Array.isArray(t)){let r=t[0],i=t.length>1?t[1]:null,s=t.length>2?t[2]:null;return this.control(r,i,s)}else return this.control(t)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var yj=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:da,useValue:t.callSetDisabledState??Hl}]}}static \u0275fac=function(r){return new(r||n)};static \u0275mod=me({type:n});static \u0275inj=fe({imports:[sw]})}return n})(),bj=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:rw,useValue:t.warnOnNgModelWithFormControl??"always"},{provide:da,useValue:t.callSetDisabledState??Hl}]}}static \u0275fac=function(r){return new(r||n)};static \u0275mod=me({type:n});static \u0275inj=fe({imports:[sw]})}return n})();function ha(n){return n.buttons===0||n.detail===0}function fa(n){let e=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!!e&&e.identifier===-1&&(e.radiusX==null||e.radiusX===1)&&(e.radiusY==null||e.radiusY===1)}var kf;function ow(){if(kf==null){let n=typeof document<"u"?document.head:null;kf=!!(n&&(n.createShadowRoot||n.attachShadow))}return kf}function Of(n){if(ow()){let e=n.getRootNode?n.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&e instanceof ShadowRoot)return e}return null}function Ff(){let n=typeof document<"u"&&document?document.activeElement:null;for(;n&&n.shadowRoot;){let e=n.shadowRoot.activeElement;if(e===n)break;n=e}return n}function tn(n){return n.composedPath?n.composedPath()[0]:n.target}var Lf;try{Lf=typeof Intl<"u"&&Intl.v8BreakIterator}catch{Lf=!1}var Se=(()=>{class n{_platformId=b(fr);isBrowser=this._platformId?fb(this._platformId):typeof document=="object"&&!!document;EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent);TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent);BLINK=this.isBrowser&&!!(window.chrome||Lf)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT;WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT;IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window);FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent);ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT;SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT;constructor(){}static \u0275fac=function(r){return new(r||n)};static \u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var ma;function aw(){if(ma==null&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>ma=!0}))}finally{ma=ma||!1}return ma}function fs(n){return aw()?n:!!n.capture}function cw(n,e=0){return lw(n)?Number(n):arguments.length===2?e:0}function lw(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}function nn(n){return n instanceof Ee?n.nativeElement:n}var uw=new L("cdk-input-modality-detector-options"),dw={ignoreKeys:[18,17,224,91,16]},hw=650,Vf={passive:!0,capture:!0},fw=(()=>{class n{_platform=b(Se);_listenerCleanups;modalityDetected;modalityChanged;get mostRecentModality(){return this._modality.value}_mostRecentTarget=null;_modality=new vt(null);_options;_lastTouchMs=0;_onKeydown=t=>{this._options?.ignoreKeys?.some(r=>r===t.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=tn(t))};_onMousedown=t=>{Date.now()-this._lastTouchMs<hw||(this._modality.next(ha(t)?"keyboard":"mouse"),this._mostRecentTarget=tn(t))};_onTouchstart=t=>{if(fa(t)){this._modality.next("keyboard");return}this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=tn(t)};constructor(){let t=b(Z),r=b(ie),i=b(uw,{optional:!0});if(this._options=N(N({},dw),i),this.modalityDetected=this._modality.pipe(Sc(1)),this.modalityChanged=this.modalityDetected.pipe(ty()),this._platform.isBrowser){let s=b(mr).createRenderer(null,null);this._listenerCleanups=t.runOutsideAngular(()=>[s.listen(r,"keydown",this._onKeydown,Vf),s.listen(r,"mousedown",this._onMousedown,Vf),s.listen(r,"touchstart",this._onTouchstart,Vf)])}}ngOnDestroy(){this._modality.complete(),this._listenerCleanups?.forEach(t=>t())}static \u0275fac=function(r){return new(r||n)};static \u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),pa=(function(n){return n[n.IMMEDIATE=0]="IMMEDIATE",n[n.EVENTUAL=1]="EVENTUAL",n})(pa||{}),mw=new L("cdk-focus-monitor-default-options"),ql=fs({passive:!0,capture:!0}),Gl=(()=>{class n{_ngZone=b(Z);_platform=b(Se);_inputModalityDetector=b(fw);_origin=null;_lastFocusOrigin;_windowFocused=!1;_windowFocusTimeoutId;_originTimeoutId;_originFromTouchInteraction=!1;_elementInfo=new Map;_monitoredElementCount=0;_rootNodeFocusListenerCount=new Map;_detectionMode;_windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=setTimeout(()=>this._windowFocused=!1)};_document=b(ie);_stopInputModalityDetector=new ue;constructor(){let t=b(mw,{optional:!0});this._detectionMode=t?.detectionMode||pa.IMMEDIATE}_rootNodeFocusAndBlurListener=t=>{let r=tn(t);for(let i=r;i;i=i.parentElement)t.type==="focus"?this._onFocus(t,i):this._onBlur(t,i)};monitor(t,r=!1){let i=nn(t);if(!this._platform.isBrowser||i.nodeType!==1)return $();let s=Of(i)||this._document,o=this._elementInfo.get(i);if(o)return r&&(o.checkChildren=!0),o.subject;let c={checkChildren:r,subject:new ue,rootNode:s};return this._elementInfo.set(i,c),this._registerGlobalListeners(c),c.subject}stopMonitoring(t){let r=nn(t),i=this._elementInfo.get(r);i&&(i.subject.complete(),this._setClasses(r),this._elementInfo.delete(r),this._removeGlobalListeners(i))}focusVia(t,r,i){let s=nn(t),o=this._document.activeElement;s===o?this._getClosestElementsInfo(s).forEach(([c,l])=>this._originChanged(c,r,l)):(this._setOrigin(r),typeof s.focus=="function"&&s.focus(i))}ngOnDestroy(){this._elementInfo.forEach((t,r)=>this.stopMonitoring(r))}_getWindow(){return this._document.defaultView||window}_getFocusOrigin(t){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(t)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:t&&this._isLastInteractionFromInputLabel(t)?"mouse":"program"}_shouldBeAttributedToTouch(t){return this._detectionMode===pa.EVENTUAL||!!t?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(t,r){t.classList.toggle("cdk-focused",!!r),t.classList.toggle("cdk-touch-focused",r==="touch"),t.classList.toggle("cdk-keyboard-focused",r==="keyboard"),t.classList.toggle("cdk-mouse-focused",r==="mouse"),t.classList.toggle("cdk-program-focused",r==="program")}_setOrigin(t,r=!1){this._ngZone.runOutsideAngular(()=>{if(this._origin=t,this._originFromTouchInteraction=t==="touch"&&r,this._detectionMode===pa.IMMEDIATE){clearTimeout(this._originTimeoutId);let i=this._originFromTouchInteraction?hw:1;this._originTimeoutId=setTimeout(()=>this._origin=null,i)}})}_onFocus(t,r){let i=this._elementInfo.get(r),s=tn(t);!i||!i.checkChildren&&r!==s||this._originChanged(r,this._getFocusOrigin(s),i)}_onBlur(t,r){let i=this._elementInfo.get(r);!i||i.checkChildren&&t.relatedTarget instanceof Node&&r.contains(t.relatedTarget)||(this._setClasses(r),this._emitOrigin(i,null))}_emitOrigin(t,r){t.subject.observers.length&&this._ngZone.run(()=>t.subject.next(r))}_registerGlobalListeners(t){if(!this._platform.isBrowser)return;let r=t.rootNode,i=this._rootNodeFocusListenerCount.get(r)||0;i||this._ngZone.runOutsideAngular(()=>{r.addEventListener("focus",this._rootNodeFocusAndBlurListener,ql),r.addEventListener("blur",this._rootNodeFocusAndBlurListener,ql)}),this._rootNodeFocusListenerCount.set(r,i+1),++this._monitoredElementCount===1&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(Kt(this._stopInputModalityDetector)).subscribe(s=>{this._setOrigin(s,!0)}))}_removeGlobalListeners(t){let r=t.rootNode;if(this._rootNodeFocusListenerCount.has(r)){let i=this._rootNodeFocusListenerCount.get(r);i>1?this._rootNodeFocusListenerCount.set(r,i-1):(r.removeEventListener("focus",this._rootNodeFocusAndBlurListener,ql),r.removeEventListener("blur",this._rootNodeFocusAndBlurListener,ql),this._rootNodeFocusListenerCount.delete(r))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(t,r,i){this._setClasses(t,r),this._emitOrigin(i,r),this._lastFocusOrigin=r}_getClosestElementsInfo(t){let r=[];return this._elementInfo.forEach((i,s)=>{(s===t||i.checkChildren&&s.contains(t))&&r.push([s,i])}),r}_isLastInteractionFromInputLabel(t){let{_mostRecentTarget:r,mostRecentModality:i}=this._inputModalityDetector;if(i!=="mouse"||!r||r===t||t.nodeName!=="INPUT"&&t.nodeName!=="TEXTAREA"||t.disabled)return!1;let s=t.labels;if(s){for(let o=0;o<s.length;o++)if(s[o].contains(r))return!0}return!1}static \u0275fac=function(r){return new(r||n)};static \u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Zx=(()=>{class n{_elementRef=b(Ee);_focusMonitor=b(Gl);_monitorSubscription;_focusOrigin=null;cdkFocusChange=new $e;constructor(){}get focusOrigin(){return this._focusOrigin}ngAfterViewInit(){let t=this._elementRef.nativeElement;this._monitorSubscription=this._focusMonitor.monitor(t,t.nodeType===1&&t.hasAttribute("cdkMonitorSubtreeFocus")).subscribe(r=>{this._focusOrigin=r,this.cdkFocusChange.emit(r)})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._monitorSubscription&&this._monitorSubscription.unsubscribe()}static \u0275fac=function(r){return new(r||n)};static \u0275dir=Q({type:n,selectors:[["","cdkMonitorElementFocus",""],["","cdkMonitorSubtreeFocus",""]],outputs:{cdkFocusChange:"cdkFocusChange"},exportAs:["cdkMonitorFocus"]})}return n})();var Wl=new WeakMap,rn=(()=>{class n{_appRef;_injector=b(De);_environmentInjector=b(Qt);load(t){let r=this._appRef=this._appRef||this._injector.get($i),i=Wl.get(r);i||(i={loaders:new Set,refs:[]},Wl.set(r,i),r.onDestroy(()=>{Wl.get(r)?.refs.forEach(s=>s.destroy()),Wl.delete(r)})),i.loaders.has(t)||(i.loaders.add(t),i.refs.push(Uy(t,{environmentInjector:this._environmentInjector})))}static \u0275fac=function(r){return new(r||n)};static \u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var Kl=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275cmp=Pe({type:n,selectors:[["ng-component"]],exportAs:["cdkVisuallyHidden"],decls:0,vars:0,template:function(r,i){},styles:[`.cdk-visually-hidden{border:0;clip:rect(0 0 0 0);height:1px;margin:-1px;overflow:hidden;padding:0;position:absolute;width:1px;white-space:nowrap;outline:0;-webkit-appearance:none;-moz-appearance:none;left:0}[dir=rtl] .cdk-visually-hidden{left:auto;right:0}
`],encapsulation:2,changeDetection:0})}return n})();function Uf(n){return Array.isArray(n)?n:[n]}var pw=new Set,oi,Yl=(()=>{class n{_platform=b(Se);_nonce=b(bo,{optional:!0});_matchMedia;constructor(){this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):tP}matchMedia(t){return(this._platform.WEBKIT||this._platform.BLINK)&&eP(t,this._nonce),this._matchMedia(t)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function eP(n,e){if(!pw.has(n))try{oi||(oi=document.createElement("style"),e&&oi.setAttribute("nonce",e),oi.setAttribute("type","text/css"),document.head.appendChild(oi)),oi.sheet&&(oi.sheet.insertRule(`@media ${n} {body{ }}`,0),pw.add(n))}catch(t){console.error(t)}}function tP(n){return{matches:n==="all"||n==="",media:n,addListener:()=>{},removeListener:()=>{}}}var Bf=(()=>{class n{_mediaMatcher=b(Yl);_zone=b(Z);_queries=new Map;_destroySubject=new ue;constructor(){}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(t){return gw(Uf(t)).some(i=>this._registerQuery(i).mql.matches)}observe(t){let i=gw(Uf(t)).map(o=>this._registerQuery(o).observable),s=go(i);return s=Tc(s.pipe(hn(1)),s.pipe(Sc(1),Cc(0))),s.pipe(Y(o=>{let c={matches:!1,breakpoints:{}};return o.forEach(({matches:l,query:d})=>{c.matches=c.matches||l,c.breakpoints[d]=l}),c}))}_registerQuery(t){if(this._queries.has(t))return this._queries.get(t);let r=this._mediaMatcher.matchMedia(t),s={observable:new Rt(o=>{let c=l=>this._zone.run(()=>o.next(l));return r.addListener(c),()=>{r.removeListener(c)}}).pipe(Fi(r),Y(({matches:o})=>({query:t,matches:o})),Kt(this._destroySubject)),mql:r};return this._queries.set(t,s),s}static \u0275fac=function(r){return new(r||n)};static \u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function gw(n){return n.map(e=>e.split(",")).reduce((e,t)=>e.concat(t)).map(e=>e.trim())}var nP=(()=>{class n{create(t){return typeof MutationObserver>"u"?null:new MutationObserver(t)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var Ql=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=me({type:n});static \u0275inj=fe({providers:[nP]})}return n})();var rP=(()=>{class n{_platform=b(Se);constructor(){}isDisabled(t){return t.hasAttribute("disabled")}isVisible(t){return sP(t)&&getComputedStyle(t).visibility==="visible"}isTabbable(t){if(!this._platform.isBrowser)return!1;let r=iP(fP(t));if(r&&(_w(r)===-1||!this.isVisible(r)))return!1;let i=t.nodeName.toLowerCase(),s=_w(t);return t.hasAttribute("contenteditable")?s!==-1:i==="iframe"||i==="object"||this._platform.WEBKIT&&this._platform.IOS&&!dP(t)?!1:i==="audio"?t.hasAttribute("controls")?s!==-1:!1:i==="video"?s===-1?!1:s!==null?!0:this._platform.FIREFOX||t.hasAttribute("controls"):t.tabIndex>=0}isFocusable(t,r){return hP(t)&&!this.isDisabled(t)&&(r?.ignoreVisibility||this.isVisible(t))}static \u0275fac=function(r){return new(r||n)};static \u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function iP(n){try{return n.frameElement}catch{return null}}function sP(n){return!!(n.offsetWidth||n.offsetHeight||typeof n.getClientRects=="function"&&n.getClientRects().length)}function oP(n){let e=n.nodeName.toLowerCase();return e==="input"||e==="select"||e==="button"||e==="textarea"}function aP(n){return lP(n)&&n.type=="hidden"}function cP(n){return uP(n)&&n.hasAttribute("href")}function lP(n){return n.nodeName.toLowerCase()=="input"}function uP(n){return n.nodeName.toLowerCase()=="a"}function bw(n){if(!n.hasAttribute("tabindex")||n.tabIndex===void 0)return!1;let e=n.getAttribute("tabindex");return!!(e&&!isNaN(parseInt(e,10)))}function _w(n){if(!bw(n))return null;let e=parseInt(n.getAttribute("tabindex")||"",10);return isNaN(e)?-1:e}function dP(n){let e=n.nodeName.toLowerCase(),t=e==="input"&&n.type;return t==="text"||t==="password"||e==="select"||e==="textarea"}function hP(n){return aP(n)?!1:oP(n)||cP(n)||n.hasAttribute("contenteditable")||bw(n)}function fP(n){return n.ownerDocument&&n.ownerDocument.defaultView||window}var $f=class{_element;_checker;_ngZone;_document;_injector;_startAnchor;_endAnchor;_hasAttached=!1;startAnchorListener=()=>this.focusLastTabbableElement();endAnchorListener=()=>this.focusFirstTabbableElement();get enabled(){return this._enabled}set enabled(e){this._enabled=e,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}_enabled=!0;constructor(e,t,r,i,s=!1,o){this._element=e,this._checker=t,this._ngZone=r,this._document=i,this._injector=o,s||this.attachAnchors()}destroy(){let e=this._startAnchor,t=this._endAnchor;e&&(e.removeEventListener("focus",this.startAnchorListener),e.remove()),t&&(t.removeEventListener("focus",this.endAnchorListener),t.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return this._hasAttached?!0:(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusInitialElement(e)))})}focusFirstTabbableElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusFirstTabbableElement(e)))})}focusLastTabbableElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusLastTabbableElement(e)))})}_getRegionBoundary(e){let t=this._element.querySelectorAll(`[cdk-focus-region-${e}], [cdkFocusRegion${e}], [cdk-focus-${e}]`);return e=="start"?t.length?t[0]:this._getFirstTabbableElement(this._element):t.length?t[t.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(e){let t=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(t){if(!this._checker.isFocusable(t)){let r=this._getFirstTabbableElement(t);return r?.focus(e),!!r}return t.focus(e),!0}return this.focusFirstTabbableElement(e)}focusFirstTabbableElement(e){let t=this._getRegionBoundary("start");return t&&t.focus(e),!!t}focusLastTabbableElement(e){let t=this._getRegionBoundary("end");return t&&t.focus(e),!!t}hasAttached(){return this._hasAttached}_getFirstTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;let t=e.children;for(let r=0;r<t.length;r++){let i=t[r].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(t[r]):null;if(i)return i}return null}_getLastTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;let t=e.children;for(let r=t.length-1;r>=0;r--){let i=t[r].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(t[r]):null;if(i)return i}return null}_createAnchor(){let e=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,e),e.classList.add("cdk-visually-hidden"),e.classList.add("cdk-focus-trap-anchor"),e.setAttribute("aria-hidden","true"),e}_toggleAnchorTabIndex(e,t){e?t.setAttribute("tabindex","0"):t.removeAttribute("tabindex")}toggleAnchors(e){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}_executeOnStable(e){this._injector?Pc(e,{injector:this._injector}):setTimeout(e)}},Ew=(()=>{class n{_checker=b(rP);_ngZone=b(Z);_document=b(ie);_injector=b(De);constructor(){b(rn).load(Kl)}create(t,r=!1){return new $f(t,this._checker,this._ngZone,this._document,r,this._injector)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),mP=(()=>{class n{_elementRef=b(Ee);_focusTrapFactory=b(Ew);focusTrap;_previouslyFocusedElement=null;get enabled(){return this.focusTrap?.enabled||!1}set enabled(t){this.focusTrap&&(this.focusTrap.enabled=t)}autoCapture;constructor(){b(Se).isBrowser&&(this.focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement,!0))}ngOnDestroy(){this.focusTrap?.destroy(),this._previouslyFocusedElement&&(this._previouslyFocusedElement.focus(),this._previouslyFocusedElement=null)}ngAfterContentInit(){this.focusTrap?.attachAnchors(),this.autoCapture&&this._captureFocus()}ngDoCheck(){this.focusTrap&&!this.focusTrap.hasAttached()&&this.focusTrap.attachAnchors()}ngOnChanges(t){let r=t.autoCapture;r&&!r.firstChange&&this.autoCapture&&this.focusTrap?.hasAttached()&&this._captureFocus()}_captureFocus(){this._previouslyFocusedElement=Ff(),this.focusTrap?.focusInitialElementWhenReady()}static \u0275fac=function(r){return new(r||n)};static \u0275dir=Q({type:n,selectors:[["","cdkTrapFocus",""]],inputs:{enabled:[2,"cdkTrapFocus","enabled",Ze],autoCapture:[2,"cdkTrapFocusAutoCapture","autoCapture",Ze]},exportAs:["cdkTrapFocus"],features:[xt]})}return n})(),ww=new L("liveAnnouncerElement",{providedIn:"root",factory:Iw});function Iw(){return null}var Tw=new L("LIVE_ANNOUNCER_DEFAULT_OPTIONS"),pP=0,gP=(()=>{class n{_ngZone=b(Z);_defaultOptions=b(Tw,{optional:!0});_liveElement;_document=b(ie);_previousTimeout;_currentPromise;_currentResolve;constructor(){let t=b(ww,{optional:!0});this._liveElement=t||this._createLiveElement()}announce(t,...r){let i=this._defaultOptions,s,o;return r.length===1&&typeof r[0]=="number"?o=r[0]:[s,o]=r,this.clear(),clearTimeout(this._previousTimeout),s||(s=i&&i.politeness?i.politeness:"polite"),o==null&&i&&(o=i.duration),this._liveElement.setAttribute("aria-live",s),this._liveElement.id&&this._exposeAnnouncerToModals(this._liveElement.id),this._ngZone.runOutsideAngular(()=>(this._currentPromise||(this._currentPromise=new Promise(c=>this._currentResolve=c)),clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=t,typeof o=="number"&&(this._previousTimeout=setTimeout(()=>this.clear(),o)),this._currentResolve?.(),this._currentPromise=this._currentResolve=void 0},100),this._currentPromise))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){clearTimeout(this._previousTimeout),this._liveElement?.remove(),this._liveElement=null,this._currentResolve?.(),this._currentPromise=this._currentResolve=void 0}_createLiveElement(){let t="cdk-live-announcer-element",r=this._document.getElementsByClassName(t),i=this._document.createElement("div");for(let s=0;s<r.length;s++)r[s].remove();return i.classList.add(t),i.classList.add("cdk-visually-hidden"),i.setAttribute("aria-atomic","true"),i.setAttribute("aria-live","polite"),i.id=`cdk-live-announcer-${pP++}`,this._document.body.appendChild(i),i}_exposeAnnouncerToModals(t){let r=this._document.querySelectorAll('body > .cdk-overlay-container [aria-modal="true"]');for(let i=0;i<r.length;i++){let s=r[i],o=s.getAttribute("aria-owns");o?o.indexOf(t)===-1&&s.setAttribute("aria-owns",o+" "+t):s.setAttribute("aria-owns",t)}}static \u0275fac=function(r){return new(r||n)};static \u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var Er=(function(n){return n[n.NONE=0]="NONE",n[n.BLACK_ON_WHITE=1]="BLACK_ON_WHITE",n[n.WHITE_ON_BLACK=2]="WHITE_ON_BLACK",n})(Er||{}),vw="cdk-high-contrast-black-on-white",yw="cdk-high-contrast-white-on-black",jf="cdk-high-contrast-active",Xl=(()=>{class n{_platform=b(Se);_hasCheckedHighContrastMode;_document=b(ie);_breakpointSubscription;constructor(){this._breakpointSubscription=b(Bf).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return Er.NONE;let t=this._document.createElement("div");t.style.backgroundColor="rgb(1,2,3)",t.style.position="absolute",this._document.body.appendChild(t);let r=this._document.defaultView||window,i=r&&r.getComputedStyle?r.getComputedStyle(t):null,s=(i&&i.backgroundColor||"").replace(/ /g,"");switch(t.remove(),s){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return Er.WHITE_ON_BLACK;case"rgb(255,255,255)":case"rgb(255,250,239)":return Er.BLACK_ON_WHITE}return Er.NONE}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){let t=this._document.body.classList;t.remove(jf,vw,yw),this._hasCheckedHighContrastMode=!0;let r=this.getHighContrastMode();r===Er.BLACK_ON_WHITE?t.add(jf,vw):r===Er.WHITE_ON_BLACK&&t.add(jf,yw)}}static \u0275fac=function(r){return new(r||n)};static \u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),_P=(()=>{class n{constructor(){b(Xl)._applyBodyHighContrastModeCssClasses()}static \u0275fac=function(r){return new(r||n)};static \u0275mod=me({type:n});static \u0275inj=fe({imports:[Ql]})}return n})();var zf={},ai=(()=>{class n{_appId=b(Yr);getId(t){return this._appId!=="ng"&&(t+=this._appId),zf.hasOwnProperty(t)||(zf[t]=0),`${t}${zf[t]++}`}static \u0275fac=function(r){return new(r||n)};static \u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var vP=200,Jl=class{_letterKeyStream=new ue;_items=[];_selectedItemIndex=-1;_pressedLetters=[];_skipPredicateFn;_selectedItem=new ue;selectedItem=this._selectedItem;constructor(e,t){let r=typeof t?.debounceInterval=="number"?t.debounceInterval:vP;t?.skipPredicate&&(this._skipPredicateFn=t.skipPredicate),this.setItems(e),this._setupKeyHandler(r)}destroy(){this._pressedLetters=[],this._letterKeyStream.complete(),this._selectedItem.complete()}setCurrentSelectedItemIndex(e){this._selectedItemIndex=e}setItems(e){this._items=e}handleKey(e){let t=e.keyCode;e.key&&e.key.length===1?this._letterKeyStream.next(e.key.toLocaleUpperCase()):(t>=65&&t<=90||t>=48&&t<=57)&&this._letterKeyStream.next(String.fromCharCode(t))}isTyping(){return this._pressedLetters.length>0}reset(){this._pressedLetters=[]}_setupKeyHandler(e){this._letterKeyStream.pipe(Te(t=>this._pressedLetters.push(t)),Cc(e),dt(()=>this._pressedLetters.length>0),Y(()=>this._pressedLetters.join("").toLocaleUpperCase())).subscribe(t=>{for(let r=1;r<this._items.length+1;r++){let i=(this._selectedItemIndex+r)%this._items.length,s=this._items[i];if(!this._skipPredicateFn?.(s)&&s.getLabel?.().toLocaleUpperCase().trim().indexOf(t)===0){this._selectedItem.next(s);break}}this._pressedLetters=[]})}};function Aw(n,...e){return e.length?e.some(t=>n[t]):n.altKey||n.shiftKey||n.ctrlKey||n.metaKey}var Zl=class{_items;_activeItemIndex=Qe(-1);_activeItem=Qe(null);_wrap=!1;_typeaheadSubscription=ar.EMPTY;_itemChangesSubscription;_vertical=!0;_horizontal;_allowedModifierKeys=[];_homeAndEnd=!1;_pageUpAndDown={enabled:!1,delta:10};_effectRef;_typeahead;_skipPredicateFn=e=>e.disabled;constructor(e,t){this._items=e,e instanceof _h?this._itemChangesSubscription=e.changes.subscribe(r=>this._itemsChanged(r.toArray())):yo(e)&&(this._effectRef=qi(()=>this._itemsChanged(e()),{injector:t}))}tabOut=new ue;change=new ue;skipPredicate(e){return this._skipPredicateFn=e,this}withWrap(e=!0){return this._wrap=e,this}withVerticalOrientation(e=!0){return this._vertical=e,this}withHorizontalOrientation(e){return this._horizontal=e,this}withAllowedModifierKeys(e){return this._allowedModifierKeys=e,this}withTypeAhead(e=200){this._typeaheadSubscription.unsubscribe();let t=this._getItemsArray();return this._typeahead=new Jl(t,{debounceInterval:typeof e=="number"?e:void 0,skipPredicate:r=>this._skipPredicateFn(r)}),this._typeaheadSubscription=this._typeahead.selectedItem.subscribe(r=>{this.setActiveItem(r)}),this}cancelTypeahead(){return this._typeahead?.reset(),this}withHomeAndEnd(e=!0){return this._homeAndEnd=e,this}withPageUpDown(e=!0,t=10){return this._pageUpAndDown={enabled:e,delta:t},this}setActiveItem(e){let t=this._activeItem();this.updateActiveItem(e),this._activeItem()!==t&&this.change.next(this._activeItemIndex())}onKeydown(e){let t=e.keyCode,i=["altKey","ctrlKey","metaKey","shiftKey"].every(s=>!e[s]||this._allowedModifierKeys.indexOf(s)>-1);switch(t){case 9:this.tabOut.next();return;case 40:if(this._vertical&&i){this.setNextItemActive();break}else return;case 38:if(this._vertical&&i){this.setPreviousItemActive();break}else return;case 39:if(this._horizontal&&i){this._horizontal==="rtl"?this.setPreviousItemActive():this.setNextItemActive();break}else return;case 37:if(this._horizontal&&i){this._horizontal==="rtl"?this.setNextItemActive():this.setPreviousItemActive();break}else return;case 36:if(this._homeAndEnd&&i){this.setFirstItemActive();break}else return;case 35:if(this._homeAndEnd&&i){this.setLastItemActive();break}else return;case 33:if(this._pageUpAndDown.enabled&&i){let s=this._activeItemIndex()-this._pageUpAndDown.delta;this._setActiveItemByIndex(s>0?s:0,1);break}else return;case 34:if(this._pageUpAndDown.enabled&&i){let s=this._activeItemIndex()+this._pageUpAndDown.delta,o=this._getItemsArray().length;this._setActiveItemByIndex(s<o?s:o-1,-1);break}else return;default:(i||Aw(e,"shiftKey"))&&this._typeahead?.handleKey(e);return}this._typeahead?.reset(),e.preventDefault()}get activeItemIndex(){return this._activeItemIndex()}get activeItem(){return this._activeItem()}isTyping(){return!!this._typeahead&&this._typeahead.isTyping()}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._getItemsArray().length-1,-1)}setNextItemActive(){this._activeItemIndex()<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex()<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(e){let t=this._getItemsArray(),r=typeof e=="number"?e:t.indexOf(e),i=t[r];this._activeItem.set(i??null),this._activeItemIndex.set(r),this._typeahead?.setCurrentSelectedItemIndex(r)}destroy(){this._typeaheadSubscription.unsubscribe(),this._itemChangesSubscription?.unsubscribe(),this._effectRef?.destroy(),this._typeahead?.destroy(),this.tabOut.complete(),this.change.complete()}_setActiveItemByDelta(e){this._wrap?this._setActiveInWrapMode(e):this._setActiveInDefaultMode(e)}_setActiveInWrapMode(e){let t=this._getItemsArray();for(let r=1;r<=t.length;r++){let i=(this._activeItemIndex()+e*r+t.length)%t.length,s=t[i];if(!this._skipPredicateFn(s)){this.setActiveItem(i);return}}}_setActiveInDefaultMode(e){this._setActiveItemByIndex(this._activeItemIndex()+e,e)}_setActiveItemByIndex(e,t){let r=this._getItemsArray();if(r[e]){for(;this._skipPredicateFn(r[e]);)if(e+=t,!r[e])return;this.setActiveItem(e)}}_getItemsArray(){return yo(this._items)?this._items():this._items instanceof _h?this._items.toArray():this._items}_itemsChanged(e){this._typeahead?.setItems(e);let t=this._activeItem();if(t){let r=e.indexOf(t);r>-1&&r!==this._activeItemIndex()&&(this._activeItemIndex.set(r),this._typeahead?.setCurrentSelectedItemIndex(r))}}};var Hf=class extends Zl{setActiveItem(e){this.activeItem&&this.activeItem.setInactiveStyles(),super.setActiveItem(e),this.activeItem&&this.activeItem.setActiveStyles()}};var Cw=" ";function yP(n,e,t){let r=tu(n,e);t=t.trim(),!r.some(i=>i.trim()===t)&&(r.push(t),n.setAttribute(e,r.join(Cw)))}function bP(n,e,t){let r=tu(n,e);t=t.trim();let i=r.filter(s=>s!==t);i.length?n.setAttribute(e,i.join(Cw)):n.removeAttribute(e)}function tu(n,e){return n.getAttribute(e)?.match(/\S+/g)??[]}var Sw="cdk-describedby-message",eu="cdk-describedby-host",Gf=0,rz=(()=>{class n{_platform=b(Se);_document=b(ie);_messageRegistry=new Map;_messagesContainer=null;_id=`${Gf++}`;constructor(){b(rn).load(Kl),this._id=b(Yr)+"-"+Gf++}describe(t,r,i){if(!this._canBeDescribed(t,r))return;let s=qf(r,i);typeof r!="string"?(Dw(r,this._id),this._messageRegistry.set(s,{messageElement:r,referenceCount:0})):this._messageRegistry.has(s)||this._createMessageElement(r,i),this._isElementDescribedByMessage(t,s)||this._addMessageReference(t,s)}removeDescription(t,r,i){if(!r||!this._isElementNode(t))return;let s=qf(r,i);if(this._isElementDescribedByMessage(t,s)&&this._removeMessageReference(t,s),typeof r=="string"){let o=this._messageRegistry.get(s);o&&o.referenceCount===0&&this._deleteMessageElement(s)}this._messagesContainer?.childNodes.length===0&&(this._messagesContainer.remove(),this._messagesContainer=null)}ngOnDestroy(){let t=this._document.querySelectorAll(`[${eu}="${this._id}"]`);for(let r=0;r<t.length;r++)this._removeCdkDescribedByReferenceIds(t[r]),t[r].removeAttribute(eu);this._messagesContainer?.remove(),this._messagesContainer=null,this._messageRegistry.clear()}_createMessageElement(t,r){let i=this._document.createElement("div");Dw(i,this._id),i.textContent=t,r&&i.setAttribute("role",r),this._createMessagesContainer(),this._messagesContainer.appendChild(i),this._messageRegistry.set(qf(t,r),{messageElement:i,referenceCount:0})}_deleteMessageElement(t){this._messageRegistry.get(t)?.messageElement?.remove(),this._messageRegistry.delete(t)}_createMessagesContainer(){if(this._messagesContainer)return;let t="cdk-describedby-message-container",r=this._document.querySelectorAll(`.${t}[platform="server"]`);for(let s=0;s<r.length;s++)r[s].remove();let i=this._document.createElement("div");i.style.visibility="hidden",i.classList.add(t),i.classList.add("cdk-visually-hidden"),this._platform.isBrowser||i.setAttribute("platform","server"),this._document.body.appendChild(i),this._messagesContainer=i}_removeCdkDescribedByReferenceIds(t){let r=tu(t,"aria-describedby").filter(i=>i.indexOf(Sw)!=0);t.setAttribute("aria-describedby",r.join(" "))}_addMessageReference(t,r){let i=this._messageRegistry.get(r);yP(t,"aria-describedby",i.messageElement.id),t.setAttribute(eu,this._id),i.referenceCount++}_removeMessageReference(t,r){let i=this._messageRegistry.get(r);i.referenceCount--,bP(t,"aria-describedby",i.messageElement.id),t.removeAttribute(eu)}_isElementDescribedByMessage(t,r){let i=tu(t,"aria-describedby"),s=this._messageRegistry.get(r),o=s&&s.messageElement.id;return!!o&&i.indexOf(o)!=-1}_canBeDescribed(t,r){if(!this._isElementNode(t))return!1;if(r&&typeof r=="object")return!0;let i=r==null?"":`${r}`.trim(),s=t.getAttribute("aria-label");return i?!s||s.trim()!==i:!1}_isElementNode(t){return t.nodeType===this._document.ELEMENT_NODE}static \u0275fac=function(r){return new(r||n)};static \u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function qf(n,e){return typeof n=="string"?`${e||""}/${n}`:n}function Dw(n,e){n.id||(n.id=`${Sw}-${e}-${Gf++}`)}var ga=(function(n){return n[n.NORMAL=0]="NORMAL",n[n.NEGATED=1]="NEGATED",n[n.INVERTED=2]="INVERTED",n})(ga||{}),nu,ci;function uz(){if(ci==null){if(typeof document!="object"||!document||typeof Element!="function"||!Element)return ci=!1,ci;if(document.documentElement?.style&&"scrollBehavior"in document.documentElement.style)ci=!0;else{let n=Element.prototype.scrollTo;n?ci=!/\{\s*\[native code\]\s*\}/.test(n.toString()):ci=!1}}return ci}function dz(){if(typeof document!="object"||!document)return ga.NORMAL;if(nu==null){let n=document.createElement("div"),e=n.style;n.dir="rtl",e.width="1px",e.overflow="auto",e.visibility="hidden",e.pointerEvents="none",e.position="absolute";let t=document.createElement("div"),r=t.style;r.width="2px",r.height="1px",n.appendChild(t),document.body.appendChild(n),nu=ga.NORMAL,n.scrollLeft===0&&(n.scrollLeft=1,nu=n.scrollLeft===0?ga.NEGATED:ga.INVERTED),n.remove()}return nu}function fz(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}var ms,Rw=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function Wf(){if(ms)return ms;if(typeof document!="object"||!document)return ms=new Set(Rw),ms;let n=document.createElement("input");return ms=new Set(Rw.filter(e=>(n.setAttribute("type",e),n.type===e))),ms}var EP=new L("MATERIAL_ANIMATIONS");var xw=null;function wP(){return b(EP,{optional:!0})?.animationsDisabled||b(py,{optional:!0})==="NoopAnimations"?"di-disabled":(xw??=b(Yl).matchMedia("(prefers-reduced-motion)").matches,xw?"reduced-motion":"enabled")}function wr(){return wP()!=="enabled"}function Tz(n){return n==null?"":typeof n=="string"?n:`${n}px`}function ps(n){return n!=null&&`${n}`!="false"}function Dz(n,e=/\s+/){let t=[];if(n!=null){let r=Array.isArray(n)?n:`${n}`.split(e);for(let i of r){let s=`${i}`.trim();s&&t.push(s)}}return t}var zt=(function(n){return n[n.FADING_IN=0]="FADING_IN",n[n.VISIBLE=1]="VISIBLE",n[n.FADING_OUT=2]="FADING_OUT",n[n.HIDDEN=3]="HIDDEN",n})(zt||{}),Kf=class{_renderer;element;config;_animationForciblyDisabledThroughCss;state=zt.HIDDEN;constructor(e,t,r,i=!1){this._renderer=e,this.element=t,this.config=r,this._animationForciblyDisabledThroughCss=i}fadeOut(){this._renderer.fadeOutRipple(this)}},Pw=fs({passive:!0,capture:!0}),Yf=class{_events=new Map;addHandler(e,t,r,i){let s=this._events.get(t);if(s){let o=s.get(r);o?o.add(i):s.set(r,new Set([i]))}else this._events.set(t,new Map([[r,new Set([i])]])),e.runOutsideAngular(()=>{document.addEventListener(t,this._delegateEventHandler,Pw)})}removeHandler(e,t,r){let i=this._events.get(e);if(!i)return;let s=i.get(t);s&&(s.delete(r),s.size===0&&i.delete(t),i.size===0&&(this._events.delete(e),document.removeEventListener(e,this._delegateEventHandler,Pw)))}_delegateEventHandler=e=>{let t=tn(e);t&&this._events.get(e.type)?.forEach((r,i)=>{(i===t||i.contains(t))&&r.forEach(s=>s.handleEvent(e))})}},_a={enterDuration:225,exitDuration:150},IP=800,Mw=fs({passive:!0,capture:!0}),Nw=["mousedown","touchstart"],kw=["mouseup","mouseleave","touchend","touchcancel"],TP=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275cmp=Pe({type:n,selectors:[["ng-component"]],hostAttrs:["mat-ripple-style-loader",""],decls:0,vars:0,template:function(r,i){},styles:[`.mat-ripple{overflow:hidden;position:relative}.mat-ripple:not(:empty){transform:translateZ(0)}.mat-ripple.mat-ripple-unbounded{overflow:visible}.mat-ripple-element{position:absolute;border-radius:50%;pointer-events:none;transition:opacity,transform 0ms cubic-bezier(0, 0, 0.2, 1);transform:scale3d(0, 0, 0);background-color:var(--mat-ripple-color, color-mix(in srgb, var(--mat-sys-on-surface) 10%, transparent))}@media(forced-colors: active){.mat-ripple-element{display:none}}.cdk-drag-preview .mat-ripple-element,.cdk-drag-placeholder .mat-ripple-element{display:none}
`],encapsulation:2,changeDetection:0})}return n})(),va=class n{_target;_ngZone;_platform;_containerElement;_triggerElement;_isPointerDown=!1;_activeRipples=new Map;_mostRecentTransientRipple;_lastTouchStartEvent;_pointerUpEventsRegistered=!1;_containerRect;static _eventManager=new Yf;constructor(e,t,r,i,s){this._target=e,this._ngZone=t,this._platform=i,i.isBrowser&&(this._containerElement=nn(r)),s&&s.get(rn).load(TP)}fadeInRipple(e,t,r={}){let i=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),s=N(N({},_a),r.animation);r.centered&&(e=i.left+i.width/2,t=i.top+i.height/2);let o=r.radius||AP(e,t,i),c=e-i.left,l=t-i.top,d=s.enterDuration,f=document.createElement("div");f.classList.add("mat-ripple-element"),f.style.left=`${c-o}px`,f.style.top=`${l-o}px`,f.style.height=`${o*2}px`,f.style.width=`${o*2}px`,r.color!=null&&(f.style.backgroundColor=r.color),f.style.transitionDuration=`${d}ms`,this._containerElement.appendChild(f);let p=window.getComputedStyle(f),g=p.transitionProperty,A=p.transitionDuration,R=g==="none"||A==="0s"||A==="0s, 0s"||i.width===0&&i.height===0,M=new Kf(this,f,r,R);f.style.transform="scale3d(1, 1, 1)",M.state=zt.FADING_IN,r.persistent||(this._mostRecentTransientRipple=M);let S=null;return!R&&(d||s.exitDuration)&&this._ngZone.runOutsideAngular(()=>{let F=()=>{S&&(S.fallbackTimer=null),clearTimeout(j),this._finishRippleTransition(M)},U=()=>this._destroyRipple(M),j=setTimeout(U,d+100);f.addEventListener("transitionend",F),f.addEventListener("transitioncancel",U),S={onTransitionEnd:F,onTransitionCancel:U,fallbackTimer:j}}),this._activeRipples.set(M,S),(R||!d)&&this._finishRippleTransition(M),M}fadeOutRipple(e){if(e.state===zt.FADING_OUT||e.state===zt.HIDDEN)return;let t=e.element,r=N(N({},_a),e.config.animation);t.style.transitionDuration=`${r.exitDuration}ms`,t.style.opacity="0",e.state=zt.FADING_OUT,(e._animationForciblyDisabledThroughCss||!r.exitDuration)&&this._finishRippleTransition(e)}fadeOutAll(){this._getActiveRipples().forEach(e=>e.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(e=>{e.config.persistent||e.fadeOut()})}setupTriggerEvents(e){let t=nn(e);!this._platform.isBrowser||!t||t===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=t,Nw.forEach(r=>{n._eventManager.addHandler(this._ngZone,r,t,this)}))}handleEvent(e){e.type==="mousedown"?this._onMousedown(e):e.type==="touchstart"?this._onTouchStart(e):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{kw.forEach(t=>{this._triggerElement.addEventListener(t,this,Mw)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(e){e.state===zt.FADING_IN?this._startFadeOutTransition(e):e.state===zt.FADING_OUT&&this._destroyRipple(e)}_startFadeOutTransition(e){let t=e===this._mostRecentTransientRipple,{persistent:r}=e.config;e.state=zt.VISIBLE,!r&&(!t||!this._isPointerDown)&&e.fadeOut()}_destroyRipple(e){let t=this._activeRipples.get(e)??null;this._activeRipples.delete(e),this._activeRipples.size||(this._containerRect=null),e===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),e.state=zt.HIDDEN,t!==null&&(e.element.removeEventListener("transitionend",t.onTransitionEnd),e.element.removeEventListener("transitioncancel",t.onTransitionCancel),t.fallbackTimer!==null&&clearTimeout(t.fallbackTimer)),e.element.remove()}_onMousedown(e){let t=ha(e),r=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+IP;!this._target.rippleDisabled&&!t&&!r&&(this._isPointerDown=!0,this.fadeInRipple(e.clientX,e.clientY,this._target.rippleConfig))}_onTouchStart(e){if(!this._target.rippleDisabled&&!fa(e)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;let t=e.changedTouches;if(t)for(let r=0;r<t.length;r++)this.fadeInRipple(t[r].clientX,t[r].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(e=>{let t=e.state===zt.VISIBLE||e.config.terminateOnPointerUp&&e.state===zt.FADING_IN;!e.config.persistent&&t&&e.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){let e=this._triggerElement;e&&(Nw.forEach(t=>n._eventManager.removeHandler(t,e,this)),this._pointerUpEventsRegistered&&(kw.forEach(t=>e.removeEventListener(t,this,Mw)),this._pointerUpEventsRegistered=!1))}};function AP(n,e,t){let r=Math.max(Math.abs(n-t.left),Math.abs(n-t.right)),i=Math.max(Math.abs(e-t.top),Math.abs(e-t.bottom));return Math.sqrt(r*r+i*i)}var Qf=new L("mat-ripple-global-options"),Bz=(()=>{class n{_elementRef=b(Ee);_animationsDisabled=wr();color;unbounded;centered;radius=0;animation;get disabled(){return this._disabled}set disabled(t){t&&this.fadeOutAllNonPersistent(),this._disabled=t,this._setupTriggerEventsIfEnabled()}_disabled=!1;get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(t){this._trigger=t,this._setupTriggerEventsIfEnabled()}_trigger;_rippleRenderer;_globalOptions;_isInitialized=!1;constructor(){let t=b(Z),r=b(Se),i=b(Qf,{optional:!0}),s=b(De);this._globalOptions=i||{},this._rippleRenderer=new va(this,t,this._elementRef,r,s)}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:N(N(N({},this._globalOptions.animation),this._animationsDisabled?{enterDuration:0,exitDuration:0}:{}),this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(t,r=0,i){return typeof t=="number"?this._rippleRenderer.fadeInRipple(t,r,N(N({},this.rippleConfig),i)):this._rippleRenderer.fadeInRipple(0,0,N(N({},this.rippleConfig),t))}static \u0275fac=function(r){return new(r||n)};static \u0275dir=Q({type:n,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(r,i){r&2&&Ce("mat-ripple-unbounded",i.unbounded)},inputs:{color:[0,"matRippleColor","color"],unbounded:[0,"matRippleUnbounded","unbounded"],centered:[0,"matRippleCentered","centered"],radius:[0,"matRippleRadius","radius"],animation:[0,"matRippleAnimation","animation"],disabled:[0,"matRippleDisabled","disabled"],trigger:[0,"matRippleTrigger","trigger"]},exportAs:["matRipple"]})}return n})();var DP={capture:!0},CP=["focus","mousedown","mouseenter","touchstart"],Xf="mat-ripple-loader-uninitialized",Jf="mat-ripple-loader-class-name",Ow="mat-ripple-loader-centered",ru="mat-ripple-loader-disabled",Fw=(()=>{class n{_document=b(ie);_animationsDisabled=wr();_globalRippleOptions=b(Qf,{optional:!0});_platform=b(Se);_ngZone=b(Z);_injector=b(De);_eventCleanups;_hosts=new Map;constructor(){let t=b(mr).createRenderer(null,null);this._eventCleanups=this._ngZone.runOutsideAngular(()=>CP.map(r=>t.listen(this._document,r,this._onInteraction,DP)))}ngOnDestroy(){let t=this._hosts.keys();for(let r of t)this.destroyRipple(r);this._eventCleanups.forEach(r=>r())}configureRipple(t,r){t.setAttribute(Xf,this._globalRippleOptions?.namespace??""),(r.className||!t.hasAttribute(Jf))&&t.setAttribute(Jf,r.className||""),r.centered&&t.setAttribute(Ow,""),r.disabled&&t.setAttribute(ru,"")}setDisabled(t,r){let i=this._hosts.get(t);i?(i.target.rippleDisabled=r,!r&&!i.hasSetUpEvents&&(i.hasSetUpEvents=!0,i.renderer.setupTriggerEvents(t))):r?t.setAttribute(ru,""):t.removeAttribute(ru)}_onInteraction=t=>{let r=tn(t);if(r instanceof HTMLElement){let i=r.closest(`[${Xf}="${this._globalRippleOptions?.namespace??""}"]`);i&&this._createRipple(i)}};_createRipple(t){if(!this._document||this._hosts.has(t))return;t.querySelector(".mat-ripple")?.remove();let r=this._document.createElement("span");r.classList.add("mat-ripple",t.getAttribute(Jf)),t.append(r);let i=this._globalRippleOptions,s=this._animationsDisabled?0:i?.animation?.enterDuration??_a.enterDuration,o=this._animationsDisabled?0:i?.animation?.exitDuration??_a.exitDuration,c={rippleDisabled:this._animationsDisabled||i?.disabled||t.hasAttribute(ru),rippleConfig:{centered:t.hasAttribute(Ow),terminateOnPointerUp:i?.terminateOnPointerUp,animation:{enterDuration:s,exitDuration:o}}},l=new va(c,this._ngZone,r,this._platform,this._injector),d=!c.rippleDisabled;d&&l.setupTriggerEvents(t),this._hosts.set(t,{target:c,renderer:l,hasSetUpEvents:d}),t.removeAttribute(Xf)}destroyRipple(t){let r=this._hosts.get(t);r&&(r.renderer._removeTriggerEvents(),this._hosts.delete(t))}static \u0275fac=function(r){return new(r||n)};static \u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var Lw=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275cmp=Pe({type:n,selectors:[["structural-styles"]],decls:0,vars:0,template:function(r,i){},styles:[`.mat-focus-indicator{position:relative}.mat-focus-indicator::before{top:0;left:0;right:0;bottom:0;position:absolute;box-sizing:border-box;pointer-events:none;display:var(--mat-focus-indicator-display, none);border-width:var(--mat-focus-indicator-border-width, 3px);border-style:var(--mat-focus-indicator-border-style, solid);border-color:var(--mat-focus-indicator-border-color, transparent);border-radius:var(--mat-focus-indicator-border-radius, 4px)}.mat-focus-indicator:focus::before{content:""}@media(forced-colors: active){html{--mat-focus-indicator-display: block}}
`],encapsulation:2,changeDetection:0})}return n})();var SP=["mat-icon-button",""],RP=["*"],xP=new L("MAT_BUTTON_CONFIG");function Vw(n){return n==null?void 0:Ly(n)}var Zf=(()=>{class n{_elementRef=b(Ee);_ngZone=b(Z);_animationsDisabled=wr();_config=b(xP,{optional:!0});_focusMonitor=b(Gl);_cleanupClick;_renderer=b(Bt);_rippleLoader=b(Fw);_isAnchor;_isFab=!1;color;get disableRipple(){return this._disableRipple}set disableRipple(t){this._disableRipple=t,this._updateRippleDisabled()}_disableRipple=!1;get disabled(){return this._disabled}set disabled(t){this._disabled=t,this._updateRippleDisabled()}_disabled=!1;ariaDisabled;disabledInteractive;tabIndex;set _tabindex(t){this.tabIndex=t}constructor(){b(rn).load(Lw);let t=this._elementRef.nativeElement;this._isAnchor=t.tagName==="A",this.disabledInteractive=this._config?.disabledInteractive??!1,this.color=this._config?.color??null,this._rippleLoader?.configureRipple(t,{className:"mat-mdc-button-ripple"})}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0),this._isAnchor&&this._setupAsAnchor()}ngOnDestroy(){this._cleanupClick?.(),this._focusMonitor.stopMonitoring(this._elementRef),this._rippleLoader?.destroyRipple(this._elementRef.nativeElement)}focus(t="program",r){t?this._focusMonitor.focusVia(this._elementRef.nativeElement,t,r):this._elementRef.nativeElement.focus(r)}_getAriaDisabled(){return this.ariaDisabled!=null?this.ariaDisabled:this._isAnchor?this.disabled||null:this.disabled&&this.disabledInteractive?!0:null}_getDisabledAttribute(){return this.disabledInteractive||!this.disabled?null:!0}_updateRippleDisabled(){this._rippleLoader?.setDisabled(this._elementRef.nativeElement,this.disableRipple||this.disabled)}_getTabIndex(){return this._isAnchor?this.disabled&&!this.disabledInteractive?-1:this.tabIndex:this.tabIndex}_setupAsAnchor(){this._cleanupClick=this._ngZone.runOutsideAngular(()=>this._renderer.listen(this._elementRef.nativeElement,"click",t=>{this.disabled&&(t.preventDefault(),t.stopImmediatePropagation())}))}static \u0275fac=function(r){return new(r||n)};static \u0275dir=Q({type:n,hostAttrs:[1,"mat-mdc-button-base"],hostVars:13,hostBindings:function(r,i){r&2&&(Mt("disabled",i._getDisabledAttribute())("aria-disabled",i._getAriaDisabled())("tabindex",i._getTabIndex()),Oc(i.color?"mat-"+i.color:""),Ce("mat-mdc-button-disabled",i.disabled)("mat-mdc-button-disabled-interactive",i.disabledInteractive)("mat-unthemed",!i.color)("_mat-animation-noopable",i._animationsDisabled))},inputs:{color:"color",disableRipple:[2,"disableRipple","disableRipple",Ze],disabled:[2,"disabled","disabled",Ze],ariaDisabled:[2,"aria-disabled","ariaDisabled",Ze],disabledInteractive:[2,"disabledInteractive","disabledInteractive",Ze],tabIndex:[2,"tabIndex","tabIndex",Vw],_tabindex:[2,"tabindex","_tabindex",Vw]}})}return n})(),PP=(()=>{class n extends Zf{constructor(){super(),this._rippleLoader.configureRipple(this._elementRef.nativeElement,{centered:!0})}static \u0275fac=function(r){return new(r||n)};static \u0275cmp=Pe({type:n,selectors:[["button","mat-icon-button",""],["a","mat-icon-button",""],["button","matIconButton",""],["a","matIconButton",""]],hostAttrs:[1,"mdc-icon-button","mat-mdc-icon-button"],exportAs:["matButton","matAnchor"],features:[st],attrs:SP,ngContentSelectors:RP,decls:4,vars:0,consts:[[1,"mat-mdc-button-persistent-ripple","mdc-icon-button__ripple"],[1,"mat-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(r,i){r&1&&(Xt(),On(0,"span",0),Me(1),On(2,"span",1)(3,"span",2))},styles:[`.mat-mdc-icon-button{-webkit-user-select:none;user-select:none;display:inline-block;position:relative;box-sizing:border-box;border:none;outline:none;background-color:rgba(0,0,0,0);fill:currentColor;text-decoration:none;cursor:pointer;z-index:0;overflow:visible;border-radius:var(--mat-icon-button-container-shape, var(--mat-sys-corner-full, 50%));flex-shrink:0;text-align:center;width:var(--mat-icon-button-state-layer-size, 40px);height:var(--mat-icon-button-state-layer-size, 40px);padding:calc(calc(var(--mat-icon-button-state-layer-size, 40px) - var(--mat-icon-button-icon-size, 24px)) / 2);font-size:var(--mat-icon-button-icon-size, 24px);color:var(--mat-icon-button-icon-color, var(--mat-sys-on-surface-variant));-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-icon-button .mat-mdc-button-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-icon-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0}.mat-mdc-icon-button .mdc-button__label,.mat-mdc-icon-button .mat-icon{z-index:1;position:relative}.mat-mdc-icon-button .mat-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:inherit}.mat-mdc-icon-button:focus>.mat-focus-indicator::before{content:"";border-radius:inherit}.mat-mdc-icon-button .mat-ripple-element{background-color:var(--mat-icon-button-ripple-color, color-mix(in srgb, var(--mat-sys-on-surface-variant) calc(var(--mat-sys-pressed-state-layer-opacity) * 100%), transparent))}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-icon-button-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-mdc-icon-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-icon-button-disabled-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-mdc-icon-button:hover>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-icon-button-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-mdc-icon-button.cdk-program-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-icon-button.cdk-keyboard-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-icon-button.mat-mdc-button-disabled-interactive:focus>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-icon-button-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mat-mdc-icon-button:active>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-icon-button-pressed-state-layer-opacity, var(--mat-sys-pressed-state-layer-opacity))}.mat-mdc-icon-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:var(--mat-icon-button-touch-target-size, 48px);display:var(--mat-icon-button-touch-target-display, block);left:50%;width:var(--mat-icon-button-touch-target-size, 48px);transform:translate(-50%, -50%)}.mat-mdc-icon-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-icon-button[disabled],.mat-mdc-icon-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mat-icon-button-disabled-icon-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-mdc-icon-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-icon-button img,.mat-mdc-icon-button svg{width:var(--mat-icon-button-icon-size, 24px);height:var(--mat-icon-button-icon-size, 24px);vertical-align:baseline}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple{border-radius:var(--mat-icon-button-container-shape, var(--mat-sys-corner-full, 50%))}.mat-mdc-icon-button[hidden]{display:none}.mat-mdc-icon-button.mat-unthemed:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-primary:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-accent:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-warn:not(.mdc-ripple-upgraded):focus::before{background:rgba(0,0,0,0);opacity:1}
`,`@media(forced-colors: active){.mat-mdc-button:not(.mdc-button--outlined),.mat-mdc-unelevated-button:not(.mdc-button--outlined),.mat-mdc-raised-button:not(.mdc-button--outlined),.mat-mdc-outlined-button:not(.mdc-button--outlined),.mat-mdc-button-base.mat-tonal-button,.mat-mdc-icon-button.mat-mdc-icon-button,.mat-mdc-outlined-button .mdc-button__ripple{outline:solid 1px}}
`],encapsulation:2,changeDetection:0})}return n})();var MP=new L("cdk-dir-doc",{providedIn:"root",factory:NP});function NP(){return b(ie)}var kP=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;function Uw(n){let e=n?.toLowerCase()||"";return e==="auto"&&typeof navigator<"u"&&navigator?.language?kP.test(navigator.language)?"rtl":"ltr":e==="rtl"?"rtl":"ltr"}var em=(()=>{class n{get value(){return this.valueSignal()}valueSignal=Qe("ltr");change=new $e;constructor(){let t=b(MP,{optional:!0});if(t){let r=t.body?t.body.dir:null,i=t.documentElement?t.documentElement.dir:null;this.valueSignal.set(Uw(r||i||"ltr"))}}ngOnDestroy(){this.change.complete()}static \u0275fac=function(r){return new(r||n)};static \u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var tm=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=me({type:n});static \u0275inj=fe({})}return n})();var gt=(()=>{class n{constructor(){b(Xl)._applyBodyHighContrastModeCssClasses()}static \u0275fac=function(r){return new(r||n)};static \u0275mod=me({type:n});static \u0275inj=fe({imports:[tm,tm]})}return n})();var Bw=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=me({type:n});static \u0275inj=fe({imports:[gt,gt]})}return n})();var OP=["matButton",""],FP=[[["",8,"material-icons",3,"iconPositionEnd",""],["mat-icon",3,"iconPositionEnd",""],["","matButtonIcon","",3,"iconPositionEnd",""]],"*",[["","iconPositionEnd","",8,"material-icons"],["mat-icon","iconPositionEnd",""],["","matButtonIcon","","iconPositionEnd",""]]],LP=[".material-icons:not([iconPositionEnd]), mat-icon:not([iconPositionEnd]), [matButtonIcon]:not([iconPositionEnd])","*",".material-icons[iconPositionEnd], mat-icon[iconPositionEnd], [matButtonIcon][iconPositionEnd]"];var jw=new Map([["text",["mat-mdc-button"]],["filled",["mdc-button--unelevated","mat-mdc-unelevated-button"]],["elevated",["mdc-button--raised","mat-mdc-raised-button"]],["outlined",["mdc-button--outlined","mat-mdc-outlined-button"]],["tonal",["mat-tonal-button"]]]),I4=(()=>{class n extends Zf{get appearance(){return this._appearance}set appearance(t){this.setAppearance(t||this._config?.defaultAppearance||"text")}_appearance=null;constructor(){super();let t=VP(this._elementRef.nativeElement);t&&this.setAppearance(t)}setAppearance(t){if(t===this._appearance)return;let r=this._elementRef.nativeElement.classList,i=this._appearance?jw.get(this._appearance):null,s=jw.get(t);i&&r.remove(...i),r.add(...s),this._appearance=t}static \u0275fac=function(r){return new(r||n)};static \u0275cmp=Pe({type:n,selectors:[["button","matButton",""],["a","matButton",""],["button","mat-button",""],["button","mat-raised-button",""],["button","mat-flat-button",""],["button","mat-stroked-button",""],["a","mat-button",""],["a","mat-raised-button",""],["a","mat-flat-button",""],["a","mat-stroked-button",""]],hostAttrs:[1,"mdc-button"],inputs:{appearance:[0,"matButton","appearance"]},exportAs:["matButton","matAnchor"],features:[st],attrs:OP,ngContentSelectors:LP,decls:7,vars:4,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(r,i){r&1&&(Xt(FP),On(0,"span",0),Me(1),Nc(2,"span",1),Me(3,1),kc(),Me(4,2),On(5,"span",2)(6,"span",3)),r&2&&Ce("mdc-button__ripple",!i._isFab)("mdc-fab__ripple",i._isFab)},styles:[`.mat-mdc-button-base{text-decoration:none}.mat-mdc-button-base .mat-icon{min-height:fit-content;flex-shrink:0}.mdc-button{-webkit-user-select:none;user-select:none;position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;min-width:64px;border:none;outline:none;line-height:inherit;-webkit-appearance:none;overflow:visible;vertical-align:middle;background:rgba(0,0,0,0);padding:0 8px}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button:active{outline:none}.mdc-button:hover{cursor:pointer}.mdc-button:disabled{cursor:default;pointer-events:none}.mdc-button[hidden]{display:none}.mdc-button .mdc-button__label{position:relative}.mat-mdc-button{padding:0 var(--mat-button-text-horizontal-padding, 12px);height:var(--mat-button-text-container-height, 40px);font-family:var(--mat-button-text-label-text-font, var(--mat-sys-label-large-font));font-size:var(--mat-button-text-label-text-size, var(--mat-sys-label-large-size));letter-spacing:var(--mat-button-text-label-text-tracking, var(--mat-sys-label-large-tracking));text-transform:var(--mat-button-text-label-text-transform);font-weight:var(--mat-button-text-label-text-weight, var(--mat-sys-label-large-weight))}.mat-mdc-button,.mat-mdc-button .mdc-button__ripple{border-radius:var(--mat-button-text-container-shape, var(--mat-sys-corner-full))}.mat-mdc-button:not(:disabled){color:var(--mat-button-text-label-text-color, var(--mat-sys-primary))}.mat-mdc-button[disabled],.mat-mdc-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mat-button-text-disabled-label-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-mdc-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-button:has(.material-icons,mat-icon,[matButtonIcon]){padding:0 var(--mat-button-text-with-icon-horizontal-padding, 16px)}.mat-mdc-button>.mat-icon{margin-right:var(--mat-button-text-icon-spacing, 8px);margin-left:var(--mat-button-text-icon-offset, -4px)}[dir=rtl] .mat-mdc-button>.mat-icon{margin-right:var(--mat-button-text-icon-offset, -4px);margin-left:var(--mat-button-text-icon-spacing, 8px)}.mat-mdc-button .mdc-button__label+.mat-icon{margin-right:var(--mat-button-text-icon-offset, -4px);margin-left:var(--mat-button-text-icon-spacing, 8px)}[dir=rtl] .mat-mdc-button .mdc-button__label+.mat-icon{margin-right:var(--mat-button-text-icon-spacing, 8px);margin-left:var(--mat-button-text-icon-offset, -4px)}.mat-mdc-button .mat-ripple-element{background-color:var(--mat-button-text-ripple-color, color-mix(in srgb, var(--mat-sys-primary) calc(var(--mat-sys-pressed-state-layer-opacity) * 100%), transparent))}.mat-mdc-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-button-text-state-layer-color, var(--mat-sys-primary))}.mat-mdc-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-button-text-disabled-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-mdc-button:hover>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-button-text-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-mdc-button.cdk-program-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-button.cdk-keyboard-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-button.mat-mdc-button-disabled-interactive:focus>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-button-text-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mat-mdc-button:active>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-button-text-pressed-state-layer-opacity, var(--mat-sys-pressed-state-layer-opacity))}.mat-mdc-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:var(--mat-button-text-touch-target-size, 48px);display:var(--mat-button-text-touch-target-display, block);left:0;right:0;transform:translateY(-50%)}.mat-mdc-unelevated-button{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);height:var(--mat-button-filled-container-height, 40px);font-family:var(--mat-button-filled-label-text-font, var(--mat-sys-label-large-font));font-size:var(--mat-button-filled-label-text-size, var(--mat-sys-label-large-size));letter-spacing:var(--mat-button-filled-label-text-tracking, var(--mat-sys-label-large-tracking));text-transform:var(--mat-button-filled-label-text-transform);font-weight:var(--mat-button-filled-label-text-weight, var(--mat-sys-label-large-weight));padding:0 var(--mat-button-filled-horizontal-padding, 24px)}.mat-mdc-unelevated-button>.mat-icon{margin-right:var(--mat-button-filled-icon-spacing, 8px);margin-left:var(--mat-button-filled-icon-offset, -8px)}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon{margin-right:var(--mat-button-filled-icon-offset, -8px);margin-left:var(--mat-button-filled-icon-spacing, 8px)}.mat-mdc-unelevated-button .mdc-button__label+.mat-icon{margin-right:var(--mat-button-filled-icon-offset, -8px);margin-left:var(--mat-button-filled-icon-spacing, 8px)}[dir=rtl] .mat-mdc-unelevated-button .mdc-button__label+.mat-icon{margin-right:var(--mat-button-filled-icon-spacing, 8px);margin-left:var(--mat-button-filled-icon-offset, -8px)}.mat-mdc-unelevated-button .mat-ripple-element{background-color:var(--mat-button-filled-ripple-color, color-mix(in srgb, var(--mat-sys-on-primary) calc(var(--mat-sys-pressed-state-layer-opacity) * 100%), transparent))}.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-button-filled-state-layer-color, var(--mat-sys-on-primary))}.mat-mdc-unelevated-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-button-filled-disabled-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-mdc-unelevated-button:hover>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-button-filled-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-mdc-unelevated-button.cdk-program-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button.cdk-keyboard-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button.mat-mdc-button-disabled-interactive:focus>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-button-filled-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mat-mdc-unelevated-button:active>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-button-filled-pressed-state-layer-opacity, var(--mat-sys-pressed-state-layer-opacity))}.mat-mdc-unelevated-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:var(--mat-button-filled-touch-target-size, 48px);display:var(--mat-button-filled-touch-target-display, block);left:0;right:0;transform:translateY(-50%)}.mat-mdc-unelevated-button:not(:disabled){color:var(--mat-button-filled-label-text-color, var(--mat-sys-on-primary));background-color:var(--mat-button-filled-container-color, var(--mat-sys-primary))}.mat-mdc-unelevated-button,.mat-mdc-unelevated-button .mdc-button__ripple{border-radius:var(--mat-button-filled-container-shape, var(--mat-sys-corner-full))}.mat-mdc-unelevated-button[disabled],.mat-mdc-unelevated-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mat-button-filled-disabled-label-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent));background-color:var(--mat-button-filled-disabled-container-color, color-mix(in srgb, var(--mat-sys-on-surface) 12%, transparent))}.mat-mdc-unelevated-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-raised-button{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);box-shadow:var(--mat-button-protected-container-elevation-shadow, var(--mat-sys-level1));height:var(--mat-button-protected-container-height, 40px);font-family:var(--mat-button-protected-label-text-font, var(--mat-sys-label-large-font));font-size:var(--mat-button-protected-label-text-size, var(--mat-sys-label-large-size));letter-spacing:var(--mat-button-protected-label-text-tracking, var(--mat-sys-label-large-tracking));text-transform:var(--mat-button-protected-label-text-transform);font-weight:var(--mat-button-protected-label-text-weight, var(--mat-sys-label-large-weight));padding:0 var(--mat-button-protected-horizontal-padding, 24px)}.mat-mdc-raised-button>.mat-icon{margin-right:var(--mat-button-protected-icon-spacing, 8px);margin-left:var(--mat-button-protected-icon-offset, -8px)}[dir=rtl] .mat-mdc-raised-button>.mat-icon{margin-right:var(--mat-button-protected-icon-offset, -8px);margin-left:var(--mat-button-protected-icon-spacing, 8px)}.mat-mdc-raised-button .mdc-button__label+.mat-icon{margin-right:var(--mat-button-protected-icon-offset, -8px);margin-left:var(--mat-button-protected-icon-spacing, 8px)}[dir=rtl] .mat-mdc-raised-button .mdc-button__label+.mat-icon{margin-right:var(--mat-button-protected-icon-spacing, 8px);margin-left:var(--mat-button-protected-icon-offset, -8px)}.mat-mdc-raised-button .mat-ripple-element{background-color:var(--mat-button-protected-ripple-color, color-mix(in srgb, var(--mat-sys-primary) calc(var(--mat-sys-pressed-state-layer-opacity) * 100%), transparent))}.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-button-protected-state-layer-color, var(--mat-sys-primary))}.mat-mdc-raised-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-button-protected-disabled-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-mdc-raised-button:hover>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-button-protected-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-mdc-raised-button.cdk-program-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button.cdk-keyboard-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button.mat-mdc-button-disabled-interactive:focus>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-button-protected-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mat-mdc-raised-button:active>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-button-protected-pressed-state-layer-opacity, var(--mat-sys-pressed-state-layer-opacity))}.mat-mdc-raised-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:var(--mat-button-protected-touch-target-size, 48px);display:var(--mat-button-protected-touch-target-display, block);left:0;right:0;transform:translateY(-50%)}.mat-mdc-raised-button:not(:disabled){color:var(--mat-button-protected-label-text-color, var(--mat-sys-primary));background-color:var(--mat-button-protected-container-color, var(--mat-sys-surface))}.mat-mdc-raised-button,.mat-mdc-raised-button .mdc-button__ripple{border-radius:var(--mat-button-protected-container-shape, var(--mat-sys-corner-full))}.mat-mdc-raised-button:hover{box-shadow:var(--mat-button-protected-hover-container-elevation-shadow, var(--mat-sys-level2))}.mat-mdc-raised-button:focus{box-shadow:var(--mat-button-protected-focus-container-elevation-shadow, var(--mat-sys-level1))}.mat-mdc-raised-button:active,.mat-mdc-raised-button:focus:active{box-shadow:var(--mat-button-protected-pressed-container-elevation-shadow, var(--mat-sys-level1))}.mat-mdc-raised-button[disabled],.mat-mdc-raised-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mat-button-protected-disabled-label-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent));background-color:var(--mat-button-protected-disabled-container-color, color-mix(in srgb, var(--mat-sys-on-surface) 12%, transparent))}.mat-mdc-raised-button[disabled].mat-mdc-button-disabled,.mat-mdc-raised-button.mat-mdc-button-disabled.mat-mdc-button-disabled{box-shadow:var(--mat-button-protected-disabled-container-elevation-shadow, var(--mat-sys-level0))}.mat-mdc-raised-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-outlined-button{border-style:solid;transition:border 280ms cubic-bezier(0.4, 0, 0.2, 1);height:var(--mat-button-outlined-container-height, 40px);font-family:var(--mat-button-outlined-label-text-font, var(--mat-sys-label-large-font));font-size:var(--mat-button-outlined-label-text-size, var(--mat-sys-label-large-size));letter-spacing:var(--mat-button-outlined-label-text-tracking, var(--mat-sys-label-large-tracking));text-transform:var(--mat-button-outlined-label-text-transform);font-weight:var(--mat-button-outlined-label-text-weight, var(--mat-sys-label-large-weight));border-radius:var(--mat-button-outlined-container-shape, var(--mat-sys-corner-full));border-width:var(--mat-button-outlined-outline-width, 1px);padding:0 var(--mat-button-outlined-horizontal-padding, 24px)}.mat-mdc-outlined-button>.mat-icon{margin-right:var(--mat-button-outlined-icon-spacing, 8px);margin-left:var(--mat-button-outlined-icon-offset, -8px)}[dir=rtl] .mat-mdc-outlined-button>.mat-icon{margin-right:var(--mat-button-outlined-icon-offset, -8px);margin-left:var(--mat-button-outlined-icon-spacing, 8px)}.mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-right:var(--mat-button-outlined-icon-offset, -8px);margin-left:var(--mat-button-outlined-icon-spacing, 8px)}[dir=rtl] .mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-right:var(--mat-button-outlined-icon-spacing, 8px);margin-left:var(--mat-button-outlined-icon-offset, -8px)}.mat-mdc-outlined-button .mat-ripple-element{background-color:var(--mat-button-outlined-ripple-color, color-mix(in srgb, var(--mat-sys-primary) calc(var(--mat-sys-pressed-state-layer-opacity) * 100%), transparent))}.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-button-outlined-state-layer-color, var(--mat-sys-primary))}.mat-mdc-outlined-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-button-outlined-disabled-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-mdc-outlined-button:hover>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-button-outlined-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-mdc-outlined-button.cdk-program-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button.cdk-keyboard-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button.mat-mdc-button-disabled-interactive:focus>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-button-outlined-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mat-mdc-outlined-button:active>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-button-outlined-pressed-state-layer-opacity, var(--mat-sys-pressed-state-layer-opacity))}.mat-mdc-outlined-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:var(--mat-button-outlined-touch-target-size, 48px);display:var(--mat-button-outlined-touch-target-display, block);left:0;right:0;transform:translateY(-50%)}.mat-mdc-outlined-button:not(:disabled){color:var(--mat-button-outlined-label-text-color, var(--mat-sys-primary));border-color:var(--mat-button-outlined-outline-color, var(--mat-sys-outline))}.mat-mdc-outlined-button[disabled],.mat-mdc-outlined-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mat-button-outlined-disabled-label-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent));border-color:var(--mat-button-outlined-disabled-outline-color, color-mix(in srgb, var(--mat-sys-on-surface) 12%, transparent))}.mat-mdc-outlined-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-tonal-button{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);height:var(--mat-button-tonal-container-height, 40px);font-family:var(--mat-button-tonal-label-text-font, var(--mat-sys-label-large-font));font-size:var(--mat-button-tonal-label-text-size, var(--mat-sys-label-large-size));letter-spacing:var(--mat-button-tonal-label-text-tracking, var(--mat-sys-label-large-tracking));text-transform:var(--mat-button-tonal-label-text-transform);font-weight:var(--mat-button-tonal-label-text-weight, var(--mat-sys-label-large-weight));padding:0 var(--mat-button-tonal-horizontal-padding, 24px)}.mat-tonal-button:not(:disabled){color:var(--mat-button-tonal-label-text-color, var(--mat-sys-on-secondary-container));background-color:var(--mat-button-tonal-container-color, var(--mat-sys-secondary-container))}.mat-tonal-button,.mat-tonal-button .mdc-button__ripple{border-radius:var(--mat-button-tonal-container-shape, var(--mat-sys-corner-full))}.mat-tonal-button[disabled],.mat-tonal-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mat-button-tonal-disabled-label-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent));background-color:var(--mat-button-tonal-disabled-container-color, color-mix(in srgb, var(--mat-sys-on-surface) 12%, transparent))}.mat-tonal-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-tonal-button>.mat-icon{margin-right:var(--mat-button-tonal-icon-spacing, 8px);margin-left:var(--mat-button-tonal-icon-offset, -8px)}[dir=rtl] .mat-tonal-button>.mat-icon{margin-right:var(--mat-button-tonal-icon-offset, -8px);margin-left:var(--mat-button-tonal-icon-spacing, 8px)}.mat-tonal-button .mdc-button__label+.mat-icon{margin-right:var(--mat-button-tonal-icon-offset, -8px);margin-left:var(--mat-button-tonal-icon-spacing, 8px)}[dir=rtl] .mat-tonal-button .mdc-button__label+.mat-icon{margin-right:var(--mat-button-tonal-icon-spacing, 8px);margin-left:var(--mat-button-tonal-icon-offset, -8px)}.mat-tonal-button .mat-ripple-element{background-color:var(--mat-button-tonal-ripple-color, color-mix(in srgb, var(--mat-sys-on-secondary-container) calc(var(--mat-sys-pressed-state-layer-opacity) * 100%), transparent))}.mat-tonal-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-button-tonal-state-layer-color, var(--mat-sys-on-secondary-container))}.mat-tonal-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-button-tonal-disabled-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-tonal-button:hover>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-button-tonal-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-tonal-button.cdk-program-focused>.mat-mdc-button-persistent-ripple::before,.mat-tonal-button.cdk-keyboard-focused>.mat-mdc-button-persistent-ripple::before,.mat-tonal-button.mat-mdc-button-disabled-interactive:focus>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-button-tonal-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mat-tonal-button:active>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-button-tonal-pressed-state-layer-opacity, var(--mat-sys-pressed-state-layer-opacity))}.mat-tonal-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:var(--mat-button-tonal-touch-target-size, 48px);display:var(--mat-button-tonal-touch-target-display, block);left:0;right:0;transform:translateY(-50%)}.mat-mdc-button,.mat-mdc-unelevated-button,.mat-mdc-raised-button,.mat-mdc-outlined-button,.mat-tonal-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before,.mat-tonal-button .mat-mdc-button-ripple,.mat-tonal-button .mat-mdc-button-persistent-ripple,.mat-tonal-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-tonal-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before,.mat-tonal-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0}.mat-mdc-button .mdc-button__label,.mat-mdc-button .mat-icon,.mat-mdc-unelevated-button .mdc-button__label,.mat-mdc-unelevated-button .mat-icon,.mat-mdc-raised-button .mdc-button__label,.mat-mdc-raised-button .mat-icon,.mat-mdc-outlined-button .mdc-button__label,.mat-mdc-outlined-button .mat-icon,.mat-tonal-button .mdc-button__label,.mat-tonal-button .mat-icon{z-index:1;position:relative}.mat-mdc-button .mat-focus-indicator,.mat-mdc-unelevated-button .mat-focus-indicator,.mat-mdc-raised-button .mat-focus-indicator,.mat-mdc-outlined-button .mat-focus-indicator,.mat-tonal-button .mat-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:inherit}.mat-mdc-button:focus>.mat-focus-indicator::before,.mat-mdc-unelevated-button:focus>.mat-focus-indicator::before,.mat-mdc-raised-button:focus>.mat-focus-indicator::before,.mat-mdc-outlined-button:focus>.mat-focus-indicator::before,.mat-tonal-button:focus>.mat-focus-indicator::before{content:"";border-radius:inherit}.mat-mdc-button._mat-animation-noopable,.mat-mdc-unelevated-button._mat-animation-noopable,.mat-mdc-raised-button._mat-animation-noopable,.mat-mdc-outlined-button._mat-animation-noopable,.mat-tonal-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon,.mat-mdc-raised-button>.mat-icon,.mat-mdc-outlined-button>.mat-icon,.mat-tonal-button>.mat-icon{display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem}.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px}.mat-mdc-unelevated-button .mat-focus-indicator::before,.mat-tonal-button .mat-focus-indicator::before,.mat-mdc-raised-button .mat-focus-indicator::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 2px)*-1)}.mat-mdc-outlined-button .mat-focus-indicator::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 3px)*-1)}
`,`@media(forced-colors: active){.mat-mdc-button:not(.mdc-button--outlined),.mat-mdc-unelevated-button:not(.mdc-button--outlined),.mat-mdc-raised-button:not(.mdc-button--outlined),.mat-mdc-outlined-button:not(.mdc-button--outlined),.mat-mdc-button-base.mat-tonal-button,.mat-mdc-icon-button.mat-mdc-icon-button,.mat-mdc-outlined-button .mdc-button__ripple{outline:solid 1px}}
`],encapsulation:2,changeDetection:0})}return n})();function VP(n){return n.hasAttribute("mat-raised-button")?"elevated":n.hasAttribute("mat-stroked-button")?"outlined":n.hasAttribute("mat-flat-button")?"filled":n.hasAttribute("mat-button")?"text":null}var T4=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=me({type:n});static \u0275inj=fe({imports:[gt,Bw,gt]})}return n})();var iu;function UP(){if(iu===void 0&&(iu=null,typeof window<"u")){let n=window;n.trustedTypes!==void 0&&(iu=n.trustedTypes.createPolicy("angular#components",{createHTML:e=>e}))}return iu}function ya(n){return UP()?.createHTML(n)||n}function $w(n){return Error(`Unable to find icon with the name "${n}"`)}function BP(){return Error("Could not find HttpClient for use with Angular Material icons. Please add provideHttpClient() to your providers.")}function zw(n){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${n}".`)}function Hw(n){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${n}".`)}var zn=class{url;svgText;options;svgElement;constructor(e,t,r){this.url=e,this.svgText=t,this.options=r}},Gw=(()=>{class n{_httpClient;_sanitizer;_errorHandler;_document;_svgIconConfigs=new Map;_iconSetConfigs=new Map;_cachedIconsByUrl=new Map;_inProgressUrlFetches=new Map;_fontCssClassesByAlias=new Map;_resolvers=[];_defaultFontSetClass=["material-icons","mat-ligature-font"];constructor(t,r,i,s){this._httpClient=t,this._sanitizer=r,this._errorHandler=s,this._document=i}addSvgIcon(t,r,i){return this.addSvgIconInNamespace("",t,r,i)}addSvgIconLiteral(t,r,i){return this.addSvgIconLiteralInNamespace("",t,r,i)}addSvgIconInNamespace(t,r,i,s){return this._addSvgIconConfig(t,r,new zn(i,null,s))}addSvgIconResolver(t){return this._resolvers.push(t),this}addSvgIconLiteralInNamespace(t,r,i,s){let o=this._sanitizer.sanitize(Pt.HTML,i);if(!o)throw Hw(i);let c=ya(o);return this._addSvgIconConfig(t,r,new zn("",c,s))}addSvgIconSet(t,r){return this.addSvgIconSetInNamespace("",t,r)}addSvgIconSetLiteral(t,r){return this.addSvgIconSetLiteralInNamespace("",t,r)}addSvgIconSetInNamespace(t,r,i){return this._addSvgIconSetConfig(t,new zn(r,null,i))}addSvgIconSetLiteralInNamespace(t,r,i){let s=this._sanitizer.sanitize(Pt.HTML,r);if(!s)throw Hw(r);let o=ya(s);return this._addSvgIconSetConfig(t,new zn("",o,i))}registerFontClassAlias(t,r=t){return this._fontCssClassesByAlias.set(t,r),this}classNameForFontAlias(t){return this._fontCssClassesByAlias.get(t)||t}setDefaultFontSetClass(...t){return this._defaultFontSetClass=t,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(t){let r=this._sanitizer.sanitize(Pt.RESOURCE_URL,t);if(!r)throw zw(t);let i=this._cachedIconsByUrl.get(r);return i?$(su(i)):this._loadSvgIconFromConfig(new zn(t,null)).pipe(Te(s=>this._cachedIconsByUrl.set(r,s)),Y(s=>su(s)))}getNamedSvgIcon(t,r=""){let i=qw(r,t),s=this._svgIconConfigs.get(i);if(s)return this._getSvgFromConfig(s);if(s=this._getIconConfigFromResolvers(r,t),s)return this._svgIconConfigs.set(i,s),this._getSvgFromConfig(s);let o=this._iconSetConfigs.get(r);return o?this._getSvgFromIconSetConfigs(t,o):Wr($w(i))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(t){return t.svgText?$(su(this._svgElementFromConfig(t))):this._loadSvgIconFromConfig(t).pipe(Y(r=>su(r)))}_getSvgFromIconSetConfigs(t,r){let i=this._extractIconWithNameFromAnySet(t,r);if(i)return $(i);let s=r.filter(o=>!o.svgText).map(o=>this._loadSvgIconSetFromConfig(o).pipe(cr(c=>{let d=`Loading icon set URL: ${this._sanitizer.sanitize(Pt.RESOURCE_URL,o.url)} failed: ${c.message}`;return this._errorHandler.handleError(new Error(d)),$(null)})));return Dc(s).pipe(Y(()=>{let o=this._extractIconWithNameFromAnySet(t,r);if(!o)throw $w(t);return o}))}_extractIconWithNameFromAnySet(t,r){for(let i=r.length-1;i>=0;i--){let s=r[i];if(s.svgText&&s.svgText.toString().indexOf(t)>-1){let o=this._svgElementFromConfig(s),c=this._extractSvgIconFromSet(o,t,s.options);if(c)return c}}return null}_loadSvgIconFromConfig(t){return this._fetchIcon(t).pipe(Te(r=>t.svgText=r),Y(()=>this._svgElementFromConfig(t)))}_loadSvgIconSetFromConfig(t){return t.svgText?$(null):this._fetchIcon(t).pipe(Te(r=>t.svgText=r))}_extractSvgIconFromSet(t,r,i){let s=t.querySelector(`[id="${r}"]`);if(!s)return null;let o=s.cloneNode(!0);if(o.removeAttribute("id"),o.nodeName.toLowerCase()==="svg")return this._setSvgAttributes(o,i);if(o.nodeName.toLowerCase()==="symbol")return this._setSvgAttributes(this._toSvgElement(o),i);let c=this._svgElementFromString(ya("<svg></svg>"));return c.appendChild(o),this._setSvgAttributes(c,i)}_svgElementFromString(t){let r=this._document.createElement("DIV");r.innerHTML=t;let i=r.querySelector("svg");if(!i)throw Error("<svg> tag not found");return i}_toSvgElement(t){let r=this._svgElementFromString(ya("<svg></svg>")),i=t.attributes;for(let s=0;s<i.length;s++){let{name:o,value:c}=i[s];o!=="id"&&r.setAttribute(o,c)}for(let s=0;s<t.childNodes.length;s++)t.childNodes[s].nodeType===this._document.ELEMENT_NODE&&r.appendChild(t.childNodes[s].cloneNode(!0));return r}_setSvgAttributes(t,r){return t.setAttribute("fit",""),t.setAttribute("height","100%"),t.setAttribute("width","100%"),t.setAttribute("preserveAspectRatio","xMidYMid meet"),t.setAttribute("focusable","false"),r&&r.viewBox&&t.setAttribute("viewBox",r.viewBox),t}_fetchIcon(t){let{url:r,options:i}=t,s=i?.withCredentials??!1;if(!this._httpClient)throw BP();if(r==null)throw Error(`Cannot fetch icon from URL "${r}".`);let o=this._sanitizer.sanitize(Pt.RESOURCE_URL,r);if(!o)throw zw(r);let c=this._inProgressUrlFetches.get(o);if(c)return c;let l=this._httpClient.get(o,{responseType:"text",withCredentials:s}).pipe(Y(d=>ya(d)),lr(()=>this._inProgressUrlFetches.delete(o)),sy());return this._inProgressUrlFetches.set(o,l),l}_addSvgIconConfig(t,r,i){return this._svgIconConfigs.set(qw(t,r),i),this}_addSvgIconSetConfig(t,r){let i=this._iconSetConfigs.get(t);return i?i.push(r):this._iconSetConfigs.set(t,[r]),this}_svgElementFromConfig(t){if(!t.svgElement){let r=this._svgElementFromString(t.svgText);this._setSvgAttributes(r,t.options),t.svgElement=r}return t.svgElement}_getIconConfigFromResolvers(t,r){for(let i=0;i<this._resolvers.length;i++){let s=this._resolvers[i](r,t);if(s)return jP(s)?new zn(s.url,null,s.options):new zn(s,null)}}static \u0275fac=function(r){return new(r||n)(W(nl,8),W(Qh),W(ie,8),W(dr))};static \u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function su(n){return n.cloneNode(!0)}function qw(n,e){return n+":"+e}function jP(n){return!!(n.url&&n.options)}var $P=["*"],zP=new L("MAT_ICON_DEFAULT_OPTIONS"),HP=new L("mat-icon-location",{providedIn:"root",factory:qP});function qP(){let n=b(ie),e=n?n.location:null;return{getPathname:()=>e?e.pathname+e.search:""}}var Ww=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],GP=Ww.map(n=>`[${n}]`).join(", "),WP=/^url\(['"]?#(.*?)['"]?\)$/,z4=(()=>{class n{_elementRef=b(Ee);_iconRegistry=b(Gw);_location=b(HP);_errorHandler=b(dr);_defaultColor;get color(){return this._color||this._defaultColor}set color(t){this._color=t}_color;inline=!1;get svgIcon(){return this._svgIcon}set svgIcon(t){t!==this._svgIcon&&(t?this._updateSvgIcon(t):this._svgIcon&&this._clearSvgElement(),this._svgIcon=t)}_svgIcon;get fontSet(){return this._fontSet}set fontSet(t){let r=this._cleanupFontValue(t);r!==this._fontSet&&(this._fontSet=r,this._updateFontIconClasses())}_fontSet;get fontIcon(){return this._fontIcon}set fontIcon(t){let r=this._cleanupFontValue(t);r!==this._fontIcon&&(this._fontIcon=r,this._updateFontIconClasses())}_fontIcon;_previousFontSetClass=[];_previousFontIconClass;_svgName;_svgNamespace;_previousPath;_elementsWithExternalReferences;_currentIconFetch=ar.EMPTY;constructor(){let t=b(new Dh("aria-hidden"),{optional:!0}),r=b(zP,{optional:!0});r&&(r.color&&(this.color=this._defaultColor=r.color),r.fontSet&&(this.fontSet=r.fontSet)),t||this._elementRef.nativeElement.setAttribute("aria-hidden","true")}_splitIconName(t){if(!t)return["",""];let r=t.split(":");switch(r.length){case 1:return["",r[0]];case 2:return r;default:throw Error(`Invalid icon name: "${t}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){let t=this._elementsWithExternalReferences;if(t&&t.size){let r=this._location.getPathname();r!==this._previousPath&&(this._previousPath=r,this._prependPathToReferences(r))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(t){this._clearSvgElement();let r=this._location.getPathname();this._previousPath=r,this._cacheChildrenWithExternalReferences(t),this._prependPathToReferences(r),this._elementRef.nativeElement.appendChild(t)}_clearSvgElement(){let t=this._elementRef.nativeElement,r=t.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();r--;){let i=t.childNodes[r];(i.nodeType!==1||i.nodeName.toLowerCase()==="svg")&&i.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;let t=this._elementRef.nativeElement,r=(this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet).split(/ +/):this._iconRegistry.getDefaultFontSetClass()).filter(i=>i.length>0);this._previousFontSetClass.forEach(i=>t.classList.remove(i)),r.forEach(i=>t.classList.add(i)),this._previousFontSetClass=r,this.fontIcon!==this._previousFontIconClass&&!r.includes("mat-ligature-font")&&(this._previousFontIconClass&&t.classList.remove(this._previousFontIconClass),this.fontIcon&&t.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(t){return typeof t=="string"?t.trim().split(" ")[0]:t}_prependPathToReferences(t){let r=this._elementsWithExternalReferences;r&&r.forEach((i,s)=>{i.forEach(o=>{s.setAttribute(o.name,`url('${t}#${o.value}')`)})})}_cacheChildrenWithExternalReferences(t){let r=t.querySelectorAll(GP),i=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let s=0;s<r.length;s++)Ww.forEach(o=>{let c=r[s],l=c.getAttribute(o),d=l?l.match(WP):null;if(d){let f=i.get(c);f||(f=[],i.set(c,f)),f.push({name:o,value:d[1]})}})}_updateSvgIcon(t){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),t){let[r,i]=this._splitIconName(t);r&&(this._svgNamespace=r),i&&(this._svgName=i),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(i,r).pipe(hn(1)).subscribe(s=>this._setSvgElement(s),s=>{let o=`Error retrieving icon ${r}:${i}! ${s.message}`;this._errorHandler.handleError(new Error(o))})}}static \u0275fac=function(r){return new(r||n)};static \u0275cmp=Pe({type:n,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:10,hostBindings:function(r,i){r&2&&(Mt("data-mat-icon-type",i._usingFontIcon()?"font":"svg")("data-mat-icon-name",i._svgName||i.fontIcon)("data-mat-icon-namespace",i._svgNamespace||i.fontSet)("fontIcon",i._usingFontIcon()?i.fontIcon:null),Oc(i.color?"mat-"+i.color:""),Ce("mat-icon-inline",i.inline)("mat-icon-no-color",i.color!=="primary"&&i.color!=="accent"&&i.color!=="warn"))},inputs:{color:"color",inline:[2,"inline","inline",Ze],svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],ngContentSelectors:$P,decls:1,vars:0,template:function(r,i){r&1&&(Xt(),Me(0))},styles:[`mat-icon,mat-icon.mat-primary,mat-icon.mat-accent,mat-icon.mat-warn{color:var(--mat-icon-color, inherit)}.mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px;overflow:hidden}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}.mat-icon.mat-ligature-font[fontIcon]::before{content:attr(fontIcon)}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}
`],encapsulation:2,changeDetection:0})}return n})(),H4=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=me({type:n});static \u0275inj=fe({imports:[gt,gt]})}return n})();var nm=class{_box;_destroyed=new ue;_resizeSubject=new ue;_resizeObserver;_elementObservables=new Map;constructor(e){this._box=e,typeof ResizeObserver<"u"&&(this._resizeObserver=new ResizeObserver(t=>this._resizeSubject.next(t)))}observe(e){return this._elementObservables.has(e)||this._elementObservables.set(e,new Rt(t=>{let r=this._resizeSubject.subscribe(t);return this._resizeObserver?.observe(e,{box:this._box}),()=>{this._resizeObserver?.unobserve(e),r.unsubscribe(),this._elementObservables.delete(e)}}).pipe(dt(t=>t.some(r=>r.target===e)),oy({bufferSize:1,refCount:!0}),Kt(this._destroyed))),this._elementObservables.get(e)}destroy(){this._destroyed.next(),this._destroyed.complete(),this._resizeSubject.complete(),this._elementObservables.clear()}},Kw=(()=>{class n{_cleanupErrorListener;_observers=new Map;_ngZone=b(Z);constructor(){typeof ResizeObserver<"u"}ngOnDestroy(){for(let[,t]of this._observers)t.destroy();this._observers.clear(),this._cleanupErrorListener?.()}observe(t,r){let i=r?.box||"content-box";return this._observers.has(i)||this._observers.set(i,new nm(i)),this._observers.get(i).observe(t)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var KP=["notch"],YP=["matFormFieldNotchedOutline",""],QP=["*"],Yw=["iconPrefixContainer"],Qw=["textPrefixContainer"],Xw=["iconSuffixContainer"],Jw=["textSuffixContainer"],XP=["textField"],JP=["*",[["mat-label"]],[["","matPrefix",""],["","matIconPrefix",""]],[["","matTextPrefix",""]],[["","matTextSuffix",""]],[["","matSuffix",""],["","matIconSuffix",""]],[["mat-error"],["","matError",""]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],ZP=["*","mat-label","[matPrefix], [matIconPrefix]","[matTextPrefix]","[matTextSuffix]","[matSuffix], [matIconSuffix]","mat-error, [matError]","mat-hint:not([align='end'])","mat-hint[align='end']"];function eM(n,e){n&1&&Qr(0,"span",21)}function tM(n,e){if(n&1&&(It(0,"label",20),Me(1,1),Et(2,eM,1,0,"span",21),Tt()),n&2){let t=pr(2);zi("floating",t._shouldLabelFloat())("monitorResize",t._hasOutline())("id",t._labelId),Mt("for",t._control.disableAutomaticLabeling?null:t._control.id),it(2),wt(!t.hideRequiredMarker&&t._control.required?2:-1)}}function nM(n,e){if(n&1&&Et(0,tM,3,5,"label",20),n&2){let t=pr();wt(t._hasFloatingLabel()?0:-1)}}function rM(n,e){n&1&&Qr(0,"div",7)}function iM(n,e){}function sM(n,e){if(n&1&&Mc(0,iM,0,0,"ng-template",13),n&2){pr(2);let t=Th(1);zi("ngTemplateOutlet",t)}}function oM(n,e){if(n&1&&(It(0,"div",9),Et(1,sM,1,1,null,13),Tt()),n&2){let t=pr();zi("matFormFieldNotchedOutlineOpen",t._shouldLabelFloat()),it(),wt(t._forceDisplayInfixLabel()?-1:1)}}function aM(n,e){n&1&&(It(0,"div",10,2),Me(2,2),Tt())}function cM(n,e){n&1&&(It(0,"div",11,3),Me(2,3),Tt())}function lM(n,e){}function uM(n,e){if(n&1&&Mc(0,lM,0,0,"ng-template",13),n&2){pr();let t=Th(1);zi("ngTemplateOutlet",t)}}function dM(n,e){n&1&&(It(0,"div",14,4),Me(2,4),Tt())}function hM(n,e){n&1&&(It(0,"div",15,5),Me(2,5),Tt())}function fM(n,e){n&1&&Qr(0,"div",16)}function mM(n,e){n&1&&(It(0,"div",18),Me(1,6),Tt())}function pM(n,e){if(n&1&&(It(0,"mat-hint",22),Ry(1),Tt()),n&2){let t=pr(2);zi("id",t._hintLabelId),it(),xy(t.hintLabel)}}function gM(n,e){if(n&1&&(It(0,"div",19),Et(1,pM,2,2,"mat-hint",22),Me(2,7),Qr(3,"div",23),Me(4,8),Tt()),n&2){let t=pr();it(),wt(t.hintLabel?1:-1)}}var rm=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275dir=Q({type:n,selectors:[["mat-label"]]})}return n})(),sm=new L("MatError"),_M=(()=>{class n{id=b(ai).getId("mat-mdc-error-");constructor(){}static \u0275fac=function(r){return new(r||n)};static \u0275dir=Q({type:n,selectors:[["mat-error"],["","matError",""]],hostAttrs:[1,"mat-mdc-form-field-error","mat-mdc-form-field-bottom-align"],hostVars:1,hostBindings:function(r,i){r&2&&wo("id",i.id)},inputs:{id:"id"},features:[Xe([{provide:sm,useExisting:n}])]})}return n})(),im=(()=>{class n{align="start";id=b(ai).getId("mat-mdc-hint-");static \u0275fac=function(r){return new(r||n)};static \u0275dir=Q({type:n,selectors:[["mat-hint"]],hostAttrs:[1,"mat-mdc-form-field-hint","mat-mdc-form-field-bottom-align"],hostVars:4,hostBindings:function(r,i){r&2&&(wo("id",i.id),Mt("align",null),Ce("mat-mdc-form-field-hint-end",i.align==="end"))},inputs:{align:"align",id:"id"}})}return n})(),om=new L("MatPrefix"),vM=(()=>{class n{set _isTextSelector(t){this._isText=!0}_isText=!1;static \u0275fac=function(r){return new(r||n)};static \u0275dir=Q({type:n,selectors:[["","matPrefix",""],["","matIconPrefix",""],["","matTextPrefix",""]],inputs:{_isTextSelector:[0,"matTextPrefix","_isTextSelector"]},features:[Xe([{provide:om,useExisting:n}])]})}return n})(),am=new L("MatSuffix"),yM=(()=>{class n{set _isTextSelector(t){this._isText=!0}_isText=!1;static \u0275fac=function(r){return new(r||n)};static \u0275dir=Q({type:n,selectors:[["","matSuffix",""],["","matIconSuffix",""],["","matTextSuffix",""]],inputs:{_isTextSelector:[0,"matTextSuffix","_isTextSelector"]},features:[Xe([{provide:am,useExisting:n}])]})}return n})(),s0=new L("FloatingLabelParent"),Zw=(()=>{class n{_elementRef=b(Ee);get floating(){return this._floating}set floating(t){this._floating=t,this.monitorResize&&this._handleResize()}_floating=!1;get monitorResize(){return this._monitorResize}set monitorResize(t){this._monitorResize=t,this._monitorResize?this._subscribeToResize():this._resizeSubscription.unsubscribe()}_monitorResize=!1;_resizeObserver=b(Kw);_ngZone=b(Z);_parent=b(s0);_resizeSubscription=new ar;constructor(){}ngOnDestroy(){this._resizeSubscription.unsubscribe()}getWidth(){return bM(this._elementRef.nativeElement)}get element(){return this._elementRef.nativeElement}_handleResize(){setTimeout(()=>this._parent._handleLabelResized())}_subscribeToResize(){this._resizeSubscription.unsubscribe(),this._ngZone.runOutsideAngular(()=>{this._resizeSubscription=this._resizeObserver.observe(this._elementRef.nativeElement,{box:"border-box"}).subscribe(()=>this._handleResize())})}static \u0275fac=function(r){return new(r||n)};static \u0275dir=Q({type:n,selectors:[["label","matFormFieldFloatingLabel",""]],hostAttrs:[1,"mdc-floating-label","mat-mdc-floating-label"],hostVars:2,hostBindings:function(r,i){r&2&&Ce("mdc-floating-label--float-above",i.floating)},inputs:{floating:"floating",monitorResize:"monitorResize"}})}return n})();function bM(n){let e=n;if(e.offsetParent!==null)return e.scrollWidth;let t=e.cloneNode(!0);t.style.setProperty("position","absolute"),t.style.setProperty("transform","translate(-9999px, -9999px)"),document.documentElement.appendChild(t);let r=t.scrollWidth;return t.remove(),r}var e0="mdc-line-ripple--active",ou="mdc-line-ripple--deactivating",t0=(()=>{class n{_elementRef=b(Ee);_cleanupTransitionEnd;constructor(){let t=b(Z),r=b(Bt);t.runOutsideAngular(()=>{this._cleanupTransitionEnd=r.listen(this._elementRef.nativeElement,"transitionend",this._handleTransitionEnd)})}activate(){let t=this._elementRef.nativeElement.classList;t.remove(ou),t.add(e0)}deactivate(){this._elementRef.nativeElement.classList.add(ou)}_handleTransitionEnd=t=>{let r=this._elementRef.nativeElement.classList,i=r.contains(ou);t.propertyName==="opacity"&&i&&r.remove(e0,ou)};ngOnDestroy(){this._cleanupTransitionEnd()}static \u0275fac=function(r){return new(r||n)};static \u0275dir=Q({type:n,selectors:[["div","matFormFieldLineRipple",""]],hostAttrs:[1,"mdc-line-ripple"]})}return n})(),n0=(()=>{class n{_elementRef=b(Ee);_ngZone=b(Z);open=!1;_notch;ngAfterViewInit(){let t=this._elementRef.nativeElement,r=t.querySelector(".mdc-floating-label");r?(t.classList.add("mdc-notched-outline--upgraded"),typeof requestAnimationFrame=="function"&&(r.style.transitionDuration="0s",this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>r.style.transitionDuration="")}))):t.classList.add("mdc-notched-outline--no-label")}_setNotchWidth(t){let r=this._notch.nativeElement;!this.open||!t?r.style.width="":r.style.width=`calc(${t}px * var(--mat-mdc-form-field-floating-label-scale, 0.75) + 9px)`}_setMaxWidth(t){this._notch.nativeElement.style.setProperty("--mat-form-field-notch-max-width",`calc(100% - ${t}px)`)}static \u0275fac=function(r){return new(r||n)};static \u0275cmp=Pe({type:n,selectors:[["div","matFormFieldNotchedOutline",""]],viewQuery:function(r,i){if(r&1&&mn(KP,5),r&2){let s;ft(s=mt())&&(i._notch=s.first)}},hostAttrs:[1,"mdc-notched-outline"],hostVars:2,hostBindings:function(r,i){r&2&&Ce("mdc-notched-outline--notched",i.open)},inputs:{open:[0,"matFormFieldNotchedOutlineOpen","open"]},attrs:YP,ngContentSelectors:QP,decls:5,vars:0,consts:[["notch",""],[1,"mat-mdc-notch-piece","mdc-notched-outline__leading"],[1,"mat-mdc-notch-piece","mdc-notched-outline__notch"],[1,"mat-mdc-notch-piece","mdc-notched-outline__trailing"]],template:function(r,i){r&1&&(Xt(),On(0,"div",1),Nc(1,"div",2,0),Me(3),kc(),On(4,"div",3))},encapsulation:2,changeDetection:0})}return n})(),au=(()=>{class n{value;stateChanges;id;placeholder;ngControl;focused;empty;shouldLabelFloat;required;disabled;errorState;controlType;autofilled;userAriaDescribedBy;disableAutomaticLabeling;describedByIds;static \u0275fac=function(r){return new(r||n)};static \u0275dir=Q({type:n})}return n})();var cu=new L("MatFormField"),o0=new L("MAT_FORM_FIELD_DEFAULT_OPTIONS"),r0="fill",EM="auto",i0="fixed",wM="translateY(-50%)",cm=(()=>{class n{_elementRef=b(Ee);_changeDetectorRef=b(Xr);_platform=b(Se);_idGenerator=b(ai);_ngZone=b(Z);_defaults=b(o0,{optional:!0});_currentDirection;_textField;_iconPrefixContainer;_textPrefixContainer;_iconSuffixContainer;_textSuffixContainer;_floatingLabel;_notchedOutline;_lineRipple;_iconPrefixContainerSignal=To("iconPrefixContainer");_textPrefixContainerSignal=To("textPrefixContainer");_iconSuffixContainerSignal=To("iconSuffixContainer");_textSuffixContainerSignal=To("textSuffixContainer");_prefixSuffixContainers=pn(()=>[this._iconPrefixContainerSignal(),this._textPrefixContainerSignal(),this._iconSuffixContainerSignal(),this._textSuffixContainerSignal()].map(t=>t?.nativeElement).filter(t=>t!==void 0));_formFieldControl;_prefixChildren;_suffixChildren;_errorChildren;_hintChildren;_labelChild=ky(rm);get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(t){this._hideRequiredMarker=ps(t)}_hideRequiredMarker=!1;color="primary";get floatLabel(){return this._floatLabel||this._defaults?.floatLabel||EM}set floatLabel(t){t!==this._floatLabel&&(this._floatLabel=t,this._changeDetectorRef.markForCheck())}_floatLabel;get appearance(){return this._appearanceSignal()}set appearance(t){let r=t||this._defaults?.appearance||r0;this._appearanceSignal.set(r)}_appearanceSignal=Qe(r0);get subscriptSizing(){return this._subscriptSizing||this._defaults?.subscriptSizing||i0}set subscriptSizing(t){this._subscriptSizing=t||this._defaults?.subscriptSizing||i0}_subscriptSizing=null;get hintLabel(){return this._hintLabel}set hintLabel(t){this._hintLabel=t,this._processHints()}_hintLabel="";_hasIconPrefix=!1;_hasTextPrefix=!1;_hasIconSuffix=!1;_hasTextSuffix=!1;_labelId=this._idGenerator.getId("mat-mdc-form-field-label-");_hintLabelId=this._idGenerator.getId("mat-mdc-hint-");_describedByIds;get _control(){return this._explicitFormFieldControl||this._formFieldControl}set _control(t){this._explicitFormFieldControl=t}_destroyed=new ue;_isFocused=null;_explicitFormFieldControl;_previousControl=null;_previousControlValidatorFn=null;_stateChanges;_valueChanges;_describedByChanges;_outlineLabelOffsetResizeObserver=null;_animationsDisabled=wr();constructor(){let t=this._defaults,r=b(em);t&&(t.appearance&&(this.appearance=t.appearance),this._hideRequiredMarker=!!t?.hideRequiredMarker,t.color&&(this.color=t.color)),qi(()=>this._currentDirection=r.valueSignal()),this._syncOutlineLabelOffset()}ngAfterViewInit(){this._updateFocusState(),this._animationsDisabled||this._ngZone.runOutsideAngular(()=>{setTimeout(()=>{this._elementRef.nativeElement.classList.add("mat-form-field-animations-enabled")},300)}),this._changeDetectorRef.detectChanges()}ngAfterContentInit(){this._assertFormFieldControl(),this._initializeSubscript(),this._initializePrefixAndSuffix()}ngAfterContentChecked(){this._assertFormFieldControl(),this._control!==this._previousControl&&(this._initializeControl(this._previousControl),this._control.ngControl&&this._control.ngControl.control&&(this._previousControlValidatorFn=this._control.ngControl.control.validator),this._previousControl=this._control),this._control.ngControl&&this._control.ngControl.control&&this._control.ngControl.control.validator!==this._previousControlValidatorFn&&this._changeDetectorRef.markForCheck()}ngOnDestroy(){this._outlineLabelOffsetResizeObserver?.disconnect(),this._stateChanges?.unsubscribe(),this._valueChanges?.unsubscribe(),this._describedByChanges?.unsubscribe(),this._destroyed.next(),this._destroyed.complete()}getLabelId=pn(()=>this._hasFloatingLabel()?this._labelId:null);getConnectedOverlayOrigin(){return this._textField||this._elementRef}_animateAndLockLabel(){this._hasFloatingLabel()&&(this.floatLabel="always")}_initializeControl(t){let r=this._control,i="mat-mdc-form-field-type-";t&&this._elementRef.nativeElement.classList.remove(i+t.controlType),r.controlType&&this._elementRef.nativeElement.classList.add(i+r.controlType),this._stateChanges?.unsubscribe(),this._stateChanges=r.stateChanges.subscribe(()=>{this._updateFocusState(),this._changeDetectorRef.markForCheck()}),this._describedByChanges?.unsubscribe(),this._describedByChanges=r.stateChanges.pipe(Fi([void 0,void 0]),Y(()=>[r.errorState,r.userAriaDescribedBy]),ry(),dt(([[s,o],[c,l]])=>s!==c||o!==l)).subscribe(()=>this._syncDescribedByIds()),this._valueChanges?.unsubscribe(),r.ngControl&&r.ngControl.valueChanges&&(this._valueChanges=r.ngControl.valueChanges.pipe(Kt(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck()))}_checkPrefixAndSuffixTypes(){this._hasIconPrefix=!!this._prefixChildren.find(t=>!t._isText),this._hasTextPrefix=!!this._prefixChildren.find(t=>t._isText),this._hasIconSuffix=!!this._suffixChildren.find(t=>!t._isText),this._hasTextSuffix=!!this._suffixChildren.find(t=>t._isText)}_initializePrefixAndSuffix(){this._checkPrefixAndSuffixTypes(),ey(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._checkPrefixAndSuffixTypes(),this._changeDetectorRef.markForCheck()})}_initializeSubscript(){this._hintChildren.changes.subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._validateHints(),this._syncDescribedByIds()}_assertFormFieldControl(){this._control}_updateFocusState(){let t=this._control.focused;t&&!this._isFocused?(this._isFocused=!0,this._lineRipple?.activate()):!t&&(this._isFocused||this._isFocused===null)&&(this._isFocused=!1,this._lineRipple?.deactivate()),this._elementRef.nativeElement.classList.toggle("mat-focused",t),this._textField?.nativeElement.classList.toggle("mdc-text-field--focused",t)}_syncOutlineLabelOffset(){Vy({earlyRead:()=>{if(this._appearanceSignal()!=="outline")return this._outlineLabelOffsetResizeObserver?.disconnect(),null;if(globalThis.ResizeObserver){this._outlineLabelOffsetResizeObserver||=new globalThis.ResizeObserver(()=>{this._writeOutlinedLabelStyles(this._getOutlinedLabelOffset())});for(let t of this._prefixSuffixContainers())this._outlineLabelOffsetResizeObserver.observe(t,{box:"border-box"})}return this._getOutlinedLabelOffset()},write:t=>this._writeOutlinedLabelStyles(t())})}_shouldAlwaysFloat(){return this.floatLabel==="always"}_hasOutline(){return this.appearance==="outline"}_forceDisplayInfixLabel(){return!this._platform.isBrowser&&this._prefixChildren.length&&!this._shouldLabelFloat()}_hasFloatingLabel=pn(()=>!!this._labelChild());_shouldLabelFloat(){return this._hasFloatingLabel()?this._control.shouldLabelFloat||this._shouldAlwaysFloat():!1}_shouldForward(t){let r=this._control?this._control.ngControl:null;return r&&r[t]}_getSubscriptMessageType(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_handleLabelResized(){this._refreshOutlineNotchWidth()}_refreshOutlineNotchWidth(){!this._hasOutline()||!this._floatingLabel||!this._shouldLabelFloat()?this._notchedOutline?._setNotchWidth(0):this._notchedOutline?._setNotchWidth(this._floatingLabel.getWidth())}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){this._hintChildren}_syncDescribedByIds(){if(this._control){let t=[];if(this._control.userAriaDescribedBy&&typeof this._control.userAriaDescribedBy=="string"&&t.push(...this._control.userAriaDescribedBy.split(" ")),this._getSubscriptMessageType()==="hint"){let s=this._hintChildren?this._hintChildren.find(c=>c.align==="start"):null,o=this._hintChildren?this._hintChildren.find(c=>c.align==="end"):null;s?t.push(s.id):this._hintLabel&&t.push(this._hintLabelId),o&&t.push(o.id)}else this._errorChildren&&t.push(...this._errorChildren.map(s=>s.id));let r=this._control.describedByIds,i;if(r){let s=this._describedByIds||t;i=t.concat(r.filter(o=>o&&!s.includes(o)))}else i=t;this._control.setDescribedByIds(i),this._describedByIds=t}}_getOutlinedLabelOffset(){if(!this._hasOutline()||!this._floatingLabel)return null;if(!this._iconPrefixContainer&&!this._textPrefixContainer)return["",null];if(!this._isAttachedToDom())return null;let t=this._iconPrefixContainer?.nativeElement,r=this._textPrefixContainer?.nativeElement,i=this._iconSuffixContainer?.nativeElement,s=this._textSuffixContainer?.nativeElement,o=t?.getBoundingClientRect().width??0,c=r?.getBoundingClientRect().width??0,l=i?.getBoundingClientRect().width??0,d=s?.getBoundingClientRect().width??0,f=this._currentDirection==="rtl"?"-1":"1",p=`${o+c}px`,A=`calc(${f} * (${p} + var(--mat-mdc-form-field-label-offset-x, 0px)))`,R=`var(--mat-mdc-form-field-label-transform, ${wM} translateX(${A}))`,M=o+c+l+d;return[R,M]}_writeOutlinedLabelStyles(t){if(t!==null){let[r,i]=t;this._floatingLabel&&(this._floatingLabel.element.style.transform=r),i!==null&&this._notchedOutline?._setMaxWidth(i)}}_isAttachedToDom(){let t=this._elementRef.nativeElement;if(t.getRootNode){let r=t.getRootNode();return r&&r!==t}return document.documentElement.contains(t)}static \u0275fac=function(r){return new(r||n)};static \u0275cmp=Pe({type:n,selectors:[["mat-form-field"]],contentQueries:function(r,i,s){if(r&1&&(Sy(s,i._labelChild,rm,5),Hi(s,au,5),Hi(s,om,5),Hi(s,am,5),Hi(s,sm,5),Hi(s,im,5)),r&2){Ih();let o;ft(o=mt())&&(i._formFieldControl=o.first),ft(o=mt())&&(i._prefixChildren=o),ft(o=mt())&&(i._suffixChildren=o),ft(o=mt())&&(i._errorChildren=o),ft(o=mt())&&(i._hintChildren=o)}},viewQuery:function(r,i){if(r&1&&(Io(i._iconPrefixContainerSignal,Yw,5),Io(i._textPrefixContainerSignal,Qw,5),Io(i._iconSuffixContainerSignal,Xw,5),Io(i._textSuffixContainerSignal,Jw,5),mn(XP,5),mn(Yw,5),mn(Qw,5),mn(Xw,5),mn(Jw,5),mn(Zw,5),mn(n0,5),mn(t0,5)),r&2){Ih(4);let s;ft(s=mt())&&(i._textField=s.first),ft(s=mt())&&(i._iconPrefixContainer=s.first),ft(s=mt())&&(i._textPrefixContainer=s.first),ft(s=mt())&&(i._iconSuffixContainer=s.first),ft(s=mt())&&(i._textSuffixContainer=s.first),ft(s=mt())&&(i._floatingLabel=s.first),ft(s=mt())&&(i._notchedOutline=s.first),ft(s=mt())&&(i._lineRipple=s.first)}},hostAttrs:[1,"mat-mdc-form-field"],hostVars:38,hostBindings:function(r,i){r&2&&Ce("mat-mdc-form-field-label-always-float",i._shouldAlwaysFloat())("mat-mdc-form-field-has-icon-prefix",i._hasIconPrefix)("mat-mdc-form-field-has-icon-suffix",i._hasIconSuffix)("mat-form-field-invalid",i._control.errorState)("mat-form-field-disabled",i._control.disabled)("mat-form-field-autofilled",i._control.autofilled)("mat-form-field-appearance-fill",i.appearance=="fill")("mat-form-field-appearance-outline",i.appearance=="outline")("mat-form-field-hide-placeholder",i._hasFloatingLabel()&&!i._shouldLabelFloat())("mat-primary",i.color!=="accent"&&i.color!=="warn")("mat-accent",i.color==="accent")("mat-warn",i.color==="warn")("ng-untouched",i._shouldForward("untouched"))("ng-touched",i._shouldForward("touched"))("ng-pristine",i._shouldForward("pristine"))("ng-dirty",i._shouldForward("dirty"))("ng-valid",i._shouldForward("valid"))("ng-invalid",i._shouldForward("invalid"))("ng-pending",i._shouldForward("pending"))},inputs:{hideRequiredMarker:"hideRequiredMarker",color:"color",floatLabel:"floatLabel",appearance:"appearance",subscriptSizing:"subscriptSizing",hintLabel:"hintLabel"},exportAs:["matFormField"],features:[Xe([{provide:cu,useExisting:n},{provide:s0,useExisting:n}])],ngContentSelectors:ZP,decls:18,vars:21,consts:[["labelTemplate",""],["textField",""],["iconPrefixContainer",""],["textPrefixContainer",""],["textSuffixContainer",""],["iconSuffixContainer",""],[1,"mat-mdc-text-field-wrapper","mdc-text-field",3,"click"],[1,"mat-mdc-form-field-focus-overlay"],[1,"mat-mdc-form-field-flex"],["matFormFieldNotchedOutline","",3,"matFormFieldNotchedOutlineOpen"],[1,"mat-mdc-form-field-icon-prefix"],[1,"mat-mdc-form-field-text-prefix"],[1,"mat-mdc-form-field-infix"],[3,"ngTemplateOutlet"],[1,"mat-mdc-form-field-text-suffix"],[1,"mat-mdc-form-field-icon-suffix"],["matFormFieldLineRipple",""],["aria-atomic","true","aria-live","polite",1,"mat-mdc-form-field-subscript-wrapper","mat-mdc-form-field-bottom-align"],[1,"mat-mdc-form-field-error-wrapper"],[1,"mat-mdc-form-field-hint-wrapper"],["matFormFieldFloatingLabel","",3,"floating","monitorResize","id"],["aria-hidden","true",1,"mat-mdc-form-field-required-marker","mdc-floating-label--required"],[3,"id"],[1,"mat-mdc-form-field-hint-spacer"]],template:function(r,i){if(r&1){let s=Cy();Xt(JP),Mc(0,nM,1,1,"ng-template",null,0,Py),It(2,"div",6,1),fn("click",function(c){return uy(s),dy(i._control.onContainerClick(c))}),Et(4,rM,1,0,"div",7),It(5,"div",8),Et(6,oM,2,2,"div",9),Et(7,aM,3,0,"div",10),Et(8,cM,3,0,"div",11),It(9,"div",12),Et(10,uM,1,1,null,13),Me(11),Tt(),Et(12,dM,3,0,"div",14),Et(13,hM,3,0,"div",15),Tt(),Et(14,fM,1,0,"div",16),Tt(),It(15,"div",17),Et(16,mM,2,0,"div",18)(17,gM,5,1,"div",19),Tt()}if(r&2){let s;it(2),Ce("mdc-text-field--filled",!i._hasOutline())("mdc-text-field--outlined",i._hasOutline())("mdc-text-field--no-label",!i._hasFloatingLabel())("mdc-text-field--disabled",i._control.disabled)("mdc-text-field--invalid",i._control.errorState),it(2),wt(!i._hasOutline()&&!i._control.disabled?4:-1),it(2),wt(i._hasOutline()?6:-1),it(),wt(i._hasIconPrefix?7:-1),it(),wt(i._hasTextPrefix?8:-1),it(2),wt(!i._hasOutline()||i._forceDisplayInfixLabel()?10:-1),it(2),wt(i._hasTextSuffix?12:-1),it(),wt(i._hasIconSuffix?13:-1),it(),wt(i._hasOutline()?-1:14),it(),Ce("mat-mdc-form-field-subscript-dynamic-size",i.subscriptSizing==="dynamic");let o=i._getSubscriptMessageType();it(),wt((s=o)==="error"?16:s==="hint"?17:-1)}},dependencies:[Zw,n0,Vh,t0,im],styles:[`.mdc-text-field{display:inline-flex;align-items:baseline;padding:0 16px;position:relative;box-sizing:border-box;overflow:hidden;will-change:opacity,transform,color;border-top-left-radius:4px;border-top-right-radius:4px;border-bottom-right-radius:0;border-bottom-left-radius:0}.mdc-text-field__input{width:100%;min-width:0;border:none;border-radius:0;background:none;padding:0;-moz-appearance:none;-webkit-appearance:none;height:28px}.mdc-text-field__input::-webkit-calendar-picker-indicator,.mdc-text-field__input::-webkit-search-cancel-button{display:none}.mdc-text-field__input::-ms-clear{display:none}.mdc-text-field__input:focus{outline:none}.mdc-text-field__input:invalid{box-shadow:none}.mdc-text-field__input::placeholder{opacity:0}.mdc-text-field__input::-moz-placeholder{opacity:0}.mdc-text-field__input::-webkit-input-placeholder{opacity:0}.mdc-text-field__input:-ms-input-placeholder{opacity:0}.mdc-text-field--no-label .mdc-text-field__input::placeholder,.mdc-text-field--focused .mdc-text-field__input::placeholder{opacity:1}.mdc-text-field--no-label .mdc-text-field__input::-moz-placeholder,.mdc-text-field--focused .mdc-text-field__input::-moz-placeholder{opacity:1}.mdc-text-field--no-label .mdc-text-field__input::-webkit-input-placeholder,.mdc-text-field--focused .mdc-text-field__input::-webkit-input-placeholder{opacity:1}.mdc-text-field--no-label .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--focused .mdc-text-field__input:-ms-input-placeholder{opacity:1}.mdc-text-field--disabled:not(.mdc-text-field--no-label) .mdc-text-field__input.mat-mdc-input-disabled-interactive::placeholder{opacity:0}.mdc-text-field--disabled:not(.mdc-text-field--no-label) .mdc-text-field__input.mat-mdc-input-disabled-interactive::-moz-placeholder{opacity:0}.mdc-text-field--disabled:not(.mdc-text-field--no-label) .mdc-text-field__input.mat-mdc-input-disabled-interactive::-webkit-input-placeholder{opacity:0}.mdc-text-field--disabled:not(.mdc-text-field--no-label) .mdc-text-field__input.mat-mdc-input-disabled-interactive:-ms-input-placeholder{opacity:0}.mdc-text-field--outlined .mdc-text-field__input,.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{height:100%}.mdc-text-field--outlined .mdc-text-field__input{display:flex;border:none !important;background-color:rgba(0,0,0,0)}.mdc-text-field--disabled .mdc-text-field__input{pointer-events:auto}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input{color:var(--mat-form-field-filled-input-text-color, var(--mat-sys-on-surface));caret-color:var(--mat-form-field-filled-caret-color, var(--mat-sys-primary))}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input::placeholder{color:var(--mat-form-field-filled-input-text-placeholder-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input::-moz-placeholder{color:var(--mat-form-field-filled-input-text-placeholder-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input::-webkit-input-placeholder{color:var(--mat-form-field-filled-input-text-placeholder-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input:-ms-input-placeholder{color:var(--mat-form-field-filled-input-text-placeholder-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input{color:var(--mat-form-field-outlined-input-text-color, var(--mat-sys-on-surface));caret-color:var(--mat-form-field-outlined-caret-color, var(--mat-sys-primary))}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input::placeholder{color:var(--mat-form-field-outlined-input-text-placeholder-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input::-moz-placeholder{color:var(--mat-form-field-outlined-input-text-placeholder-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input::-webkit-input-placeholder{color:var(--mat-form-field-outlined-input-text-placeholder-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input:-ms-input-placeholder{color:var(--mat-form-field-outlined-input-text-placeholder-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mat-form-field-filled-error-caret-color, var(--mat-sys-error))}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mat-form-field-outlined-error-caret-color, var(--mat-sys-error))}.mdc-text-field--filled.mdc-text-field--disabled .mdc-text-field__input{color:var(--mat-form-field-filled-disabled-input-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-text-field__input{color:var(--mat-form-field-outlined-disabled-input-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}@media(forced-colors: active){.mdc-text-field--disabled .mdc-text-field__input{background-color:Window}}.mdc-text-field--filled{height:56px;border-bottom-right-radius:0;border-bottom-left-radius:0;border-top-left-radius:var(--mat-form-field-filled-container-shape, var(--mat-sys-corner-extra-small));border-top-right-radius:var(--mat-form-field-filled-container-shape, var(--mat-sys-corner-extra-small))}.mdc-text-field--filled:not(.mdc-text-field--disabled){background-color:var(--mat-form-field-filled-container-color, var(--mat-sys-surface-variant))}.mdc-text-field--filled.mdc-text-field--disabled{background-color:var(--mat-form-field-filled-disabled-container-color, color-mix(in srgb, var(--mat-sys-on-surface) 4%, transparent))}.mdc-text-field--outlined{height:56px;overflow:visible;padding-right:max(16px,var(--mat-form-field-outlined-container-shape, var(--mat-sys-corner-extra-small)));padding-left:max(16px,var(--mat-form-field-outlined-container-shape, var(--mat-sys-corner-extra-small)) + 4px)}[dir=rtl] .mdc-text-field--outlined{padding-right:max(16px,var(--mat-form-field-outlined-container-shape, var(--mat-sys-corner-extra-small)) + 4px);padding-left:max(16px,var(--mat-form-field-outlined-container-shape, var(--mat-sys-corner-extra-small)))}.mdc-floating-label{position:absolute;left:0;transform-origin:left top;line-height:1.15rem;text-align:left;text-overflow:ellipsis;white-space:nowrap;cursor:text;overflow:hidden;will-change:transform}[dir=rtl] .mdc-floating-label{right:0;left:auto;transform-origin:right top;text-align:right}.mdc-text-field .mdc-floating-label{top:50%;transform:translateY(-50%);pointer-events:none}.mdc-notched-outline .mdc-floating-label{display:inline-block;position:relative;max-width:100%}.mdc-text-field--outlined .mdc-floating-label{left:4px;right:auto}[dir=rtl] .mdc-text-field--outlined .mdc-floating-label{left:auto;right:4px}.mdc-text-field--filled .mdc-floating-label{left:16px;right:auto}[dir=rtl] .mdc-text-field--filled .mdc-floating-label{left:auto;right:16px}.mdc-text-field--disabled .mdc-floating-label{cursor:default}@media(forced-colors: active){.mdc-text-field--disabled .mdc-floating-label{z-index:1}}.mdc-text-field--filled.mdc-text-field--no-label .mdc-floating-label{display:none}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-floating-label{color:var(--mat-form-field-filled-label-text-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label{color:var(--mat-form-field-filled-focus-label-text-color, var(--mat-sys-primary))}.mdc-text-field--filled:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-floating-label{color:var(--mat-form-field-filled-hover-label-text-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--filled.mdc-text-field--disabled .mdc-floating-label{color:var(--mat-form-field-filled-disabled-label-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid .mdc-floating-label{color:var(--mat-form-field-filled-error-label-text-color, var(--mat-sys-error))}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid.mdc-text-field--focused .mdc-floating-label{color:var(--mat-form-field-filled-error-focus-label-text-color, var(--mat-sys-error))}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid:not(.mdc-text-field--disabled):hover .mdc-floating-label{color:var(--mat-form-field-filled-error-hover-label-text-color, var(--mat-sys-on-error-container))}.mdc-text-field--filled .mdc-floating-label{font-family:var(--mat-form-field-filled-label-text-font, var(--mat-sys-body-large-font));font-size:var(--mat-form-field-filled-label-text-size, var(--mat-sys-body-large-size));font-weight:var(--mat-form-field-filled-label-text-weight, var(--mat-sys-body-large-weight));letter-spacing:var(--mat-form-field-filled-label-text-tracking, var(--mat-sys-body-large-tracking))}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-floating-label{color:var(--mat-form-field-outlined-label-text-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label{color:var(--mat-form-field-outlined-focus-label-text-color, var(--mat-sys-primary))}.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-floating-label{color:var(--mat-form-field-outlined-hover-label-text-color, var(--mat-sys-on-surface))}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-floating-label{color:var(--mat-form-field-outlined-disabled-label-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid .mdc-floating-label{color:var(--mat-form-field-outlined-error-label-text-color, var(--mat-sys-error))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid.mdc-text-field--focused .mdc-floating-label{color:var(--mat-form-field-outlined-error-focus-label-text-color, var(--mat-sys-error))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid:not(.mdc-text-field--disabled):hover .mdc-floating-label{color:var(--mat-form-field-outlined-error-hover-label-text-color, var(--mat-sys-on-error-container))}.mdc-text-field--outlined .mdc-floating-label{font-family:var(--mat-form-field-outlined-label-text-font, var(--mat-sys-body-large-font));font-size:var(--mat-form-field-outlined-label-text-size, var(--mat-sys-body-large-size));font-weight:var(--mat-form-field-outlined-label-text-weight, var(--mat-sys-body-large-weight));letter-spacing:var(--mat-form-field-outlined-label-text-tracking, var(--mat-sys-body-large-tracking))}.mdc-floating-label--float-above{cursor:auto;transform:translateY(-106%) scale(0.75)}.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) scale(1);font-size:.75rem}.mdc-notched-outline .mdc-floating-label--float-above{text-overflow:clip}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:133.3333333333%}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) scale(0.75)}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after{margin-left:1px;margin-right:0;content:"*"}[dir=rtl] .mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after{margin-left:0;margin-right:1px}.mdc-notched-outline{display:flex;position:absolute;top:0;right:0;left:0;box-sizing:border-box;width:100%;max-width:100%;height:100%;text-align:left;pointer-events:none}[dir=rtl] .mdc-notched-outline{text-align:right}.mdc-text-field--outlined .mdc-notched-outline{z-index:1}.mat-mdc-notch-piece{box-sizing:border-box;height:100%;pointer-events:none;border-top:1px solid;border-bottom:1px solid}.mdc-text-field--focused .mat-mdc-notch-piece{border-width:2px}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mat-mdc-notch-piece{border-color:var(--mat-form-field-outlined-outline-color, var(--mat-sys-outline));border-width:var(--mat-form-field-outlined-outline-width, 1px)}.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mat-mdc-notch-piece{border-color:var(--mat-form-field-outlined-hover-outline-color, var(--mat-sys-on-surface))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mat-mdc-notch-piece{border-color:var(--mat-form-field-outlined-focus-outline-color, var(--mat-sys-primary))}.mdc-text-field--outlined.mdc-text-field--disabled .mat-mdc-notch-piece{border-color:var(--mat-form-field-outlined-disabled-outline-color, color-mix(in srgb, var(--mat-sys-on-surface) 12%, transparent))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid .mat-mdc-notch-piece{border-color:var(--mat-form-field-outlined-error-outline-color, var(--mat-sys-error))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid:not(.mdc-text-field--focused):hover .mdc-notched-outline .mat-mdc-notch-piece{border-color:var(--mat-form-field-outlined-error-hover-outline-color, var(--mat-sys-on-error-container))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid.mdc-text-field--focused .mat-mdc-notch-piece{border-color:var(--mat-form-field-outlined-error-focus-outline-color, var(--mat-sys-error))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline .mat-mdc-notch-piece{border-width:var(--mat-form-field-outlined-focus-outline-width, 2px)}.mdc-notched-outline__leading{border-left:1px solid;border-right:none;border-top-right-radius:0;border-bottom-right-radius:0;border-top-left-radius:var(--mat-form-field-outlined-container-shape, var(--mat-sys-corner-extra-small));border-bottom-left-radius:var(--mat-form-field-outlined-container-shape, var(--mat-sys-corner-extra-small))}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{width:max(12px,var(--mat-form-field-outlined-container-shape, var(--mat-sys-corner-extra-small)))}[dir=rtl] .mdc-notched-outline__leading{border-left:none;border-right:1px solid;border-bottom-left-radius:0;border-top-left-radius:0;border-top-right-radius:var(--mat-form-field-outlined-container-shape, var(--mat-sys-corner-extra-small));border-bottom-right-radius:var(--mat-form-field-outlined-container-shape, var(--mat-sys-corner-extra-small))}.mdc-notched-outline__trailing{flex-grow:1;border-left:none;border-right:1px solid;border-top-left-radius:0;border-bottom-left-radius:0;border-top-right-radius:var(--mat-form-field-outlined-container-shape, var(--mat-sys-corner-extra-small));border-bottom-right-radius:var(--mat-form-field-outlined-container-shape, var(--mat-sys-corner-extra-small))}[dir=rtl] .mdc-notched-outline__trailing{border-left:1px solid;border-right:none;border-top-right-radius:0;border-bottom-right-radius:0;border-top-left-radius:var(--mat-form-field-outlined-container-shape, var(--mat-sys-corner-extra-small));border-bottom-left-radius:var(--mat-form-field-outlined-container-shape, var(--mat-sys-corner-extra-small))}.mdc-notched-outline__notch{flex:0 0 auto;width:auto}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__notch{max-width:min(var(--mat-form-field-notch-max-width, 100%),calc(100% - max(12px, var(--mat-form-field-outlined-container-shape, var(--mat-sys-corner-extra-small))) * 2))}.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{max-width:min(100%,calc(100% - max(12px, var(--mat-form-field-outlined-container-shape, var(--mat-sys-corner-extra-small))) * 2))}.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:1px}.mdc-text-field--focused.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:2px}.mdc-notched-outline--notched .mdc-notched-outline__notch{padding-left:0;padding-right:8px;border-top:none}[dir=rtl] .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-left:8px;padding-right:0}.mdc-notched-outline--no-label .mdc-notched-outline__notch{display:none}.mdc-line-ripple::before,.mdc-line-ripple::after{position:absolute;bottom:0;left:0;width:100%;border-bottom-style:solid;content:""}.mdc-line-ripple::before{z-index:1;border-bottom-width:var(--mat-form-field-filled-active-indicator-height, 1px)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-line-ripple::before{border-bottom-color:var(--mat-form-field-filled-active-indicator-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--filled:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-line-ripple::before{border-bottom-color:var(--mat-form-field-filled-hover-active-indicator-color, var(--mat-sys-on-surface))}.mdc-text-field--filled.mdc-text-field--disabled .mdc-line-ripple::before{border-bottom-color:var(--mat-form-field-filled-disabled-active-indicator-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid .mdc-line-ripple::before{border-bottom-color:var(--mat-form-field-filled-error-active-indicator-color, var(--mat-sys-error))}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid:not(.mdc-text-field--focused):hover .mdc-line-ripple::before{border-bottom-color:var(--mat-form-field-filled-error-hover-active-indicator-color, var(--mat-sys-on-error-container))}.mdc-line-ripple::after{transform:scaleX(0);opacity:0;z-index:2}.mdc-text-field--filled .mdc-line-ripple::after{border-bottom-width:var(--mat-form-field-filled-focus-active-indicator-height, 2px)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-line-ripple::after{border-bottom-color:var(--mat-form-field-filled-focus-active-indicator-color, var(--mat-sys-primary))}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-line-ripple::after{border-bottom-color:var(--mat-form-field-filled-error-focus-active-indicator-color, var(--mat-sys-error))}.mdc-line-ripple--active::after{transform:scaleX(1);opacity:1}.mdc-line-ripple--deactivating::after{opacity:0}.mdc-text-field--disabled{pointer-events:none}.mat-mdc-form-field-textarea-control{vertical-align:middle;resize:vertical;box-sizing:border-box;height:auto;margin:0;padding:0;border:none;overflow:auto}.mat-mdc-form-field-input-control.mat-mdc-form-field-input-control{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font:inherit;letter-spacing:inherit;text-decoration:inherit;text-transform:inherit;border:none}.mat-mdc-form-field .mat-mdc-floating-label.mdc-floating-label{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;line-height:normal;pointer-events:all;will-change:auto}.mat-mdc-form-field:not(.mat-form-field-disabled) .mat-mdc-floating-label.mdc-floating-label{cursor:inherit}.mdc-text-field--no-label:not(.mdc-text-field--textarea) .mat-mdc-form-field-input-control.mdc-text-field__input,.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control{height:auto}.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control.mdc-text-field__input[type=color]{height:23px}.mat-mdc-text-field-wrapper{height:auto;flex:auto;will-change:auto}.mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-left:0;--mat-mdc-form-field-label-offset-x: -16px}.mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-right:0}[dir=rtl] .mat-mdc-text-field-wrapper{padding-left:16px;padding-right:16px}[dir=rtl] .mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-left:0}[dir=rtl] .mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-right:0}.mat-form-field-disabled .mdc-text-field__input::placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-form-field-disabled .mdc-text-field__input::-moz-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-form-field-disabled .mdc-text-field__input::-webkit-input-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-form-field-disabled .mdc-text-field__input:-ms-input-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-mdc-form-field-label-always-float .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms;opacity:1}.mat-mdc-text-field-wrapper .mat-mdc-form-field-infix .mat-mdc-floating-label{left:auto;right:auto}.mat-mdc-text-field-wrapper.mdc-text-field--outlined .mdc-text-field__input{display:inline-block}.mat-mdc-form-field .mat-mdc-text-field-wrapper.mdc-text-field .mdc-notched-outline__notch{padding-top:0}.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field .mdc-notched-outline__notch{border-left:1px solid rgba(0,0,0,0)}[dir=rtl] .mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field .mdc-notched-outline__notch{border-left:none;border-right:1px solid rgba(0,0,0,0)}.mat-mdc-form-field-infix{min-height:var(--mat-form-field-container-height, 56px);padding-top:var(--mat-form-field-filled-with-label-container-padding-top, 24px);padding-bottom:var(--mat-form-field-filled-with-label-container-padding-bottom, 8px)}.mdc-text-field--outlined .mat-mdc-form-field-infix,.mdc-text-field--no-label .mat-mdc-form-field-infix{padding-top:var(--mat-form-field-container-vertical-padding, 16px);padding-bottom:var(--mat-form-field-container-vertical-padding, 16px)}.mat-mdc-text-field-wrapper .mat-mdc-form-field-flex .mat-mdc-floating-label{top:calc(var(--mat-form-field-container-height, 56px)/2)}.mdc-text-field--filled .mat-mdc-floating-label{display:var(--mat-form-field-filled-label-display, block)}.mat-mdc-text-field-wrapper.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{--mat-mdc-form-field-label-transform: translateY(calc(calc(6.75px + var(--mat-form-field-container-height, 56px) / 2) * -1)) scale(var(--mat-mdc-form-field-floating-label-scale, 0.75));transform:var(--mat-mdc-form-field-label-transform)}@keyframes _mat-form-field-subscript-animation{from{opacity:0;transform:translateY(-5px)}to{opacity:1;transform:translateY(0)}}.mat-mdc-form-field-subscript-wrapper{box-sizing:border-box;width:100%;position:relative}.mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-error-wrapper{position:absolute;top:0;left:0;right:0;padding:0 16px;opacity:1;transform:translateY(0);animation:_mat-form-field-subscript-animation 0ms cubic-bezier(0.55, 0, 0.55, 0.2)}.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-error-wrapper{position:static}.mat-mdc-form-field-bottom-align::before{content:"";display:inline-block;height:16px}.mat-mdc-form-field-bottom-align.mat-mdc-form-field-subscript-dynamic-size::before{content:unset}.mat-mdc-form-field-hint-end{order:1}.mat-mdc-form-field-hint-wrapper{display:flex}.mat-mdc-form-field-hint-spacer{flex:1 0 1em}.mat-mdc-form-field-error{display:block;color:var(--mat-form-field-error-text-color, var(--mat-sys-error))}.mat-mdc-form-field-subscript-wrapper,.mat-mdc-form-field-bottom-align::before{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:var(--mat-form-field-subscript-text-font, var(--mat-sys-body-small-font));line-height:var(--mat-form-field-subscript-text-line-height, var(--mat-sys-body-small-line-height));font-size:var(--mat-form-field-subscript-text-size, var(--mat-sys-body-small-size));letter-spacing:var(--mat-form-field-subscript-text-tracking, var(--mat-sys-body-small-tracking));font-weight:var(--mat-form-field-subscript-text-weight, var(--mat-sys-body-small-weight))}.mat-mdc-form-field-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;opacity:0;pointer-events:none;background-color:var(--mat-form-field-state-layer-color, var(--mat-sys-on-surface))}.mat-mdc-text-field-wrapper:hover .mat-mdc-form-field-focus-overlay{opacity:var(--mat-form-field-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-mdc-form-field.mat-focused .mat-mdc-form-field-focus-overlay{opacity:var(--mat-form-field-focus-state-layer-opacity, 0)}select.mat-mdc-form-field-input-control{-moz-appearance:none;-webkit-appearance:none;background-color:rgba(0,0,0,0);display:inline-flex;box-sizing:border-box}select.mat-mdc-form-field-input-control:not(:disabled){cursor:pointer}select.mat-mdc-form-field-input-control:not(.mat-mdc-native-select-inline) option{color:var(--mat-form-field-select-option-text-color, var(--mat-sys-neutral10))}select.mat-mdc-form-field-input-control:not(.mat-mdc-native-select-inline) option:disabled{color:var(--mat-form-field-select-disabled-option-text-color, color-mix(in srgb, var(--mat-sys-neutral10) 38%, transparent))}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid rgba(0,0,0,0);border-right:5px solid rgba(0,0,0,0);border-top:5px solid;position:absolute;right:0;top:50%;margin-top:-2.5px;pointer-events:none;color:var(--mat-form-field-enabled-select-arrow-color, var(--mat-sys-on-surface-variant))}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{right:auto;left:0}.mat-mdc-form-field-type-mat-native-select.mat-focused .mat-mdc-form-field-infix::after{color:var(--mat-form-field-focus-select-arrow-color, var(--mat-sys-primary))}.mat-mdc-form-field-type-mat-native-select.mat-form-field-disabled .mat-mdc-form-field-infix::after{color:var(--mat-form-field-disabled-select-arrow-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:15px}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:0;padding-left:15px}@media(forced-colors: active){.mat-form-field-appearance-fill .mat-mdc-text-field-wrapper{outline:solid 1px}}@media(forced-colors: active){.mat-form-field-appearance-fill.mat-form-field-disabled .mat-mdc-text-field-wrapper{outline-color:GrayText}}@media(forced-colors: active){.mat-form-field-appearance-fill.mat-focused .mat-mdc-text-field-wrapper{outline:dashed 3px}}@media(forced-colors: active){.mat-mdc-form-field.mat-focused .mdc-notched-outline{border:dashed 3px}}.mat-mdc-form-field-input-control[type=date],.mat-mdc-form-field-input-control[type=datetime],.mat-mdc-form-field-input-control[type=datetime-local],.mat-mdc-form-field-input-control[type=month],.mat-mdc-form-field-input-control[type=week],.mat-mdc-form-field-input-control[type=time]{line-height:1}.mat-mdc-form-field-input-control::-webkit-datetime-edit{line-height:1;padding:0;margin-bottom:-2px}.mat-mdc-form-field{--mat-mdc-form-field-floating-label-scale: 0.75;display:inline-flex;flex-direction:column;min-width:0;text-align:left;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:var(--mat-form-field-container-text-font, var(--mat-sys-body-large-font));line-height:var(--mat-form-field-container-text-line-height, var(--mat-sys-body-large-line-height));font-size:var(--mat-form-field-container-text-size, var(--mat-sys-body-large-size));letter-spacing:var(--mat-form-field-container-text-tracking, var(--mat-sys-body-large-tracking));font-weight:var(--mat-form-field-container-text-weight, var(--mat-sys-body-large-weight))}.mat-mdc-form-field .mdc-text-field--outlined .mdc-floating-label--float-above{font-size:calc(var(--mat-form-field-outlined-label-text-populated-size)*var(--mat-mdc-form-field-floating-label-scale))}.mat-mdc-form-field .mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:var(--mat-form-field-outlined-label-text-populated-size)}[dir=rtl] .mat-mdc-form-field{text-align:right}.mat-mdc-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-mdc-text-field-wrapper{width:100%;z-index:0}.mat-mdc-form-field-icon-prefix,.mat-mdc-form-field-icon-suffix{align-self:center;line-height:0;pointer-events:auto;position:relative;z-index:1}.mat-mdc-form-field-icon-prefix>.mat-icon,.mat-mdc-form-field-icon-suffix>.mat-icon{padding:0 12px;box-sizing:content-box}.mat-mdc-form-field-icon-prefix{color:var(--mat-form-field-leading-icon-color, var(--mat-sys-on-surface-variant))}.mat-form-field-disabled .mat-mdc-form-field-icon-prefix{color:var(--mat-form-field-disabled-leading-icon-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-trailing-icon-color, var(--mat-sys-on-surface-variant))}.mat-form-field-disabled .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-disabled-trailing-icon-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-form-field-invalid .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-error-trailing-icon-color, var(--mat-sys-error))}.mat-form-field-invalid:not(.mat-focused):not(.mat-form-field-disabled) .mat-mdc-text-field-wrapper:hover .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-error-hover-trailing-icon-color, var(--mat-sys-on-error-container))}.mat-form-field-invalid.mat-focused .mat-mdc-text-field-wrapper .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-error-focus-trailing-icon-color, var(--mat-sys-error))}.mat-mdc-form-field-icon-prefix,[dir=rtl] .mat-mdc-form-field-icon-suffix{padding:0 4px 0 0}.mat-mdc-form-field-icon-suffix,[dir=rtl] .mat-mdc-form-field-icon-prefix{padding:0 0 0 4px}.mat-mdc-form-field-subscript-wrapper .mat-icon,.mat-mdc-form-field label .mat-icon{width:1em;height:1em;font-size:inherit}.mat-mdc-form-field-infix{flex:auto;min-width:0;width:180px;position:relative;box-sizing:border-box}.mat-mdc-form-field-infix:has(textarea[cols]){width:auto}.mat-mdc-form-field .mdc-notched-outline__notch{margin-left:-1px;-webkit-clip-path:inset(-9em -999em -9em 1px);clip-path:inset(-9em -999em -9em 1px)}[dir=rtl] .mat-mdc-form-field .mdc-notched-outline__notch{margin-left:0;margin-right:-1px;-webkit-clip-path:inset(-9em 1px -9em -999em);clip-path:inset(-9em 1px -9em -999em)}.mat-mdc-form-field.mat-form-field-animations-enabled .mdc-floating-label{transition:transform 150ms cubic-bezier(0.4, 0, 0.2, 1),color 150ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field.mat-form-field-animations-enabled .mdc-text-field__input{transition:opacity 150ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field.mat-form-field-animations-enabled .mdc-text-field__input::placeholder{transition:opacity 67ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field.mat-form-field-animations-enabled .mdc-text-field__input::-moz-placeholder{transition:opacity 67ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field.mat-form-field-animations-enabled .mdc-text-field__input::-webkit-input-placeholder{transition:opacity 67ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field.mat-form-field-animations-enabled .mdc-text-field__input:-ms-input-placeholder{transition:opacity 67ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field.mat-form-field-animations-enabled.mdc-text-field--no-label .mdc-text-field__input::placeholder,.mat-mdc-form-field.mat-form-field-animations-enabled.mdc-text-field--focused .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms}.mat-mdc-form-field.mat-form-field-animations-enabled.mdc-text-field--no-label .mdc-text-field__input::-moz-placeholder,.mat-mdc-form-field.mat-form-field-animations-enabled.mdc-text-field--focused .mdc-text-field__input::-moz-placeholder{transition-delay:40ms;transition-duration:110ms}.mat-mdc-form-field.mat-form-field-animations-enabled.mdc-text-field--no-label .mdc-text-field__input::-webkit-input-placeholder,.mat-mdc-form-field.mat-form-field-animations-enabled.mdc-text-field--focused .mdc-text-field__input::-webkit-input-placeholder{transition-delay:40ms;transition-duration:110ms}.mat-mdc-form-field.mat-form-field-animations-enabled.mdc-text-field--no-label .mdc-text-field__input:-ms-input-placeholder,.mat-mdc-form-field.mat-form-field-animations-enabled.mdc-text-field--focused .mdc-text-field__input:-ms-input-placeholder{transition-delay:40ms;transition-duration:110ms}.mat-mdc-form-field.mat-form-field-animations-enabled .mdc-text-field--filled:not(.mdc-ripple-upgraded):focus .mdc-text-field__ripple::before{transition-duration:75ms}.mat-mdc-form-field.mat-form-field-animations-enabled .mdc-line-ripple::after{transition:transform 180ms cubic-bezier(0.4, 0, 0.2, 1),opacity 180ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field.mat-form-field-animations-enabled .mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field.mat-form-field-animations-enabled .mat-mdc-form-field-error-wrapper{animation-duration:300ms}.mdc-notched-outline .mdc-floating-label{max-width:calc(100% + 1px)}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:calc(133.3333333333% + 1px)}
`],encapsulation:2,changeDetection:0})}return n})();var lu=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=me({type:n});static \u0275inj=fe({imports:[gt,Ql,cm,gt]})}return n})();var IM=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275cmp=Pe({type:n,selectors:[["ng-component"]],hostAttrs:["cdk-text-field-style-loader",""],decls:0,vars:0,template:function(r,i){},styles:[`textarea.cdk-textarea-autosize{resize:none}textarea.cdk-textarea-autosize-measuring{padding:2px 0 !important;box-sizing:content-box !important;height:auto !important;overflow:hidden !important}textarea.cdk-textarea-autosize-measuring-firefox{padding:2px 0 !important;box-sizing:content-box !important;height:0 !important}@keyframes cdk-text-field-autofill-start{/*!*/}@keyframes cdk-text-field-autofill-end{/*!*/}.cdk-text-field-autofill-monitored:-webkit-autofill{animation:cdk-text-field-autofill-start 0s 1ms}.cdk-text-field-autofill-monitored:not(:-webkit-autofill){animation:cdk-text-field-autofill-end 0s 1ms}
`],encapsulation:2,changeDetection:0})}return n})(),TM={passive:!0},a0=(()=>{class n{_platform=b(Se);_ngZone=b(Z);_renderer=b(mr).createRenderer(null,null);_styleLoader=b(rn);_monitoredElements=new Map;constructor(){}monitor(t){if(!this._platform.isBrowser)return Wt;this._styleLoader.load(IM);let r=nn(t),i=this._monitoredElements.get(r);if(i)return i.subject;let s=new ue,o="cdk-text-field-autofilled",c=d=>{d.animationName==="cdk-text-field-autofill-start"&&!r.classList.contains(o)?(r.classList.add(o),this._ngZone.run(()=>s.next({target:d.target,isAutofilled:!0}))):d.animationName==="cdk-text-field-autofill-end"&&r.classList.contains(o)&&(r.classList.remove(o),this._ngZone.run(()=>s.next({target:d.target,isAutofilled:!1})))},l=this._ngZone.runOutsideAngular(()=>(r.classList.add("cdk-text-field-autofill-monitored"),this._renderer.listen(r,"animationstart",c,TM)));return this._monitoredElements.set(r,{subject:s,unlisten:l}),s}stopMonitoring(t){let r=nn(t),i=this._monitoredElements.get(r);i&&(i.unlisten(),i.subject.complete(),r.classList.remove("cdk-text-field-autofill-monitored"),r.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(r))}ngOnDestroy(){this._monitoredElements.forEach((t,r)=>this.stopMonitoring(r))}static \u0275fac=function(r){return new(r||n)};static \u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var c0=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=me({type:n});static \u0275inj=fe({})}return n})();var l0=new L("MAT_INPUT_VALUE_ACCESSOR");var u0=(()=>{class n{isErrorState(t,r){return!!(t&&t.invalid&&(t.touched||r&&r.submitted))}static \u0275fac=function(r){return new(r||n)};static \u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var uu=class{_defaultMatcher;ngControl;_parentFormGroup;_parentForm;_stateChanges;errorState=!1;matcher;constructor(e,t,r,i,s){this._defaultMatcher=e,this.ngControl=t,this._parentFormGroup=r,this._parentForm=i,this._stateChanges=s}updateErrorState(){let e=this.errorState,t=this._parentFormGroup||this._parentForm,r=this.matcher||this._defaultMatcher,i=this.ngControl?this.ngControl.control:null,s=r?.isErrorState(i,t)??!1;s!==e&&(this.errorState=s,this._stateChanges.next())}};var AM=["button","checkbox","file","hidden","image","radio","range","reset","submit"],DM=new L("MAT_INPUT_CONFIG"),h6=(()=>{class n{_elementRef=b(Ee);_platform=b(Se);ngControl=b($n,{optional:!0,self:!0});_autofillMonitor=b(a0);_ngZone=b(Z);_formField=b(cu,{optional:!0});_renderer=b(Bt);_uid=b(ai).getId("mat-input-");_previousNativeValue;_inputValueAccessor;_signalBasedValueAccessor;_previousPlaceholder;_errorStateTracker;_config=b(DM,{optional:!0});_cleanupIosKeyup;_cleanupWebkitWheel;_isServer;_isNativeSelect;_isTextarea;_isInFormField;focused=!1;stateChanges=new ue;controlType="mat-input";autofilled=!1;get disabled(){return this._disabled}set disabled(t){this._disabled=ps(t),this.focused&&(this.focused=!1,this.stateChanges.next())}_disabled=!1;get id(){return this._id}set id(t){this._id=t||this._uid}_id;placeholder;name;get required(){return this._required??this.ngControl?.control?.hasValidator(Pl.required)??!1}set required(t){this._required=ps(t)}_required;get type(){return this._type}set type(t){this._type=t||"text",this._validateType(),!this._isTextarea&&Wf().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}_type="text";get errorStateMatcher(){return this._errorStateTracker.matcher}set errorStateMatcher(t){this._errorStateTracker.matcher=t}userAriaDescribedBy;get value(){return this._signalBasedValueAccessor?this._signalBasedValueAccessor.value():this._inputValueAccessor.value}set value(t){t!==this.value&&(this._signalBasedValueAccessor?this._signalBasedValueAccessor.value.set(t):this._inputValueAccessor.value=t,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(t){this._readonly=ps(t)}_readonly=!1;disabledInteractive;get errorState(){return this._errorStateTracker.errorState}set errorState(t){this._errorStateTracker.errorState=t}_neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(t=>Wf().has(t));constructor(){let t=b(Mf,{optional:!0}),r=b(Nf,{optional:!0}),i=b(u0),s=b(l0,{optional:!0,self:!0}),o=this._elementRef.nativeElement,c=o.nodeName.toLowerCase();s?yo(s.value)?this._signalBasedValueAccessor=s:this._inputValueAccessor=s:this._inputValueAccessor=o,this._previousNativeValue=this.value,this.id=this.id,this._platform.IOS&&this._ngZone.runOutsideAngular(()=>{this._cleanupIosKeyup=this._renderer.listen(o,"keyup",this._iOSKeyupListener)}),this._errorStateTracker=new uu(i,this.ngControl,r,t,this.stateChanges),this._isServer=!this._platform.isBrowser,this._isNativeSelect=c==="select",this._isTextarea=c==="textarea",this._isInFormField=!!this._formField,this.disabledInteractive=this._config?.disabledInteractive||!1,this._isNativeSelect&&(this.controlType=o.multiple?"mat-native-select-multiple":"mat-native-select"),this._signalBasedValueAccessor&&qi(()=>{this._signalBasedValueAccessor.value(),this.stateChanges.next()})}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(t=>{this.autofilled=t.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement),this._cleanupIosKeyup?.(),this._cleanupWebkitWheel?.()}ngDoCheck(){this.ngControl&&(this.updateErrorState(),this.ngControl.disabled!==null&&this.ngControl.disabled!==this.disabled&&(this.disabled=this.ngControl.disabled,this.stateChanges.next())),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(t){this._elementRef.nativeElement.focus(t)}updateErrorState(){this._errorStateTracker.updateErrorState()}_focusChanged(t){if(t!==this.focused){if(!this._isNativeSelect&&t&&this.disabled&&this.disabledInteractive){let r=this._elementRef.nativeElement;r.type==="number"?(r.type="text",r.setSelectionRange(0,0),r.type="number"):r.setSelectionRange(0,0)}this.focused=t,this.stateChanges.next()}}_onInput(){}_dirtyCheckNativeValue(){let t=this._elementRef.nativeElement.value;this._previousNativeValue!==t&&(this._previousNativeValue=t,this.stateChanges.next())}_dirtyCheckPlaceholder(){let t=this._getPlaceholder();if(t!==this._previousPlaceholder){let r=this._elementRef.nativeElement;this._previousPlaceholder=t,t?r.setAttribute("placeholder",t):r.removeAttribute("placeholder")}}_getPlaceholder(){return this.placeholder||null}_validateType(){AM.indexOf(this._type)>-1}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let t=this._elementRef.nativeElement.validity;return t&&t.badInput}get empty(){return!this._isNeverEmpty()&&!this._elementRef.nativeElement.value&&!this._isBadInput()&&!this.autofilled}get shouldLabelFloat(){if(this._isNativeSelect){let t=this._elementRef.nativeElement,r=t.options[0];return this.focused||t.multiple||!this.empty||!!(t.selectedIndex>-1&&r&&r.label)}else return this.focused&&!this.disabled||!this.empty}get describedByIds(){return this._elementRef.nativeElement.getAttribute("aria-describedby")?.split(" ")||[]}setDescribedByIds(t){let r=this._elementRef.nativeElement;t.length?r.setAttribute("aria-describedby",t.join(" ")):r.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){let t=this._elementRef.nativeElement;return this._isNativeSelect&&(t.multiple||t.size>1)}_iOSKeyupListener=t=>{let r=t.target;!r.value&&r.selectionStart===0&&r.selectionEnd===0&&(r.setSelectionRange(1,1),r.setSelectionRange(0,0))};_getReadonlyAttribute(){return this._isNativeSelect?null:this.readonly||this.disabled&&this.disabledInteractive?"true":null}static \u0275fac=function(r){return new(r||n)};static \u0275dir=Q({type:n,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-mdc-input-element"],hostVars:21,hostBindings:function(r,i){r&1&&fn("focus",function(){return i._focusChanged(!0)})("blur",function(){return i._focusChanged(!1)})("input",function(){return i._onInput()}),r&2&&(wo("id",i.id)("disabled",i.disabled&&!i.disabledInteractive)("required",i.required),Mt("name",i.name||null)("readonly",i._getReadonlyAttribute())("aria-disabled",i.disabled&&i.disabledInteractive?"true":null)("aria-invalid",i.empty&&i.required?null:i.errorState)("aria-required",i.required)("id",i.id),Ce("mat-input-server",i._isServer)("mat-mdc-form-field-textarea-control",i._isInFormField&&i._isTextarea)("mat-mdc-form-field-input-control",i._isInFormField)("mat-mdc-input-disabled-interactive",i.disabledInteractive)("mdc-text-field__input",i._isInFormField)("mat-mdc-native-select-inline",i._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",name:"name",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:[0,"aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly",disabledInteractive:[2,"disabledInteractive","disabledInteractive",Ze]},exportAs:["matInput"],features:[Xe([{provide:au,useExisting:n}]),xt]})}return n})(),f6=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=me({type:n});static \u0275inj=fe({imports:[gt,lu,lu,c0,gt]})}return n})();var d0=()=>{};var m0=function(n){let e=[],t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):(i&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},CM=function(n){let e=[],t=0,r=0;for(;t<n.length;){let i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let s=n[t++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){let s=n[t++],o=n[t++],c=n[t++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|c&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{let s=n[t++],o=n[t++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},du={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();let t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){let s=n[i],o=i+1<n.length,c=o?n[i+1]:0,l=i+2<n.length,d=l?n[i+2]:0,f=s>>2,p=(s&3)<<4|c>>4,g=(c&15)<<2|d>>6,A=d&63;l||(A=64,o||(g=64)),r.push(t[f],t[p],t[g],t[A])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(m0(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):CM(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();let t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){let s=t[n.charAt(i++)],c=i<n.length?t[n.charAt(i)]:0;++i;let d=i<n.length?t[n.charAt(i)]:64;++i;let p=i<n.length?t[n.charAt(i)]:64;if(++i,s==null||c==null||d==null||p==null)throw new um;let g=s<<2|c>>4;if(r.push(g),d!==64){let A=c<<4&240|d>>2;if(r.push(A),p!==64){let R=d<<6&192|p;r.push(R)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}},um=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},SM=function(n){let e=m0(n);return du.encodeByteArray(e,!0)},Ea=function(n){return SM(n).replace(/\./g,"")},hu=function(n){try{return du.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function hm(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var RM=()=>hm().__FIREBASE_DEFAULTS__,xM=()=>{if(typeof process>"u"||typeof process.env>"u")return;let n=process.env.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},PM=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=n&&hu(n[1]);return e&&JSON.parse(e)},fu=()=>{try{return d0()||RM()||xM()||PM()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},fm=n=>{var e,t;return(t=(e=fu())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},p0=n=>{let e=fm(n);if(!e)return;let t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},mm=()=>{var n;return(n=fu())===null||n===void 0?void 0:n.config},pm=n=>{var e;return(e=fu())===null||e===void 0?void 0:e[`_${n}`]};var li=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}};function Ir(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function mu(n){return(await fetch(n,{credentials:"include"})).ok}function g0(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let t={alg:"none",type:"JWT"},r=e||"demo-project",i=n.iat||0,s=n.sub||n.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},n);return[Ea(JSON.stringify(t)),Ea(JSON.stringify(o)),""].join(".")}var ba={};function MM(){let n={prod:[],emulator:[]};for(let e of Object.keys(ba))ba[e]?n.emulator.push(e):n.prod.push(e);return n}function NM(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}var h0=!1;function pu(n,e){if(typeof window>"u"||typeof document>"u"||!Ir(window.location.host)||ba[n]===e||ba[n]||h0)return;ba[n]=e;function t(g){return`__firebase__banner__${g}`}let r="__firebase__banner",s=MM().prod.length>0;function o(){let g=document.getElementById(r);g&&g.remove()}function c(g){g.style.display="flex",g.style.background="#7faaf0",g.style.position="fixed",g.style.bottom="5px",g.style.left="5px",g.style.padding=".5em",g.style.borderRadius="5px",g.style.alignItems="center"}function l(g,A){g.setAttribute("width","24"),g.setAttribute("id",A),g.setAttribute("height","24"),g.setAttribute("viewBox","0 0 24 24"),g.setAttribute("fill","none"),g.style.marginLeft="-6px"}function d(){let g=document.createElement("span");return g.style.cursor="pointer",g.style.marginLeft="16px",g.style.fontSize="24px",g.innerHTML=" &times;",g.onclick=()=>{h0=!0,o()},g}function f(g,A){g.setAttribute("id",A),g.innerText="Learn more",g.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",g.setAttribute("target","__blank"),g.style.paddingLeft="5px",g.style.textDecoration="underline"}function p(){let g=NM(r),A=t("text"),R=document.getElementById(A)||document.createElement("span"),M=t("learnmore"),S=document.getElementById(M)||document.createElement("a"),F=t("preprendIcon"),U=document.getElementById(F)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(g.created){let j=g.element;c(j),f(S,M);let G=d();l(U,F),j.append(U,R,S,G),document.body.appendChild(j)}s?(R.innerText="Preview backend disconnected.",U.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(U.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,R.innerText="Preview backend running in this workspace."),R.setAttribute("id",A)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",p):p()}function He(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function _0(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(He())}function kM(){var n;let e=(n=fu())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function v0(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function y0(){let n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function b0(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function E0(){let n=He();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function w0(){return!kM()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function wa(){try{return typeof indexedDB=="object"}catch{return!1}}function I0(){return new Promise((n,e)=>{try{let t=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(t){e(t)}})}var OM="FirebaseError",Ft=class n extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=OM,Object.setPrototypeOf(this,n.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,sn.prototype.create)}},sn=class{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){let r=t[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?FM(s,r):"Error",c=`${this.serviceName}: ${o} (${i}).`;return new Ft(i,c,r)}};function FM(n,e){return n.replace(LM,(t,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var LM=/\{\$([^}]+)}/g;function T0(n){for(let e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function bn(n,e){if(n===e)return!0;let t=Object.keys(n),r=Object.keys(e);for(let i of t){if(!r.includes(i))return!1;let s=n[i],o=e[i];if(f0(s)&&f0(o)){if(!bn(s,o))return!1}else if(s!==o)return!1}for(let i of r)if(!t.includes(i))return!1;return!0}function f0(n){return n!==null&&typeof n=="object"}function Ia(n){let e=[];for(let[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function gs(n){let e={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){let[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function _s(n){let e=n.indexOf("?");if(!e)return"";let t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function A0(n,e){let t=new dm(n,e);return t.subscribe.bind(t)}var dm=class{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let i;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");VM(e,["next","error","complete"])?i=e:i={next:e,error:t,complete:r},i.next===void 0&&(i.next=lm),i.error===void 0&&(i.error=lm),i.complete===void 0&&(i.complete=lm);let s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function VM(n,e){if(typeof n!="object"||n===null)return!1;for(let t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function lm(){}var _6=14400*1e3;function Oe(n){return n&&n._delegate?n._delegate:n}var _t=class{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var ui="[DEFAULT]";var gm=class{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){let r=new li;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(t=e?.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(BM(e))try{this.getOrInitializeService({instanceIdentifier:ui})}catch{}for(let[t,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(t);try{let s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=ui){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){let e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ui){return this.instances.has(e)}getOptions(e=ui){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(let[s,o]of this.instancesDeferred.entries()){let c=this.normalizeInstanceIdentifier(s);r===c&&o.resolve(i)}return i}onInit(e,t){var r;let i=this.normalizeInstanceIdentifier(t),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);let o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,t){let r=this.onInitCallbacks.get(t);if(r)for(let i of r)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:UM(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=ui){return this.component?this.component.multipleInstances?e:ui:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function UM(n){return n===ui?void 0:n}function BM(n){return n.instantiationMode==="EAGER"}var gu=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let t=new gm(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}};var jM=[],se=(function(n){return n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT",n})(se||{}),$M={debug:se.DEBUG,verbose:se.VERBOSE,info:se.INFO,warn:se.WARN,error:se.ERROR,silent:se.SILENT},zM=se.INFO,HM={[se.DEBUG]:"log",[se.VERBOSE]:"log",[se.INFO]:"info",[se.WARN]:"warn",[se.ERROR]:"error"},qM=(n,e,...t)=>{if(e<n.logLevel)return;let r=new Date().toISOString(),i=HM[e];if(i)console[i](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},En=class{constructor(e){this.name=e,this._logLevel=zM,this._logHandler=qM,this._userLogHandler=null,jM.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in se))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?$M[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,se.DEBUG,...e),this._logHandler(this,se.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,se.VERBOSE,...e),this._logHandler(this,se.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,se.INFO,...e),this._logHandler(this,se.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,se.WARN,...e),this._logHandler(this,se.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,se.ERROR,...e),this._logHandler(this,se.ERROR,...e)}};var GM=(n,e)=>e.some(t=>n instanceof t),D0,C0;function WM(){return D0||(D0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function KM(){return C0||(C0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var S0=new WeakMap,vm=new WeakMap,R0=new WeakMap,_m=new WeakMap,bm=new WeakMap;function YM(n){let e=new Promise((t,r)=>{let i=()=>{n.removeEventListener("success",s),n.removeEventListener("error",o)},s=()=>{t(wn(n.result)),i()},o=()=>{r(n.error),i()};n.addEventListener("success",s),n.addEventListener("error",o)});return e.then(t=>{t instanceof IDBCursor&&S0.set(t,n)}).catch(()=>{}),bm.set(e,n),e}function QM(n){if(vm.has(n))return;let e=new Promise((t,r)=>{let i=()=>{n.removeEventListener("complete",s),n.removeEventListener("error",o),n.removeEventListener("abort",o)},s=()=>{t(),i()},o=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",s),n.addEventListener("error",o),n.addEventListener("abort",o)});vm.set(n,e)}var ym={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return vm.get(n);if(e==="objectStoreNames")return n.objectStoreNames||R0.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return wn(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function x0(n){ym=n(ym)}function XM(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){let r=n.call(_u(this),e,...t);return R0.set(r,e.sort?e.sort():[e]),wn(r)}:KM().includes(n)?function(...e){return n.apply(_u(this),e),wn(S0.get(this))}:function(...e){return wn(n.apply(_u(this),e))}}function JM(n){return typeof n=="function"?XM(n):(n instanceof IDBTransaction&&QM(n),GM(n,WM())?new Proxy(n,ym):n)}function wn(n){if(n instanceof IDBRequest)return YM(n);if(_m.has(n))return _m.get(n);let e=JM(n);return e!==n&&(_m.set(n,e),bm.set(e,n)),e}var _u=n=>bm.get(n);function M0(n,e,{blocked:t,upgrade:r,blocking:i,terminated:s}={}){let o=indexedDB.open(n,e),c=wn(o);return r&&o.addEventListener("upgradeneeded",l=>{r(wn(o.result),l.oldVersion,l.newVersion,wn(o.transaction),l)}),t&&o.addEventListener("blocked",l=>t(l.oldVersion,l.newVersion,l)),c.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",d=>i(d.oldVersion,d.newVersion,d))}).catch(()=>{}),c}var ZM=["get","getKey","getAll","getAllKeys","count"],eN=["put","add","delete","clear"],Em=new Map;function P0(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(Em.get(e))return Em.get(e);let t=e.replace(/FromIndex$/,""),r=e!==t,i=eN.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(i||ZM.includes(t)))return;let s=async function(o,...c){let l=this.transaction(o,i?"readwrite":"readonly"),d=l.store;return r&&(d=d.index(c.shift())),(await Promise.all([d[t](...c),i&&l.done]))[0]};return Em.set(e,s),s}x0(n=>_e(N({},n),{get:(e,t,r)=>P0(e,t)||n.get(e,t,r),has:(e,t)=>!!P0(e,t)||n.has(e,t)}));var Im=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(tN(t)){let r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}};function tN(n){let e=n.getComponent();return e?.type==="VERSION"}var Tm="@firebase/app",N0="0.13.2";var Hn=new En("@firebase/app"),nN="@firebase/app-compat",rN="@firebase/analytics-compat",iN="@firebase/analytics",sN="@firebase/app-check-compat",oN="@firebase/app-check",aN="@firebase/auth",cN="@firebase/auth-compat",lN="@firebase/database",uN="@firebase/data-connect",dN="@firebase/database-compat",hN="@firebase/functions",fN="@firebase/functions-compat",mN="@firebase/installations",pN="@firebase/installations-compat",gN="@firebase/messaging",_N="@firebase/messaging-compat",vN="@firebase/performance",yN="@firebase/performance-compat",bN="@firebase/remote-config",EN="@firebase/remote-config-compat",wN="@firebase/storage",IN="@firebase/storage-compat",TN="@firebase/firestore",AN="@firebase/ai",DN="@firebase/firestore-compat",CN="firebase",SN="11.10.0";var Am="[DEFAULT]",RN={[Tm]:"fire-core",[nN]:"fire-core-compat",[iN]:"fire-analytics",[rN]:"fire-analytics-compat",[oN]:"fire-app-check",[sN]:"fire-app-check-compat",[aN]:"fire-auth",[cN]:"fire-auth-compat",[lN]:"fire-rtdb",[uN]:"fire-data-connect",[dN]:"fire-rtdb-compat",[hN]:"fire-fn",[fN]:"fire-fn-compat",[mN]:"fire-iid",[pN]:"fire-iid-compat",[gN]:"fire-fcm",[_N]:"fire-fcm-compat",[vN]:"fire-perf",[yN]:"fire-perf-compat",[bN]:"fire-rc",[EN]:"fire-rc-compat",[wN]:"fire-gcs",[IN]:"fire-gcs-compat",[TN]:"fire-fst",[DN]:"fire-fst-compat",[AN]:"fire-vertex","fire-js":"fire-js",[CN]:"fire-js-all"};var Ta=new Map,xN=new Map,Dm=new Map;function k0(n,e){try{n.container.addComponent(e)}catch(t){Hn.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function on(n){let e=n.name;if(Dm.has(e))return Hn.debug(`There were multiple attempts to register component ${e}.`),!1;Dm.set(e,n);for(let t of Ta.values())k0(t,n);for(let t of xN.values())k0(t,n);return!0}function vs(n,e){let t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function Ct(n){return n==null?!1:n.settings!==void 0}var PN={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Tr=new sn("app","Firebase",PN);var Cm=class{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new _t("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Tr.create("app-deleted",{appName:this._name})}};var Ar=SN;function xm(n,e={}){let t=n;typeof e!="object"&&(e={name:e});let r=Object.assign({name:Am,automaticDataCollectionEnabled:!0},e),i=r.name;if(typeof i!="string"||!i)throw Tr.create("bad-app-name",{appName:String(i)});if(t||(t=mm()),!t)throw Tr.create("no-options");let s=Ta.get(i);if(s){if(bn(t,s.options)&&bn(r,s.config))return s;throw Tr.create("duplicate-app",{appName:i})}let o=new gu(i);for(let l of Dm.values())o.addComponent(l);let c=new Cm(t,r,o);return Ta.set(i,c),c}function di(n=Am){let e=Ta.get(n);if(!e&&n===Am&&mm())return xm();if(!e)throw Tr.create("no-app",{appName:n});return e}function vu(){return Array.from(Ta.values())}function Re(n,e,t){var r;let i=(r=RN[n])!==null&&r!==void 0?r:n;t&&(i+=`-${t}`);let s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){let c=[`Unable to register library "${i}" with version "${e}":`];s&&c.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&c.push("and"),o&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Hn.warn(c.join(" "));return}on(new _t(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var MN="firebase-heartbeat-database",NN=1,Aa="firebase-heartbeat-store",wm=null;function V0(){return wm||(wm=M0(MN,NN,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Aa)}catch(t){console.warn(t)}}}}).catch(n=>{throw Tr.create("idb-open",{originalErrorMessage:n.message})})),wm}async function kN(n){try{let t=(await V0()).transaction(Aa),r=await t.objectStore(Aa).get(U0(n));return await t.done,r}catch(e){if(e instanceof Ft)Hn.warn(e.message);else{let t=Tr.create("idb-get",{originalErrorMessage:e?.message});Hn.warn(t.message)}}}async function O0(n,e){try{let r=(await V0()).transaction(Aa,"readwrite");await r.objectStore(Aa).put(e,U0(n)),await r.done}catch(t){if(t instanceof Ft)Hn.warn(t.message);else{let r=Tr.create("idb-set",{originalErrorMessage:t?.message});Hn.warn(r.message)}}}function U0(n){return`${n.name}!${n.options.appId}`}var ON=1024,FN=30,Sm=class{constructor(e){this.container=e,this._heartbeatsCache=null;let t=this.container.getProvider("app").getImmediate();this._storage=new Rm(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,t;try{let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=F0();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats.length>FN){let o=VN(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Hn.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let t=F0(),{heartbeatsToSend:r,unsentEntries:i}=LN(this._heartbeatsCache.heartbeats),s=Ea(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(t){return Hn.warn(t),""}}};function F0(){return new Date().toISOString().substring(0,10)}function LN(n,e=ON){let t=[],r=n.slice();for(let i of n){let s=t.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),L0(t)>e){s.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),L0(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}var Rm=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return wa()?I0().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){let t=await kN(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){let i=await this.read();return O0(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){let i=await this.read();return O0(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}};function L0(n){return Ea(JSON.stringify({version:2,heartbeats:n})).length}function VN(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}function UN(n){on(new _t("platform-logger",e=>new Im(e),"PRIVATE")),on(new _t("heartbeat",e=>new Sm(e),"PRIVATE")),Re(Tm,N0,n),Re(Tm,N0,"esm2017"),Re("fire-js","")}UN("");var BN="firebase",jN="11.10.0";Re(BN,jN,"app");function B0(n){n===void 0&&(n=b(De));let e=n.get(Li);return t=>new Rt(r=>{let i=e.add(),s=!1;function o(){s||(i(),s=!0)}let c=t.subscribe({next:l=>{r.next(l),o()},complete:()=>{r.complete(),o()},error:l=>{r.error(l),o()}});return c.add(()=>{r.unsubscribe(),o()}),c})}var Dr=new Rc("ANGULARFIRE2_VERSION");function Da(n,e,t){if(e){if(e.length===1)return e[0];let s=e.filter(o=>o.app===t);if(s.length===1)return s[0]}return t.container.getProvider(n).getImmediate({optional:!0})}var bs=(n,e)=>{let t=e?[e]:vu(),r=[];return t.forEach(i=>{i.container.getProvider(n).instances.forEach(o=>{r.includes(o)||r.push(o)})}),r},ys=(function(n){return n[n.SILENT=0]="SILENT",n[n.WARN=1]="WARN",n[n.VERBOSE=2]="VERBOSE",n})(ys||{}),j0=Ch()&&typeof Zone<"u"?ys.WARN:ys.SILENT;var yu=class{zone;delegate;constructor(e,t=Xv){this.zone=e,this.delegate=t}now(){return this.delegate.now()}schedule(e,t,r){let i=this.zone,s=function(o){i?i.runGuarded(()=>{e.apply(this,[o])}):e.apply(this,[o])};return this.delegate.schedule(s,t,r)}},Cr=(()=>{class n{outsideAngular;insideAngular;constructor(){let t=b(Z);this.outsideAngular=t.runOutsideAngular(()=>new yu(typeof Zone>"u"?void 0:Zone.current)),this.insideAngular=t.run(()=>new yu(typeof Zone>"u"?void 0:Zone.current,Qv))}static \u0275fac=function(r){return new(r||n)};static \u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),$0=!1;function $N(n,e){!$0&&(j0>ys.SILENT||Ch())&&($0=!0,console.warn("Calling Firebase APIs outside of an Injection context may destabilize your application leading to subtle change-detection and hydration bugs. Find more at https://github.com/angular/angularfire/blob/main/docs/zones.md")),j0>=e&&console.warn(`Firebase API called outside injection context: ${n.name}`)}function zN(n){let e=b(Z,{optional:!0});return e?e.runOutsideAngular(()=>n()):n()}function hi(n){let e=b(Z,{optional:!0});return e?e.run(()=>n()):n()}var HN=(n,e,t)=>(...r)=>(e&&setTimeout(e,0),Ye(t,()=>hi(()=>n.apply(void 0,r)))),Fe=(n,e,t)=>(t||=e?ys.WARN:ys.VERBOSE,function(){let r,i=arguments,s,o,c;try{s=b(Cr),o=b(Li),c=b(Qt)}catch{return $N(n,t),n.apply(this,i)}for(let d=0;d<arguments.length;d++)typeof i[d]=="function"&&(e&&(r||=hi(()=>o.add())),i[d]=HN(i[d],r,c));let l=zN(()=>n.apply(this,i));return e?l instanceof Rt?l.pipe(mh(s.outsideAngular),fh(s.insideAngular),B0(c)):l instanceof Promise?hi(()=>{let d=o.add();return new Promise((f,p)=>{l.then(g=>Ye(c,()=>hi(()=>f(g))),g=>Ye(c,()=>hi(()=>p(g)))).finally(d)})}):typeof l=="function"&&r?function(){return setTimeout(r,0),l.apply(this,arguments)}:hi(()=>l):l instanceof Rt?l.pipe(mh(s.outsideAngular),fh(s.insideAngular)):hi(()=>l)});var qn=class{constructor(e){return e}},fi=class{constructor(){return vu()}};function qN(n){return n&&n.length===1?n[0]:new qn(di())}var Pm=new L("angularfire2._apps"),GN={provide:qn,useFactory:qN,deps:[[new bt,Pm]]},WN={provide:fi,deps:[[new bt,Pm]]};function KN(n){return(e,t)=>{let r=t.get(fr);Re("angularfire",Dr.full,"core"),Re("angularfire",Dr.full,"app"),Re("angular",ay.full,r.toString());let i=e.runOutsideAngular(()=>n(t));return new qn(i)}}function l5(n,...e){return Yt([GN,WN,{provide:Pm,useFactory:KN(n),multi:!0,deps:[Z,De,Cr,...e]}])}var u5=Fe(xm,!0);var YN=new Map,QN={activated:!1,tokenObservers:[]},XN={initialized:!1,enabled:!1};function an(n){return YN.get(n)||Object.assign({},QN)}function G0(){return XN}var JN="https://content-firebaseappcheck.googleapis.com/v1";var ZN="exchangeDebugToken",z0={OFFSET_DURATION:300*1e3,RETRIAL_MIN_WAIT:30*1e3,RETRIAL_MAX_WAIT:960*1e3},y5=1440*60*1e3;var km=class{constructor(e,t,r,i,s){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=s,this.pending=null,this.nextErrorWaitInterval=i,i>s)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}async process(e){this.stop();try{this.pending=new li,this.pending.promise.catch(t=>{}),await ek(this.getNextRun(e)),this.pending.resolve(),await this.pending.promise,this.pending=new li,this.pending.promise.catch(t=>{}),await this.operation(),this.pending.resolve(),await this.pending.promise,this.process(!0).catch(()=>{})}catch(t){this.retryPolicy(t)?this.process(!1).catch(()=>{}):this.stop()}}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{let t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}};function ek(n){return new Promise(e=>{setTimeout(e,n)})}var tk={"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.","initial-throttle":"{$httpStatus} error. Attempts allowed again after {$time}",throttled:"Requests throttled due to previous {$httpStatus} error. Attempts allowed again after {$time}"},Sr=new sn("appCheck","AppCheck",tk);function W0(n){if(!an(n).activated)throw Sr.create("use-before-activation",{appName:n.name})}async function K0({url:n,body:e},t){let r={"Content-Type":"application/json"},i=t.getImmediate({optional:!0});if(i){let p=await i.getHeartbeatsHeader();p&&(r["X-Firebase-Client"]=p)}let s={method:"POST",body:JSON.stringify(e),headers:r},o;try{o=await fetch(n,s)}catch(p){throw Sr.create("fetch-network-error",{originalErrorMessage:p?.message})}if(o.status!==200)throw Sr.create("fetch-status-error",{httpStatus:o.status});let c;try{c=await o.json()}catch(p){throw Sr.create("fetch-parse-error",{originalErrorMessage:p?.message})}let l=c.ttl.match(/^([\d.]+)(s)$/);if(!l||!l[2]||isNaN(Number(l[1])))throw Sr.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${c.ttl}`});let d=Number(l[1])*1e3,f=Date.now();return{token:c.token,expireTimeMillis:f+d,issuedAtTimeMillis:f}}function Y0(n,e){let{projectId:t,appId:r,apiKey:i}=n.options;return{url:`${JN}/projects/${t}/apps/${r}:${ZN}?key=${i}`,body:{debug_token:e}}}var nk="firebase-app-check-database",rk=1,Om="firebase-app-check-store";var bu=null;function ik(){return bu||(bu=new Promise((n,e)=>{try{let t=indexedDB.open(nk,rk);t.onsuccess=r=>{n(r.target.result)},t.onerror=r=>{var i;e(Sr.create("storage-open",{originalErrorMessage:(i=r.target.error)===null||i===void 0?void 0:i.message}))},t.onupgradeneeded=r=>{let i=r.target.result;switch(r.oldVersion){case 0:i.createObjectStore(Om,{keyPath:"compositeKey"})}}}catch(t){e(Sr.create("storage-open",{originalErrorMessage:t?.message}))}}),bu)}function sk(n,e){return ok(ak(n),e)}async function ok(n,e){let r=(await ik()).transaction(Om,"readwrite"),s=r.objectStore(Om).put({compositeKey:n,value:e});return new Promise((o,c)=>{s.onsuccess=l=>{o()},r.onerror=l=>{var d;c(Sr.create("storage-set",{originalErrorMessage:(d=l.target.error)===null||d===void 0?void 0:d.message}))}})}function ak(n){return`${n.options.appId}-${n.name}`}var Ca=new En("@firebase/app-check");function Mm(n,e){return wa()?sk(n,e).catch(t=>{Ca.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function Q0(){return G0().enabled}async function X0(){let n=G0();if(n.enabled&&n.token)return n.token.promise;throw Error(`
            Can't get debug token in production mode.
        `)}var ck={error:"UNKNOWN_ERROR"};function lk(n){return du.encodeString(JSON.stringify(n),!1)}async function Fm(n,e=!1,t=!1){let r=n.app;W0(r);let i=an(r),s=i.token,o;if(s&&!Sa(s)&&(i.token=void 0,s=void 0),!s){let d=await i.cachedTokenPromise;d&&(Sa(d)?s=d:await Mm(r,void 0))}if(!e&&s&&Sa(s))return{token:s.token};let c=!1;if(Q0())try{i.exchangeTokenPromise||(i.exchangeTokenPromise=K0(Y0(r,await X0()),n.heartbeatServiceProvider).finally(()=>{i.exchangeTokenPromise=void 0}),c=!0);let d=await i.exchangeTokenPromise;return await Mm(r,d),i.token=d,{token:d.token}}catch(d){return d.code==="appCheck/throttled"||d.code==="appCheck/initial-throttle"?Ca.warn(d.message):t&&Ca.error(d),Nm(d)}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().finally(()=>{i.exchangeTokenPromise=void 0}),c=!0),s=await an(r).exchangeTokenPromise}catch(d){d.code==="appCheck/throttled"||d.code==="appCheck/initial-throttle"?Ca.warn(d.message):t&&Ca.error(d),o=d}let l;return s?o?Sa(s)?l={token:s.token,internalError:o}:l=Nm(o):(l={token:s.token},i.token=s,await Mm(r,s)):l=Nm(o),c&&fk(r,l),l}async function uk(n){let e=n.app;W0(e);let{provider:t}=an(e);if(Q0()){let r=await X0(),{token:i}=await K0(Y0(e,r),n.heartbeatServiceProvider);return{token:i}}else{let{token:r}=await t.getToken();return{token:r}}}function dk(n,e,t,r){let{app:i}=n,s=an(i),o={next:t,error:r,type:e};if(s.tokenObservers=[...s.tokenObservers,o],s.token&&Sa(s.token)){let c=s.token;Promise.resolve().then(()=>{t({token:c.token}),H0(n)}).catch(()=>{})}s.cachedTokenPromise.then(()=>H0(n))}function J0(n,e){let t=an(n),r=t.tokenObservers.filter(i=>i.next!==e);r.length===0&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),t.tokenObservers=r}function H0(n){let{app:e}=n,t=an(e),r=t.tokenRefresher;r||(r=hk(n),t.tokenRefresher=r),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function hk(n){let{app:e}=n;return new km(async()=>{let t=an(e),r;if(t.token?r=await Fm(n,!0):r=await Fm(n),r.error)throw r.error;if(r.internalError)throw r.internalError},()=>!0,()=>{let t=an(e);if(t.token){let r=t.token.issuedAtTimeMillis+(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)*.5+3e5,i=t.token.expireTimeMillis-300*1e3;return r=Math.min(r,i),Math.max(0,r-Date.now())}else return 0},z0.RETRIAL_MIN_WAIT,z0.RETRIAL_MAX_WAIT)}function fk(n,e){let t=an(n).tokenObservers;for(let r of t)try{r.type==="EXTERNAL"&&e.error!=null?r.error(e.error):r.next(e)}catch{}}function Sa(n){return n.expireTimeMillis-Date.now()>0}function Nm(n){return{token:lk(ck),error:n}}var Lm=class{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){let{tokenObservers:e}=an(this.app);for(let t of e)J0(this.app,t.next);return Promise.resolve()}};function mk(n,e){return new Lm(n,e)}function pk(n){return{getToken:e=>Fm(n,e),getLimitedUseToken:()=>uk(n),addTokenListener:e=>dk(n,"INTERNAL",e),removeTokenListener:e=>J0(n.app,e)}}var gk="@firebase/app-check",_k="0.10.1";var vk="app-check",q0="app-check-internal";function yk(){on(new _t(vk,n=>{let e=n.getProvider("app").getImmediate(),t=n.getProvider("heartbeat");return mk(e,t)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(q0).initialize()})),on(new _t(q0,n=>{let e=n.getProvider("app-check").getImmediate();return pk(e)},"PUBLIC").setInstantiationMode("EXPLICIT")),Re(gk,_k)}yk();var bk="app-check";var Es=class{constructor(){return bs(bk)}};var Ek=["localhost","0.0.0.0","127.0.0.1"],P5=typeof window<"u"&&Ek.includes(window.location.hostname);function mI(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var pI=mI,gI=new sn("auth","Firebase",mI());var Du=new En("@firebase/auth");function wk(n,...e){Du.logLevel<=se.WARN&&Du.warn(`Auth (${Ar}): ${n}`,...e)}function wu(n,...e){Du.logLevel<=se.ERROR&&Du.error(`Auth (${Ar}): ${n}`,...e)}function Tn(n,...e){throw cp(n,...e)}function mi(n,...e){return cp(n,...e)}function _I(n,e,t){let r=Object.assign(Object.assign({},pI()),{[e]:t});return new sn("auth","Firebase",r).create(e,{appName:n.name})}function Kn(n){return _I(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function cp(n,...e){if(typeof n!="string"){let t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return gI.create(n,...e)}function K(n,e,...t){if(!n)throw cp(e,...t)}function Gn(n){let e="INTERNAL ASSERTION FAILED: "+n;throw wu(e),new Error(e)}function Pr(n,e){n||Gn(e)}function jm(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function Ik(){return Z0()==="http:"||Z0()==="https:"}function Z0(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}function Tk(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Ik()||y0()||"connection"in navigator)?navigator.onLine:!0}function Ak(){if(typeof navigator>"u")return null;let n=navigator;return n.languages&&n.languages[0]||n.language||null}var pi=class{constructor(e,t){this.shortDelay=e,this.longDelay=t,Pr(t>e,"Short delay should be less than long delay!"),this.isMobile=_0()||b0()}get(){return Tk()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function lp(n,e){Pr(n.emulator,"Emulator should always be set here");let{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}var Cu=class{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Gn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Gn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Gn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var Dk={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var Ck=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],Sk=new pi(3e4,6e4);function Mr(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function Nr(n,e,t,r,i={}){return vI(n,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});let c=Ia(Object.assign({key:n.config.apiKey},o)).slice(1),l=await n._getAdditionalHeaders();l["Content-Type"]="application/json",n.languageCode&&(l["X-Firebase-Locale"]=n.languageCode);let d=Object.assign({method:e,headers:l},s);return v0()||(d.referrerPolicy="no-referrer"),n.emulatorConfig&&Ir(n.emulatorConfig.host)&&(d.credentials="include"),Cu.fetch()(await yI(n,n.config.apiHost,t,c),d)})}async function vI(n,e,t){n._canInitEmulator=!1;let r=Object.assign(Object.assign({},Dk),e);try{let i=new $m(n),s=await Promise.race([t(),i.promise]);i.clearNetworkTimeout();let o=await s.json();if("needConfirmation"in o)throw Eu(n,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{let c=s.ok?o.errorMessage:o.error.message,[l,d]=c.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Eu(n,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw Eu(n,"email-already-in-use",o);if(l==="USER_DISABLED")throw Eu(n,"user-disabled",o);let f=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(d)throw _I(n,f,d);Tn(n,f)}}catch(i){if(i instanceof Ft)throw i;Tn(n,"network-request-failed",{message:String(i)})}}async function La(n,e,t,r,i={}){let s=await Nr(n,e,t,r,i);return"mfaPendingCredential"in s&&Tn(n,"multi-factor-auth-required",{_serverResponse:s}),s}async function yI(n,e,t,r){let i=`${e}${t}?${r}`,s=n,o=s.config.emulator?lp(n.config,i):`${n.config.apiScheme}://${i}`;return Ck.includes(t)&&(await s._persistenceManagerAvailable,s._getPersistenceType()==="COOKIE")?s._getPersistence()._getFinalTarget(o).toString():o}function Rk(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}var $m=class{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(mi(this.auth,"network-request-failed")),Sk.get())})}};function Eu(n,e,t){let r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);let i=mi(n,e,r);return i.customData._tokenResponse=t,i}function eI(n){return n!==void 0&&n.enterprise!==void 0}var zm=class{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(let t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return Rk(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}};async function xk(n,e){return Nr(n,"GET","/v2/recaptchaConfig",Mr(n,e))}async function Pk(n,e){return Nr(n,"POST","/v1/accounts:delete",e)}async function Su(n,e){return Nr(n,"POST","/v1/accounts:lookup",e)}function xa(n){if(n)try{let e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function up(n,e=!1){let t=Oe(n),r=await t.getIdToken(e),i=dp(r);K(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");let s=typeof i.firebase=="object"?i.firebase:void 0,o=s?.sign_in_provider;return{claims:i,token:r,authTime:xa(Vm(i.auth_time)),issuedAtTime:xa(Vm(i.iat)),expirationTime:xa(Vm(i.exp)),signInProvider:o||null,signInSecondFactor:s?.sign_in_second_factor||null}}function Vm(n){return Number(n)*1e3}function dp(n){let[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return wu("JWT malformed, contained fewer than 3 sections"),null;try{let i=hu(t);return i?JSON.parse(i):(wu("Failed to decode base64 JWT payload"),null)}catch(i){return wu("Caught error parsing JWT payload as JSON",i?.toString()),null}}function tI(n){let e=dp(n);return K(e,"internal-error"),K(typeof e.exp<"u","internal-error"),K(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function Ma(n,e,t=!1){if(t)return e;try{return await e}catch(r){throw r instanceof Ft&&Mk(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function Mk({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}var Hm=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}};var Na=class{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=xa(this.lastLoginAt),this.creationTime=xa(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};async function Ru(n){var e;let t=n.auth,r=await n.getIdToken(),i=await Ma(n,Su(t,{idToken:r}));K(i?.users.length,t,"internal-error");let s=i.users[0];n._notifyReloadListener(s);let o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?bI(s.providerUserInfo):[],c=Nk(n.providerData,o),l=n.isAnonymous,d=!(n.email&&s.passwordHash)&&!c?.length,f=l?d:!1,p={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:c,metadata:new Na(s.createdAt,s.lastLoginAt),isAnonymous:f};Object.assign(n,p)}async function hp(n){let e=Oe(n);await Ru(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Nk(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function bI(n){return n.map(e=>{var{providerId:t}=e,r=hh(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}async function kk(n,e){let t=await vI(n,{},async()=>{let r=Ia({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=n.config,o=await yI(n,i,"/v1/token",`key=${s}`),c=await n._getAdditionalHeaders();c["Content-Type"]="application/x-www-form-urlencoded";let l={method:"POST",headers:c,body:r};return n.emulatorConfig&&Ir(n.emulatorConfig.host)&&(l.credentials="include"),Cu.fetch()(o,l)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function Ok(n,e){return Nr(n,"POST","/v2/accounts:revokeToken",Mr(n,e))}var Pa=class n{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){K(e.idToken,"internal-error"),K(typeof e.idToken<"u","internal-error"),K(typeof e.refreshToken<"u","internal-error");let t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):tI(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){K(e.length!==0,"internal-error");let t=tI(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(K(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){let{accessToken:r,refreshToken:i,expiresIn:s}=await kk(e,t);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){let{refreshToken:r,accessToken:i,expirationTime:s}=t,o=new n;return r&&(K(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(K(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(K(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new n,this.toJSON())}_performRefresh(){return Gn("not implemented")}};function Rr(n,e){K(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}var xr=class n{constructor(e){var{uid:t,auth:r,stsTokenManager:i}=e,s=hh(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Hm(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Na(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){let t=await Ma(this,this.stsTokenManager.getToken(this.auth,e));return K(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return up(this,e)}reload(){return hp(this)}_assign(e){this!==e&&(K(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let t=new n(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){K(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await Ru(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Ct(this.auth.app))return Promise.reject(Kn(this.auth));let e=await this.getIdToken();return await Ma(this,Pk(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,i,s,o,c,l,d,f;let p=(r=t.displayName)!==null&&r!==void 0?r:void 0,g=(i=t.email)!==null&&i!==void 0?i:void 0,A=(s=t.phoneNumber)!==null&&s!==void 0?s:void 0,R=(o=t.photoURL)!==null&&o!==void 0?o:void 0,M=(c=t.tenantId)!==null&&c!==void 0?c:void 0,S=(l=t._redirectEventId)!==null&&l!==void 0?l:void 0,F=(d=t.createdAt)!==null&&d!==void 0?d:void 0,U=(f=t.lastLoginAt)!==null&&f!==void 0?f:void 0,{uid:j,emailVerified:G,isAnonymous:ve,providerData:re,stsTokenManager:w}=t;K(j&&w,e,"internal-error");let _=Pa.fromJSON(this.name,w);K(typeof j=="string",e,"internal-error"),Rr(p,e.name),Rr(g,e.name),K(typeof G=="boolean",e,"internal-error"),K(typeof ve=="boolean",e,"internal-error"),Rr(A,e.name),Rr(R,e.name),Rr(M,e.name),Rr(S,e.name),Rr(F,e.name),Rr(U,e.name);let y=new n({uid:j,auth:e,email:g,emailVerified:G,displayName:p,isAnonymous:ve,photoURL:R,phoneNumber:A,tenantId:M,stsTokenManager:_,createdAt:F,lastLoginAt:U});return re&&Array.isArray(re)&&(y.providerData=re.map(E=>Object.assign({},E))),S&&(y._redirectEventId=S),y}static async _fromIdTokenResponse(e,t,r=!1){let i=new Pa;i.updateFromServerResponse(t);let s=new n({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Ru(s),s}static async _fromGetAccountInfoResponse(e,t,r){let i=t.users[0];K(i.localId!==void 0,"internal-error");let s=i.providerUserInfo!==void 0?bI(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!s?.length,c=new Pa;c.updateFromIdToken(r);let l=new n({uid:i.localId,auth:e,stsTokenManager:c,isAnonymous:o}),d={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new Na(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!s?.length};return Object.assign(l,d),l}};var nI=new Map;function Wn(n){Pr(n instanceof Function,"Expected a class definition");let e=nI.get(n);return e?(Pr(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,nI.set(n,e),e)}var Fk=(()=>{class n{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,r){this.storage[t]=r}async _get(t){let r=this.storage[t];return r===void 0?null:r}async _remove(t){delete this.storage[t]}_addListener(t,r){}_removeListener(t,r){}}return n.type="NONE",n})(),qm=Fk;function Iu(n,e,t){return`firebase:${n}:${e}:${t}`}var xu=class n{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;let{config:i,name:s}=this.auth;this.fullUserKey=Iu(this.userKey,i.apiKey,s),this.fullPersistenceKey=Iu("persistence",i.apiKey,s),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){let e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){let t=await Su(this.auth,{idToken:e}).catch(()=>{});return t?xr._fromGetAccountInfoResponse(this.auth,t,e):null}return xr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;let t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new n(Wn(qm),e,r);let i=(await Promise.all(t.map(async d=>{if(await d._isAvailable())return d}))).filter(d=>d),s=i[0]||Wn(qm),o=Iu(r,e.config.apiKey,e.name),c=null;for(let d of t)try{let f=await d._get(o);if(f){let p;if(typeof f=="string"){let g=await Su(e,{idToken:f}).catch(()=>{});if(!g)break;p=await xr._fromGetAccountInfoResponse(e,g,f)}else p=xr._fromJSON(e,f);d!==s&&(c=p),s=d;break}}catch{}let l=i.filter(d=>d._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new n(s,e,r):(s=l[0],c&&await s._set(o,c.toJSON()),await Promise.all(t.map(async d=>{if(d!==s)try{await d._remove(o)}catch{}})),new n(s,e,r))}};function rI(n){let e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(TI(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(EI(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(DI(e))return"Blackberry";if(CI(e))return"Webos";if(wI(e))return"Safari";if((e.includes("chrome/")||II(e))&&!e.includes("edge/"))return"Chrome";if(AI(e))return"Android";{let t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if(r?.length===2)return r[1]}return"Other"}function EI(n=He()){return/firefox\//i.test(n)}function wI(n=He()){let e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function II(n=He()){return/crios\//i.test(n)}function TI(n=He()){return/iemobile/i.test(n)}function AI(n=He()){return/android/i.test(n)}function DI(n=He()){return/blackberry/i.test(n)}function CI(n=He()){return/webos/i.test(n)}function fp(n=He()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function Lk(n=He()){var e;return fp(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function Vk(){return E0()&&document.documentMode===10}function SI(n=He()){return fp(n)||AI(n)||CI(n)||DI(n)||/windows phone/i.test(n)||TI(n)}function RI(n,e=[]){let t;switch(n){case"Browser":t=rI(He());break;case"Worker":t=`${rI(He())}-${n}`;break;default:t=n}let r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Ar}/${r}`}var Gm=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){let r=s=>new Promise((o,c)=>{try{let l=e(s);o(l)}catch(l){c(l)}});r.onAbort=t,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;let t=[];try{for(let r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(let i of t)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}};async function Uk(n,e={}){return Nr(n,"GET","/v2/passwordPolicy",Mr(n,e))}var Bk=6,Wm=class{constructor(e){var t,r,i,s;let o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=o.minPasswordLength)!==null&&t!==void 0?t:Bk,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,i,s,o,c;let l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(t=l.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(s=l.containsUppercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(c=l.containsNonAlphanumericCharacter)!==null&&c!==void 0?c:!0),l}validatePasswordLengthOptions(e,t){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}};var Km=class{constructor(e,t,r,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Pu(this),this.idTokenSubscription=new Pu(this),this.beforeStateQueue=new Gm(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=gI,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(s=>this._resolvePersistenceManagerAvailable=s)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Wn(t)),this._initializationPromise=this.queue(async()=>{var r,i,s;if(!this._deleted&&(this.persistenceManager=await xu.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;let e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{let t=await Su(this,{idToken:e}),r=await xr._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(Ct(this.app)){let o=this.app.settings.authIdToken;return o?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(c,c))}):this.directlySetCurrentUser(null)}let r=await this.assertedPersistence.getCurrentUser(),i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();let o=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,c=i?._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===c)&&l?.user&&(i=l.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return K(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Ru(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=Ak()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Ct(this.app))return Promise.reject(Kn(this));let t=e?Oe(e):null;return t&&K(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&K(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Ct(this.app)?Promise.reject(Kn(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Ct(this.app)?Promise.reject(Kn(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Wn(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();let t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){let e=await Uk(this),t=new Wm(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new sn("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){let t=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),await Ok(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){let r=await this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){let t=e&&Wn(e)||this._popupRedirectResolver;K(t,this,"argument-error"),this.redirectPersistenceManager=await xu.create(this,[Wn(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,r;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};let s=typeof t=="function"?t:t.next.bind(t),o=!1,c=this._isInitialized?Promise.resolve():this._initializationPromise;if(K(c,this,"internal-error"),c.then(()=>{o||s(this.currentUser)}),typeof t=="function"){let l=e.addObserver(t,r,i);return()=>{o=!0,l()}}else{let l=e.addObserver(t);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return K(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=RI(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;let t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);let r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(t["X-Firebase-Client"]=r);let i=await this._getAppCheckToken();return i&&(t["X-Firebase-AppCheck"]=i),t}async _getAppCheckToken(){var e;if(Ct(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;let t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t?.error&&wk(`Error while retrieving App Check token: ${t.error}`),t?.token}};function _i(n){return Oe(n)}var Pu=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=A0(t=>this.observer=t)}get next(){return K(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var Vu={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function jk(n){Vu=n}function xI(n){return Vu.loadJS(n)}function $k(){return Vu.recaptchaEnterpriseScript}function zk(){return Vu.gapiScript}function PI(n){return`__${n}${Math.floor(Math.random()*1e6)}`}var Ym=class{constructor(){this.enterprise=new Qm}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}},Qm=class{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}};var Hk="recaptcha-enterprise",MI="NO_RECAPTCHA",Xm=class{constructor(e){this.type=Hk,this.auth=_i(e)}async verify(e="verify",t=!1){async function r(s){if(!t){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,c)=>{xk(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)c(new Error("recaptcha Enterprise site key undefined"));else{let d=new zm(l);return s.tenantId==null?s._agentRecaptchaConfig=d:s._tenantRecaptchaConfigs[s.tenantId]=d,o(d.siteKey)}}).catch(l=>{c(l)})})}function i(s,o,c){let l=window.grecaptcha;eI(l)?l.enterprise.ready(()=>{l.enterprise.execute(s,{action:e}).then(d=>{o(d)}).catch(()=>{o(MI)})}):c(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new Ym().execute("siteKey",{action:"verify"}):new Promise((s,o)=>{r(this.auth).then(c=>{if(!t&&eI(window.grecaptcha))i(c,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let l=$k();l.length!==0&&(l+=c),xI(l).then(()=>{i(c,s,o)}).catch(d=>{o(d)})}}).catch(c=>{o(c)})})}};async function Ra(n,e,t,r=!1,i=!1){let s=new Xm(n),o;if(i)o=MI;else try{o=await s.verify(t)}catch{o=await s.verify(t,!0)}let c=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in c){let l=c.phoneEnrollmentInfo.phoneNumber,d=c.phoneEnrollmentInfo.recaptchaToken;Object.assign(c,{phoneEnrollmentInfo:{phoneNumber:l,recaptchaToken:d,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in c){let l=c.phoneSignInInfo.recaptchaToken;Object.assign(c,{phoneSignInInfo:{recaptchaToken:l,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return c}return r?Object.assign(c,{captchaResp:o}):Object.assign(c,{captchaResponse:o}),Object.assign(c,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(c,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),c}async function Jm(n,e,t,r,i){var s,o;if(i==="EMAIL_PASSWORD_PROVIDER")if(!((s=n._getRecaptchaConfig())===null||s===void 0)&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){let c=await Ra(n,e,t,t==="getOobCode");return r(n,c)}else return r(n,e).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);let l=await Ra(n,e,t,t==="getOobCode");return r(n,l)}else return Promise.reject(c)});else if(i==="PHONE_PROVIDER")if(!((o=n._getRecaptchaConfig())===null||o===void 0)&&o.isProviderEnabled("PHONE_PROVIDER")){let c=await Ra(n,e,t);return r(n,c).catch(async l=>{var d;if(((d=n._getRecaptchaConfig())===null||d===void 0?void 0:d.getProviderEnforcementState("PHONE_PROVIDER"))==="AUDIT"&&(l.code==="auth/missing-recaptcha-token"||l.code==="auth/invalid-app-credential")){console.log(`Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ${t} flow.`);let f=await Ra(n,e,t,!1,!0);return r(n,f)}return Promise.reject(l)})}else{let c=await Ra(n,e,t,!1,!0);return r(n,c)}else return Promise.reject(i+" provider is not supported.")}function mp(n,e){let t=vs(n,"auth");if(t.isInitialized()){let i=t.getImmediate(),s=t.getOptions();if(bn(s,e??{}))return i;Tn(i,"already-initialized")}return t.initialize({options:e})}function qk(n,e){let t=e?.persistence||[],r=(Array.isArray(t)?t:[t]).map(Wn);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e?.popupRedirectResolver)}function pp(n,e,t){let r=_i(n);K(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");let i=!!t?.disableWarnings,s=NI(e),{host:o,port:c}=Gk(e),l=c===null?"":`:${c}`,d={url:`${s}//${o}${l}/`},f=Object.freeze({host:o,port:c,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){K(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),K(bn(d,r.config.emulator)&&bn(f,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=d,r.emulatorConfig=f,r.settings.appVerificationDisabledForTesting=!0,Ir(o)?(mu(`${s}//${o}${l}`),pu("Auth",!0)):i||Wk()}function NI(n){let e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function Gk(n){let e=NI(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};let r=t[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){let s=i[1];return{host:s,port:iI(r.substr(s.length+1))}}else{let[s,o]=r.split(":");return{host:s,port:iI(o)}}}function iI(n){if(!n)return null;let e=Number(n);return isNaN(e)?null:e}function Wk(){function n(){let e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}var ka=class{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Gn("not implemented")}_getIdTokenResponse(e){return Gn("not implemented")}_linkToIdToken(e,t){return Gn("not implemented")}_getReauthenticationResolver(e){return Gn("not implemented")}};async function Kk(n,e){return Nr(n,"POST","/v1/accounts:signUp",e)}async function Yk(n,e){return La(n,"POST","/v1/accounts:signInWithPassword",Mr(n,e))}async function Qk(n,e){return La(n,"POST","/v1/accounts:signInWithEmailLink",Mr(n,e))}async function Xk(n,e){return La(n,"POST","/v1/accounts:signInWithEmailLink",Mr(n,e))}var Oa=class n extends ka{constructor(e,t,r,i=null){super("password",r),this._email=e,this._password=t,this._tenantId=i}static _fromEmailAndPassword(e,t){return new n(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new n(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){let t=typeof e=="string"?JSON.parse(e):e;if(t?.email&&t?.password){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":let t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Jm(e,t,"signInWithPassword",Yk,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return Qk(e,{email:this._email,oobCode:this._password});default:Tn(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":let r={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Jm(e,r,"signUpPassword",Kk,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return Xk(e,{idToken:t,email:this._email,oobCode:this._password});default:Tn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}};async function Um(n,e){return La(n,"POST","/v1/accounts:signInWithIdp",Mr(n,e))}function Jk(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function Zk(n){let e=gs(_s(n)).link,t=e?gs(_s(e)).deep_link_id:null,r=gs(_s(n)).deep_link_id;return(r?gs(_s(r)).link:null)||r||t||e||n}var Mu=class n{constructor(e){var t,r,i,s,o,c;let l=gs(_s(e)),d=(t=l.apiKey)!==null&&t!==void 0?t:null,f=(r=l.oobCode)!==null&&r!==void 0?r:null,p=Jk((i=l.mode)!==null&&i!==void 0?i:null);K(d&&f&&p,"argument-error"),this.apiKey=d,this.operation=p,this.code=f,this.continueUrl=(s=l.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=l.lang)!==null&&o!==void 0?o:null,this.tenantId=(c=l.tenantId)!==null&&c!==void 0?c:null}static parseLink(e){let t=Zk(e);try{return new n(t)}catch{return null}}};var kI=(()=>{class n{constructor(){this.providerId=n.PROVIDER_ID}static credential(t,r){return Oa._fromEmailAndPassword(t,r)}static credentialWithLink(t,r){let i=Mu.parseLink(r);return K(i,"argument-error"),Oa._fromEmailAndCode(t,i.code,i.tenantId)}}n.PROVIDER_ID="password",n.EMAIL_PASSWORD_SIGN_IN_METHOD="password",n.EMAIL_LINK_SIGN_IN_METHOD="emailLink";return n})(),Nu=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var Zm=class extends Nu{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};async function eO(n,e){return La(n,"POST","/v1/accounts:signUp",Mr(n,e))}var ws=class n{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r,i=!1){let s=await xr._fromIdTokenResponse(e,r,i),o=sI(r);return new n({user:s,providerId:o,_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){await e._updateTokensIfNecessary(r,!0);let i=sI(r);return new n({user:e,providerId:i,_tokenResponse:r,operationType:t})}};function sI(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}var ep=class n extends Ft{constructor(e,t,r,i){var s;super(t.code,t.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,n.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,i){return new n(e,t,r,i)}};function OI(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?ep._fromErrorAndOperation(n,s,e,r):s})}async function tO(n,e,t=!1){let r=await Ma(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return ws._forOperation(n,"link",r)}async function nO(n,e,t=!1){let{auth:r}=n;if(Ct(r.app))return Promise.reject(Kn(r));let i="reauthenticate";try{let s=await Ma(n,OI(r,i,e,n),t);K(s.idToken,r,"internal-error");let o=dp(s.idToken);K(o,r,"internal-error");let{sub:c}=o;return K(n.uid===c,r,"user-mismatch"),ws._forOperation(n,i,s)}catch(s){throw s?.code==="auth/user-not-found"&&Tn(r,"user-mismatch"),s}}async function FI(n,e,t=!1){if(Ct(n.app))return Promise.reject(Kn(n));let r="signIn",i=await OI(n,r,e),s=await ws._fromIdTokenResponse(n,r,i);return t||await n._updateCurrentUser(s.user),s}async function gp(n,e){return FI(_i(n),e)}async function LI(n){let e=_i(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function _p(n,e,t){if(Ct(n.app))return Promise.reject(Kn(n));let r=_i(n),o=await Jm(r,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",eO,"EMAIL_PASSWORD_PROVIDER").catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&LI(n),l}),c=await ws._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(c.user),c}function vp(n,e,t){return Ct(n.app)?Promise.reject(Kn(n)):gp(Oe(n),kI.credential(e,t)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&LI(n),r})}function yp(n,e,t,r){return Oe(n).onIdTokenChanged(e,t,r)}function bp(n,e,t){return Oe(n).beforeAuthStateChanged(e,t)}function Ep(n){return Oe(n).signOut()}var ku="__sak";var Ou=class{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(ku,"1"),this.storage.removeItem(ku),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){let t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};var rO=1e3,iO=10,sO=(()=>{class n extends Ou{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,r)=>this.onStorageEvent(t,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=SI(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(let r of Object.keys(this.listeners)){let i=this.storage.getItem(r),s=this.localCache[r];i!==s&&t(r,s,i)}}onStorageEvent(t,r=!1){if(!t.key){this.forAllChangedKeys((c,l,d)=>{this.notifyListeners(c,d)});return}let i=t.key;r?this.detachListener():this.stopPolling();let s=()=>{let c=this.storage.getItem(i);!r&&this.localCache[i]===c||this.notifyListeners(i,c)},o=this.storage.getItem(i);Vk()&&o!==t.newValue&&t.newValue!==t.oldValue?setTimeout(s,iO):s()}notifyListeners(t,r){this.localCache[t]=r;let i=this.listeners[t];if(i)for(let s of Array.from(i))s(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:r,newValue:i}),!0)})},rO)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,r){await super._set(t,r),this.localCache[t]=JSON.stringify(r)}async _get(t){let r=await super._get(t);return this.localCache[t]=JSON.stringify(r),r}async _remove(t){await super._remove(t),delete this.localCache[t]}}return n.type="LOCAL",n})(),VI=sO;var oO=(()=>{class n extends Ou{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,r){}_removeListener(t,r){}}return n.type="SESSION",n})(),wp=oO;function aO(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}var cO=(()=>{class n{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){let r=this.receivers.find(s=>s.isListeningto(t));if(r)return r;let i=new n(t);return this.receivers.push(i),i}isListeningto(t){return this.eventTarget===t}async handleEvent(t){let r=t,{eventId:i,eventType:s,data:o}=r.data,c=this.handlersMap[s];if(!c?.size)return;r.ports[0].postMessage({status:"ack",eventId:i,eventType:s});let l=Array.from(c).map(async f=>f(r.origin,o)),d=await aO(l);r.ports[0].postMessage({status:"done",eventId:i,eventType:s,response:d})}_subscribe(t,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(r)}_unsubscribe(t,r){this.handlersMap[t]&&r&&this.handlersMap[t].delete(r),(!r||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}n.receivers=[];return n})();function UI(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}var tp=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,r=50){let i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((c,l)=>{let d=UI("",20);i.port1.start();let f=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(p){let g=p;if(g.data.eventId===d)switch(g.data.status){case"ack":clearTimeout(f),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),c(g.data.response);break;default:clearTimeout(f),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:d,data:t},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}};function In(){return window}function lO(n){In().location.href=n}function BI(){return typeof In().WorkerGlobalScope<"u"&&typeof In().importScripts=="function"}async function uO(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function dO(){var n;return((n=navigator?.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function hO(){return BI()?self:null}var jI="firebaseLocalStorageDb",fO=1,Fu="firebaseLocalStorage",$I="fbase_key",gi=class{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}};function Uu(n,e){return n.transaction([Fu],e?"readwrite":"readonly").objectStore(Fu)}function mO(){let n=indexedDB.deleteDatabase(jI);return new gi(n).toPromise()}function np(){let n=indexedDB.open(jI,fO);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{let r=n.result;try{r.createObjectStore(Fu,{keyPath:$I})}catch(i){t(i)}}),n.addEventListener("success",async()=>{let r=n.result;r.objectStoreNames.contains(Fu)?e(r):(r.close(),await mO(),e(await np()))})})}async function oI(n,e,t){let r=Uu(n,!0).put({[$I]:e,value:t});return new gi(r).toPromise()}async function pO(n,e){let t=Uu(n,!1).get(e),r=await new gi(t).toPromise();return r===void 0?null:r.value}function aI(n,e){let t=Uu(n,!0).delete(e);return new gi(t).toPromise()}var gO=800,_O=3,vO=(()=>{class n{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await np(),this.db)}async _withRetries(t){let r=0;for(;;)try{let i=await this._openDb();return await t(i)}catch(i){if(r++>_O)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return BI()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=cO._getInstance(hO()),this.receiver._subscribe("keyChanged",async(t,r)=>({keyProcessed:(await this._poll()).includes(r.key)})),this.receiver._subscribe("ping",async(t,r)=>["keyChanged"])}async initializeSender(){var t,r;if(this.activeServiceWorker=await uO(),!this.activeServiceWorker)return;this.sender=new tp(this.activeServiceWorker);let i=await this.sender._send("ping",{},800);i&&!((t=i[0])===null||t===void 0)&&t.fulfilled&&!((r=i[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||dO()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;let t=await np();return await oI(t,ku,"1"),await aI(t,ku),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,r){return this._withPendingWrite(async()=>(await this._withRetries(i=>oI(i,t,r)),this.localCache[t]=r,this.notifyServiceWorker(t)))}async _get(t){let r=await this._withRetries(i=>pO(i,t));return this.localCache[t]=r,r}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(r=>aI(r,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){let t=await this._withRetries(s=>{let o=Uu(s,!1).getAll();return new gi(o).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];let r=[],i=new Set;if(t.length!==0)for(let{fbase_key:s,value:o}of t)i.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(o)&&(this.notifyListeners(s,o),r.push(s));for(let s of Object.keys(this.localCache))this.localCache[s]&&!i.has(s)&&(this.notifyListeners(s,null),r.push(s));return r}notifyListeners(t,r){this.localCache[t]=r;let i=this.listeners[t];if(i)for(let s of Array.from(i))s(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),gO)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return n.type="LOCAL",n})(),zI=vO;var U5=PI("rcb"),B5=new pi(3e4,6e4);function yO(n,e){return e?Wn(e):(K(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}var Fa=class extends ka{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Um(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Um(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Um(e,this._buildIdpRequest())}_buildIdpRequest(e){let t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}};function bO(n){return FI(n.auth,new Fa(n),n.bypassAuthState)}function EO(n){let{auth:e,user:t}=n;return K(t,e,"internal-error"),nO(t,new Fa(n),n.bypassAuthState)}async function wO(n){let{auth:e,user:t}=n;return K(t,e,"internal-error"),tO(t,new Fa(n),n.bypassAuthState)}var rp=class{constructor(e,t,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){let{urlResponse:t,sessionId:r,postBody:i,tenantId:s,error:o,type:c}=e;if(o){this.reject(o);return}let l={auth:this.auth,requestUri:t,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(c)(l))}catch(d){this.reject(d)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return bO;case"linkViaPopup":case"linkViaRedirect":return wO;case"reauthViaPopup":case"reauthViaRedirect":return EO;default:Tn(this.auth,"internal-error")}}resolve(e){Pr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Pr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var j5=new pi(2e3,1e4);var IO="pendingRedirect",Tu=new Map,ip=class extends rp{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}async execute(){let e=Tu.get(this.auth._key());if(!e){try{let r=await TO(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}Tu.set(this.auth._key(),e)}return this.bypassAuthState||Tu.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}};async function TO(n,e){let t=CO(e),r=DO(n);if(!await r._isAvailable())return!1;let i=await r._get(t)==="true";return await r._remove(t),i}function AO(n,e){Tu.set(n._key(),e)}function DO(n){return Wn(n._redirectPersistence)}function CO(n){return Iu(IO,n.config.apiKey,n.name)}async function SO(n,e,t=!1){if(Ct(n.app))return Promise.reject(Kn(n));let r=_i(n),i=yO(r,e),o=await new ip(r,i,t).execute();return o&&!t&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}var RO=600*1e3,sp=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!xO(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!HI(e)){let i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";t.onError(mi(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){let r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=RO&&this.cachedEventUids.clear(),this.cachedEventUids.has(cI(e))}saveEventToCache(e){this.cachedEventUids.add(cI(e)),this.lastProcessedEventTime=Date.now()}};function cI(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function HI({type:n,error:e}){return n==="unknown"&&e?.code==="auth/no-auth-event"}function xO(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return HI(n);default:return!1}}async function PO(n,e={}){return Nr(n,"GET","/v1/projects",e)}var MO=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,NO=/^https?/;async function kO(n){if(n.config.emulator)return;let{authorizedDomains:e}=await PO(n);for(let t of e)try{if(OO(t))return}catch{}Tn(n,"unauthorized-domain")}function OO(n){let e=jm(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){let o=new URL(n);return o.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&o.hostname===r}if(!NO.test(t))return!1;if(MO.test(n))return r===n;let i=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}var FO=new pi(3e4,6e4);function lI(){let n=In().___jsl;if(n?.H){for(let e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function LO(n){return new Promise((e,t)=>{var r,i,s;function o(){lI(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{lI(),t(mi(n,"network-request-failed"))},timeout:FO.get()})}if(!((i=(r=In().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=In().gapi)===null||s===void 0)&&s.load)o();else{let c=PI("iframefcb");return In()[c]=()=>{gapi.load?o():t(mi(n,"network-request-failed"))},xI(`${zk()}?onload=${c}`).catch(l=>t(l))}}).catch(e=>{throw Au=null,e})}var Au=null;function VO(n){return Au=Au||LO(n),Au}var UO=new pi(5e3,15e3),BO="__/auth/iframe",jO="emulator/auth/iframe",$O={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},zO=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function HO(n){let e=n.config;K(e.authDomain,n,"auth-domain-config-required");let t=e.emulator?lp(e,jO):`https://${n.config.authDomain}/${BO}`,r={apiKey:e.apiKey,appName:n.name,v:Ar},i=zO.get(n.config.apiHost);i&&(r.eid=i);let s=n._getFrameworks();return s.length&&(r.fw=s.join(",")),`${t}?${Ia(r).slice(1)}`}async function qO(n){let e=await VO(n),t=In().gapi;return K(t,n,"internal-error"),e.open({where:document.body,url:HO(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:$O,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});let o=mi(n,"network-request-failed"),c=In().setTimeout(()=>{s(o)},UO.get());function l(){In().clearTimeout(c),i(r)}r.ping(l).then(l,()=>{s(o)})}))}var GO={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},WO=500,KO=600,YO="_blank",QO="http://localhost",Lu=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function XO(n,e,t,r=WO,i=KO){let s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString(),c="",l=Object.assign(Object.assign({},GO),{width:r.toString(),height:i.toString(),top:s,left:o}),d=He().toLowerCase();t&&(c=II(d)?YO:t),EI(d)&&(e=e||QO,l.scrollbars="yes");let f=Object.entries(l).reduce((g,[A,R])=>`${g}${A}=${R},`,"");if(Lk(d)&&c!=="_self")return JO(e||"",c),new Lu(null);let p=window.open(e||"",c,f);K(p,n,"popup-blocked");try{p.focus()}catch{}return new Lu(p)}function JO(n,e){let t=document.createElement("a");t.href=n,t.target=e;let r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}var ZO="__/auth/handler",e1="emulator/auth/handler",t1=encodeURIComponent("fac");async function uI(n,e,t,r,i,s){K(n.config.authDomain,n,"auth-domain-config-required"),K(n.config.apiKey,n,"invalid-api-key");let o={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:Ar,eventId:i};if(e instanceof Nu){e.setDefaultLanguage(n.languageCode),o.providerId=e.providerId||"",T0(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(let[f,p]of Object.entries(s||{}))o[f]=p}if(e instanceof Zm){let f=e.getScopes().filter(p=>p!=="");f.length>0&&(o.scopes=f.join(","))}n.tenantId&&(o.tid=n.tenantId);let c=o;for(let f of Object.keys(c))c[f]===void 0&&delete c[f];let l=await n._getAppCheckToken(),d=l?`#${t1}=${encodeURIComponent(l)}`:"";return`${n1(n)}?${Ia(c).slice(1)}${d}`}function n1({config:n}){return n.emulator?lp(n,e1):`https://${n.authDomain}/${ZO}`}var Bm="webStorageSupport",op=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=wp,this._completeRedirectFn=SO,this._overrideRedirectResult=AO}async _openPopup(e,t,r,i){var s;Pr((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");let o=await uI(e,t,r,jm(),i);return XO(e,o,UI())}async _openRedirect(e,t,r,i){await this._originValidation(e);let s=await uI(e,t,r,jm(),i);return lO(s),new Promise(()=>{})}_initialize(e){let t=e._key();if(this.eventManagers[t]){let{manager:i,promise:s}=this.eventManagers[t];return i?Promise.resolve(i):(Pr(s,"If manager is not set, promise should be"),s)}let r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){let t=await qO(e),r=new sp(e);return t.register("authEvent",i=>(K(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Bm,{type:Bm},i=>{var s;let o=(s=i?.[0])===null||s===void 0?void 0:s[Bm];o!==void 0&&t(!!o),Tn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=kO(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return SI()||wI()||fp()}},qI=op;var dI="@firebase/auth",hI="1.10.8";var ap=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let t=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){K(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function r1(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function i1(n){on(new _t("auth",(e,{options:t})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:c}=r.options;K(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});let l={apiKey:o,authDomain:c,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:RI(n)},d=new Km(r,i,s,l);return qk(d,t),d},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),on(new _t("auth-internal",e=>{let t=_i(e.getProvider("auth").getImmediate());return(r=>new ap(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Re(dI,hI,r1(n)),Re(dI,hI,"esm2017")}var s1=300,o1=pm("authIdTokenMaxAge")||s1,fI=null,a1=n=>async e=>{let t=e&&await e.getIdTokenResult(),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>o1)return;let i=t?.token;fI!==i&&(fI=i,await fetch(n,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function Ip(n=di()){let e=vs(n,"auth");if(e.isInitialized())return e.getImmediate();let t=mp(n,{popupRedirectResolver:qI,persistence:[zI,VI,wp]}),r=pm("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){let s=new URL(r,location.origin);if(location.origin===s.origin){let o=a1(s.toString());bp(t,o,()=>o(t.currentUser)),yp(t,c=>o(c))}}let i=fm("auth");return i&&pp(t,`http://${i}`),t}function c1(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}jk({loadJS(n){return new Promise((e,t)=>{let r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{let s=mi("internal-error");s.customData=i,t(s)},r.type="text/javascript",r.charset="UTF-8",c1().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});i1("Browser");var GI="auth",vi=class{constructor(e){return e}},Va=class{constructor(){return bs(GI)}};var Tp=new L("angularfire2.auth-instances");function X1(n,e){let t=Da(GI,n,e);return t&&new vi(t)}function J1(n){return(e,t)=>{let r=e.runOutsideAngular(()=>n(t));return new vi(r)}}var Z1={provide:Va,deps:[[new bt,Tp]]},eF={provide:vi,useFactory:X1,deps:[[new bt,Tp],qn]};function D9(n,...e){return Re("angularfire",Dr.full,"auth"),Yt([eF,Z1,{provide:Tp,useFactory:J1(n),multi:!0,deps:[Z,De,Cr,fi,[new bt,Es],...e]}])}var WI=Fe(_p,!0,2);var C9=Fe(Ip,!0);var KI=Fe(vp,!0,2);var YI=Fe(Ep,!0,2);var QI=class n{constructor(e){this.auth=e}phoneToEmail(e){return`${e}@harvester.app`}async signup(e,t){let r=this.phoneToEmail(e);return(await WI(this.auth,r,t)).user}async login(e,t){let r=this.phoneToEmail(e);return(await KI(this.auth,r,t)).user}logout(){return YI(this.auth)}getCurrentUser(){return this.auth.currentUser}static \u0275fac=function(t){return new(t||n)(W(vi))};static \u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"})};var XI=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},JI={};var Yn,Ap;(function(){var n;function e(w,_){function y(){}y.prototype=_.prototype,w.D=_.prototype,w.prototype=new y,w.prototype.constructor=w,w.C=function(E,I,D){for(var v=Array(arguments.length-2),Pn=2;Pn<arguments.length;Pn++)v[Pn-2]=arguments[Pn];return _.prototype[I].apply(E,v)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(w,_,y){y||(y=0);var E=Array(16);if(typeof _=="string")for(var I=0;16>I;++I)E[I]=_.charCodeAt(y++)|_.charCodeAt(y++)<<8|_.charCodeAt(y++)<<16|_.charCodeAt(y++)<<24;else for(I=0;16>I;++I)E[I]=_[y++]|_[y++]<<8|_[y++]<<16|_[y++]<<24;_=w.g[0],y=w.g[1],I=w.g[2];var D=w.g[3],v=_+(D^y&(I^D))+E[0]+3614090360&4294967295;_=y+(v<<7&4294967295|v>>>25),v=D+(I^_&(y^I))+E[1]+3905402710&4294967295,D=_+(v<<12&4294967295|v>>>20),v=I+(y^D&(_^y))+E[2]+606105819&4294967295,I=D+(v<<17&4294967295|v>>>15),v=y+(_^I&(D^_))+E[3]+3250441966&4294967295,y=I+(v<<22&4294967295|v>>>10),v=_+(D^y&(I^D))+E[4]+4118548399&4294967295,_=y+(v<<7&4294967295|v>>>25),v=D+(I^_&(y^I))+E[5]+1200080426&4294967295,D=_+(v<<12&4294967295|v>>>20),v=I+(y^D&(_^y))+E[6]+2821735955&4294967295,I=D+(v<<17&4294967295|v>>>15),v=y+(_^I&(D^_))+E[7]+4249261313&4294967295,y=I+(v<<22&4294967295|v>>>10),v=_+(D^y&(I^D))+E[8]+1770035416&4294967295,_=y+(v<<7&4294967295|v>>>25),v=D+(I^_&(y^I))+E[9]+2336552879&4294967295,D=_+(v<<12&4294967295|v>>>20),v=I+(y^D&(_^y))+E[10]+4294925233&4294967295,I=D+(v<<17&4294967295|v>>>15),v=y+(_^I&(D^_))+E[11]+2304563134&4294967295,y=I+(v<<22&4294967295|v>>>10),v=_+(D^y&(I^D))+E[12]+1804603682&4294967295,_=y+(v<<7&4294967295|v>>>25),v=D+(I^_&(y^I))+E[13]+4254626195&4294967295,D=_+(v<<12&4294967295|v>>>20),v=I+(y^D&(_^y))+E[14]+2792965006&4294967295,I=D+(v<<17&4294967295|v>>>15),v=y+(_^I&(D^_))+E[15]+1236535329&4294967295,y=I+(v<<22&4294967295|v>>>10),v=_+(I^D&(y^I))+E[1]+4129170786&4294967295,_=y+(v<<5&4294967295|v>>>27),v=D+(y^I&(_^y))+E[6]+3225465664&4294967295,D=_+(v<<9&4294967295|v>>>23),v=I+(_^y&(D^_))+E[11]+643717713&4294967295,I=D+(v<<14&4294967295|v>>>18),v=y+(D^_&(I^D))+E[0]+3921069994&4294967295,y=I+(v<<20&4294967295|v>>>12),v=_+(I^D&(y^I))+E[5]+3593408605&4294967295,_=y+(v<<5&4294967295|v>>>27),v=D+(y^I&(_^y))+E[10]+38016083&4294967295,D=_+(v<<9&4294967295|v>>>23),v=I+(_^y&(D^_))+E[15]+3634488961&4294967295,I=D+(v<<14&4294967295|v>>>18),v=y+(D^_&(I^D))+E[4]+3889429448&4294967295,y=I+(v<<20&4294967295|v>>>12),v=_+(I^D&(y^I))+E[9]+568446438&4294967295,_=y+(v<<5&4294967295|v>>>27),v=D+(y^I&(_^y))+E[14]+3275163606&4294967295,D=_+(v<<9&4294967295|v>>>23),v=I+(_^y&(D^_))+E[3]+4107603335&4294967295,I=D+(v<<14&4294967295|v>>>18),v=y+(D^_&(I^D))+E[8]+1163531501&4294967295,y=I+(v<<20&4294967295|v>>>12),v=_+(I^D&(y^I))+E[13]+2850285829&4294967295,_=y+(v<<5&4294967295|v>>>27),v=D+(y^I&(_^y))+E[2]+4243563512&4294967295,D=_+(v<<9&4294967295|v>>>23),v=I+(_^y&(D^_))+E[7]+1735328473&4294967295,I=D+(v<<14&4294967295|v>>>18),v=y+(D^_&(I^D))+E[12]+2368359562&4294967295,y=I+(v<<20&4294967295|v>>>12),v=_+(y^I^D)+E[5]+4294588738&4294967295,_=y+(v<<4&4294967295|v>>>28),v=D+(_^y^I)+E[8]+2272392833&4294967295,D=_+(v<<11&4294967295|v>>>21),v=I+(D^_^y)+E[11]+1839030562&4294967295,I=D+(v<<16&4294967295|v>>>16),v=y+(I^D^_)+E[14]+4259657740&4294967295,y=I+(v<<23&4294967295|v>>>9),v=_+(y^I^D)+E[1]+2763975236&4294967295,_=y+(v<<4&4294967295|v>>>28),v=D+(_^y^I)+E[4]+1272893353&4294967295,D=_+(v<<11&4294967295|v>>>21),v=I+(D^_^y)+E[7]+4139469664&4294967295,I=D+(v<<16&4294967295|v>>>16),v=y+(I^D^_)+E[10]+3200236656&4294967295,y=I+(v<<23&4294967295|v>>>9),v=_+(y^I^D)+E[13]+681279174&4294967295,_=y+(v<<4&4294967295|v>>>28),v=D+(_^y^I)+E[0]+3936430074&4294967295,D=_+(v<<11&4294967295|v>>>21),v=I+(D^_^y)+E[3]+3572445317&4294967295,I=D+(v<<16&4294967295|v>>>16),v=y+(I^D^_)+E[6]+76029189&4294967295,y=I+(v<<23&4294967295|v>>>9),v=_+(y^I^D)+E[9]+3654602809&4294967295,_=y+(v<<4&4294967295|v>>>28),v=D+(_^y^I)+E[12]+3873151461&4294967295,D=_+(v<<11&4294967295|v>>>21),v=I+(D^_^y)+E[15]+530742520&4294967295,I=D+(v<<16&4294967295|v>>>16),v=y+(I^D^_)+E[2]+3299628645&4294967295,y=I+(v<<23&4294967295|v>>>9),v=_+(I^(y|~D))+E[0]+4096336452&4294967295,_=y+(v<<6&4294967295|v>>>26),v=D+(y^(_|~I))+E[7]+1126891415&4294967295,D=_+(v<<10&4294967295|v>>>22),v=I+(_^(D|~y))+E[14]+2878612391&4294967295,I=D+(v<<15&4294967295|v>>>17),v=y+(D^(I|~_))+E[5]+4237533241&4294967295,y=I+(v<<21&4294967295|v>>>11),v=_+(I^(y|~D))+E[12]+1700485571&4294967295,_=y+(v<<6&4294967295|v>>>26),v=D+(y^(_|~I))+E[3]+2399980690&4294967295,D=_+(v<<10&4294967295|v>>>22),v=I+(_^(D|~y))+E[10]+4293915773&4294967295,I=D+(v<<15&4294967295|v>>>17),v=y+(D^(I|~_))+E[1]+2240044497&4294967295,y=I+(v<<21&4294967295|v>>>11),v=_+(I^(y|~D))+E[8]+1873313359&4294967295,_=y+(v<<6&4294967295|v>>>26),v=D+(y^(_|~I))+E[15]+4264355552&4294967295,D=_+(v<<10&4294967295|v>>>22),v=I+(_^(D|~y))+E[6]+2734768916&4294967295,I=D+(v<<15&4294967295|v>>>17),v=y+(D^(I|~_))+E[13]+1309151649&4294967295,y=I+(v<<21&4294967295|v>>>11),v=_+(I^(y|~D))+E[4]+4149444226&4294967295,_=y+(v<<6&4294967295|v>>>26),v=D+(y^(_|~I))+E[11]+3174756917&4294967295,D=_+(v<<10&4294967295|v>>>22),v=I+(_^(D|~y))+E[2]+718787259&4294967295,I=D+(v<<15&4294967295|v>>>17),v=y+(D^(I|~_))+E[9]+3951481745&4294967295,w.g[0]=w.g[0]+_&4294967295,w.g[1]=w.g[1]+(I+(v<<21&4294967295|v>>>11))&4294967295,w.g[2]=w.g[2]+I&4294967295,w.g[3]=w.g[3]+D&4294967295}r.prototype.u=function(w,_){_===void 0&&(_=w.length);for(var y=_-this.blockSize,E=this.B,I=this.h,D=0;D<_;){if(I==0)for(;D<=y;)i(this,w,D),D+=this.blockSize;if(typeof w=="string"){for(;D<_;)if(E[I++]=w.charCodeAt(D++),I==this.blockSize){i(this,E),I=0;break}}else for(;D<_;)if(E[I++]=w[D++],I==this.blockSize){i(this,E),I=0;break}}this.h=I,this.o+=_},r.prototype.v=function(){var w=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);w[0]=128;for(var _=1;_<w.length-8;++_)w[_]=0;var y=8*this.o;for(_=w.length-8;_<w.length;++_)w[_]=y&255,y/=256;for(this.u(w),w=Array(16),_=y=0;4>_;++_)for(var E=0;32>E;E+=8)w[y++]=this.g[_]>>>E&255;return w};function s(w,_){var y=c;return Object.prototype.hasOwnProperty.call(y,w)?y[w]:y[w]=_(w)}function o(w,_){this.h=_;for(var y=[],E=!0,I=w.length-1;0<=I;I--){var D=w[I]|0;E&&D==_||(y[I]=D,E=!1)}this.g=y}var c={};function l(w){return-128<=w&&128>w?s(w,function(_){return new o([_|0],0>_?-1:0)}):new o([w|0],0>w?-1:0)}function d(w){if(isNaN(w)||!isFinite(w))return p;if(0>w)return S(d(-w));for(var _=[],y=1,E=0;w>=y;E++)_[E]=w/y|0,y*=4294967296;return new o(_,0)}function f(w,_){if(w.length==0)throw Error("number format error: empty string");if(_=_||10,2>_||36<_)throw Error("radix out of range: "+_);if(w.charAt(0)=="-")return S(f(w.substring(1),_));if(0<=w.indexOf("-"))throw Error('number format error: interior "-" character');for(var y=d(Math.pow(_,8)),E=p,I=0;I<w.length;I+=8){var D=Math.min(8,w.length-I),v=parseInt(w.substring(I,I+D),_);8>D?(D=d(Math.pow(_,D)),E=E.j(D).add(d(v))):(E=E.j(y),E=E.add(d(v)))}return E}var p=l(0),g=l(1),A=l(16777216);n=o.prototype,n.m=function(){if(M(this))return-S(this).m();for(var w=0,_=1,y=0;y<this.g.length;y++){var E=this.i(y);w+=(0<=E?E:4294967296+E)*_,_*=4294967296}return w},n.toString=function(w){if(w=w||10,2>w||36<w)throw Error("radix out of range: "+w);if(R(this))return"0";if(M(this))return"-"+S(this).toString(w);for(var _=d(Math.pow(w,6)),y=this,E="";;){var I=G(y,_).g;y=F(y,I.j(_));var D=((0<y.g.length?y.g[0]:y.h)>>>0).toString(w);if(y=I,R(y))return D+E;for(;6>D.length;)D="0"+D;E=D+E}},n.i=function(w){return 0>w?0:w<this.g.length?this.g[w]:this.h};function R(w){if(w.h!=0)return!1;for(var _=0;_<w.g.length;_++)if(w.g[_]!=0)return!1;return!0}function M(w){return w.h==-1}n.l=function(w){return w=F(this,w),M(w)?-1:R(w)?0:1};function S(w){for(var _=w.g.length,y=[],E=0;E<_;E++)y[E]=~w.g[E];return new o(y,~w.h).add(g)}n.abs=function(){return M(this)?S(this):this},n.add=function(w){for(var _=Math.max(this.g.length,w.g.length),y=[],E=0,I=0;I<=_;I++){var D=E+(this.i(I)&65535)+(w.i(I)&65535),v=(D>>>16)+(this.i(I)>>>16)+(w.i(I)>>>16);E=v>>>16,D&=65535,v&=65535,y[I]=v<<16|D}return new o(y,y[y.length-1]&-2147483648?-1:0)};function F(w,_){return w.add(S(_))}n.j=function(w){if(R(this)||R(w))return p;if(M(this))return M(w)?S(this).j(S(w)):S(S(this).j(w));if(M(w))return S(this.j(S(w)));if(0>this.l(A)&&0>w.l(A))return d(this.m()*w.m());for(var _=this.g.length+w.g.length,y=[],E=0;E<2*_;E++)y[E]=0;for(E=0;E<this.g.length;E++)for(var I=0;I<w.g.length;I++){var D=this.i(E)>>>16,v=this.i(E)&65535,Pn=w.i(I)>>>16,Qs=w.i(I)&65535;y[2*E+2*I]+=v*Qs,U(y,2*E+2*I),y[2*E+2*I+1]+=D*Qs,U(y,2*E+2*I+1),y[2*E+2*I+1]+=v*Pn,U(y,2*E+2*I+1),y[2*E+2*I+2]+=D*Pn,U(y,2*E+2*I+2)}for(E=0;E<_;E++)y[E]=y[2*E+1]<<16|y[2*E];for(E=_;E<2*_;E++)y[E]=0;return new o(y,0)};function U(w,_){for(;(w[_]&65535)!=w[_];)w[_+1]+=w[_]>>>16,w[_]&=65535,_++}function j(w,_){this.g=w,this.h=_}function G(w,_){if(R(_))throw Error("division by zero");if(R(w))return new j(p,p);if(M(w))return _=G(S(w),_),new j(S(_.g),S(_.h));if(M(_))return _=G(w,S(_)),new j(S(_.g),_.h);if(30<w.g.length){if(M(w)||M(_))throw Error("slowDivide_ only works with positive integers.");for(var y=g,E=_;0>=E.l(w);)y=ve(y),E=ve(E);var I=re(y,1),D=re(E,1);for(E=re(E,2),y=re(y,2);!R(E);){var v=D.add(E);0>=v.l(w)&&(I=I.add(y),D=v),E=re(E,1),y=re(y,1)}return _=F(w,I.j(_)),new j(I,_)}for(I=p;0<=w.l(_);){for(y=Math.max(1,Math.floor(w.m()/_.m())),E=Math.ceil(Math.log(y)/Math.LN2),E=48>=E?1:Math.pow(2,E-48),D=d(y),v=D.j(_);M(v)||0<v.l(w);)y-=E,D=d(y),v=D.j(_);R(D)&&(D=g),I=I.add(D),w=F(w,v)}return new j(I,w)}n.A=function(w){return G(this,w).h},n.and=function(w){for(var _=Math.max(this.g.length,w.g.length),y=[],E=0;E<_;E++)y[E]=this.i(E)&w.i(E);return new o(y,this.h&w.h)},n.or=function(w){for(var _=Math.max(this.g.length,w.g.length),y=[],E=0;E<_;E++)y[E]=this.i(E)|w.i(E);return new o(y,this.h|w.h)},n.xor=function(w){for(var _=Math.max(this.g.length,w.g.length),y=[],E=0;E<_;E++)y[E]=this.i(E)^w.i(E);return new o(y,this.h^w.h)};function ve(w){for(var _=w.g.length+1,y=[],E=0;E<_;E++)y[E]=w.i(E)<<1|w.i(E-1)>>>31;return new o(y,w.h)}function re(w,_){var y=_>>5;_%=32;for(var E=w.g.length-y,I=[],D=0;D<E;D++)I[D]=0<_?w.i(D+y)>>>_|w.i(D+y+1)<<32-_:w.i(D+y);return new o(I,w.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,Ap=JI.Md5=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=d,o.fromString=f,Yn=JI.Integer=o}).apply(typeof XI<"u"?XI:typeof self<"u"?self:typeof window<"u"?window:{});var Bu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Qn={};var Dp,nF,Is,Cp,Ua,ju,Sp,Rp,xp;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(a,u,h){return a==Array.prototype||a==Object.prototype||(a[u]=h.value),a};function t(a){a=[typeof globalThis=="object"&&globalThis,a,typeof window=="object"&&window,typeof self=="object"&&self,typeof Bu=="object"&&Bu];for(var u=0;u<a.length;++u){var h=a[u];if(h&&h.Math==Math)return h}throw Error("Cannot find global object")}var r=t(this);function i(a,u){if(u)e:{var h=r;a=a.split(".");for(var m=0;m<a.length-1;m++){var T=a[m];if(!(T in h))break e;h=h[T]}a=a[a.length-1],m=h[a],u=u(m),u!=m&&u!=null&&e(h,a,{configurable:!0,writable:!0,value:u})}}function s(a,u){a instanceof String&&(a+="");var h=0,m=!1,T={next:function(){if(!m&&h<a.length){var C=h++;return{value:u(C,a[C]),done:!1}}return m=!0,{done:!0,value:void 0}}};return T[Symbol.iterator]=function(){return T},T}i("Array.prototype.values",function(a){return a||function(){return s(this,function(u,h){return h})}});var o=o||{},c=this||self;function l(a){var u=typeof a;return u=u!="object"?u:a?Array.isArray(a)?"array":u:"null",u=="array"||u=="object"&&typeof a.length=="number"}function d(a){var u=typeof a;return u=="object"&&a!=null||u=="function"}function f(a,u,h){return a.call.apply(a.bind,arguments)}function p(a,u,h){if(!a)throw Error();if(2<arguments.length){var m=Array.prototype.slice.call(arguments,2);return function(){var T=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(T,m),a.apply(u,T)}}return function(){return a.apply(u,arguments)}}function g(a,u,h){return g=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?f:p,g.apply(null,arguments)}function A(a,u){var h=Array.prototype.slice.call(arguments,1);return function(){var m=h.slice();return m.push.apply(m,arguments),a.apply(this,m)}}function R(a,u){function h(){}h.prototype=u.prototype,a.aa=u.prototype,a.prototype=new h,a.prototype.constructor=a,a.Qb=function(m,T,C){for(var k=Array(arguments.length-2),ge=2;ge<arguments.length;ge++)k[ge-2]=arguments[ge];return u.prototype[T].apply(m,k)}}function M(a){let u=a.length;if(0<u){let h=Array(u);for(let m=0;m<u;m++)h[m]=a[m];return h}return[]}function S(a,u){for(let h=1;h<arguments.length;h++){let m=arguments[h];if(l(m)){let T=a.length||0,C=m.length||0;a.length=T+C;for(let k=0;k<C;k++)a[T+k]=m[k]}else a.push(m)}}class F{constructor(u,h){this.i=u,this.j=h,this.h=0,this.g=null}get(){let u;return 0<this.h?(this.h--,u=this.g,this.g=u.next,u.next=null):u=this.i(),u}}function U(a){return/^[\s\xa0]*$/.test(a)}function j(){var a=c.navigator;return a&&(a=a.userAgent)?a:""}function G(a){return G[" "](a),a}G[" "]=function(){};var ve=j().indexOf("Gecko")!=-1&&!(j().toLowerCase().indexOf("webkit")!=-1&&j().indexOf("Edge")==-1)&&!(j().indexOf("Trident")!=-1||j().indexOf("MSIE")!=-1)&&j().indexOf("Edge")==-1;function re(a,u,h){for(let m in a)u.call(h,a[m],m,a)}function w(a,u){for(let h in a)u.call(void 0,a[h],h,a)}function _(a){let u={};for(let h in a)u[h]=a[h];return u}let y="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function E(a,u){let h,m;for(let T=1;T<arguments.length;T++){m=arguments[T];for(h in m)a[h]=m[h];for(let C=0;C<y.length;C++)h=y[C],Object.prototype.hasOwnProperty.call(m,h)&&(a[h]=m[h])}}function I(a){var u=1;a=a.split(":");let h=[];for(;0<u&&a.length;)h.push(a.shift()),u--;return a.length&&h.push(a.join(":")),h}function D(a){c.setTimeout(()=>{throw a},0)}function v(){var a=Ud;let u=null;return a.g&&(u=a.g,a.g=a.g.next,a.g||(a.h=null),u.next=null),u}class Pn{constructor(){this.h=this.g=null}add(u,h){let m=Qs.get();m.set(u,h),this.h?this.h.next=m:this.g=m,this.h=m}}var Qs=new F(()=>new PD,a=>a.reset());class PD{constructor(){this.next=this.g=this.h=null}set(u,h){this.h=u,this.g=h,this.next=null}reset(){this.next=this.g=this.h=null}}let Xs,Js=!1,Ud=new Pn,K_=()=>{let a=c.Promise.resolve(void 0);Xs=()=>{a.then(MD)}};var MD=()=>{for(var a;a=v();){try{a.h.call(a.g)}catch(h){D(h)}var u=Qs;u.j(a),100>u.h&&(u.h++,a.next=u.g,u.g=a)}Js=!1};function rr(){this.s=this.s,this.C=this.C}rr.prototype.s=!1,rr.prototype.ma=function(){this.s||(this.s=!0,this.N())},rr.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function et(a,u){this.type=a,this.g=this.target=u,this.defaultPrevented=!1}et.prototype.h=function(){this.defaultPrevented=!0};var ND=(function(){if(!c.addEventListener||!Object.defineProperty)return!1;var a=!1,u=Object.defineProperty({},"passive",{get:function(){a=!0}});try{let h=()=>{};c.addEventListener("test",h,u),c.removeEventListener("test",h,u)}catch{}return a})();function Zs(a,u){if(et.call(this,a?a.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,a){var h=this.type=a.type,m=a.changedTouches&&a.changedTouches.length?a.changedTouches[0]:null;if(this.target=a.target||a.srcElement,this.g=u,u=a.relatedTarget){if(ve){e:{try{G(u.nodeName);var T=!0;break e}catch{}T=!1}T||(u=null)}}else h=="mouseover"?u=a.fromElement:h=="mouseout"&&(u=a.toElement);this.relatedTarget=u,m?(this.clientX=m.clientX!==void 0?m.clientX:m.pageX,this.clientY=m.clientY!==void 0?m.clientY:m.pageY,this.screenX=m.screenX||0,this.screenY=m.screenY||0):(this.clientX=a.clientX!==void 0?a.clientX:a.pageX,this.clientY=a.clientY!==void 0?a.clientY:a.pageY,this.screenX=a.screenX||0,this.screenY=a.screenY||0),this.button=a.button,this.key=a.key||"",this.ctrlKey=a.ctrlKey,this.altKey=a.altKey,this.shiftKey=a.shiftKey,this.metaKey=a.metaKey,this.pointerId=a.pointerId||0,this.pointerType=typeof a.pointerType=="string"?a.pointerType:kD[a.pointerType]||"",this.state=a.state,this.i=a,a.defaultPrevented&&Zs.aa.h.call(this)}}R(Zs,et);var kD={2:"touch",3:"pen",4:"mouse"};Zs.prototype.h=function(){Zs.aa.h.call(this);var a=this.i;a.preventDefault?a.preventDefault():a.returnValue=!1};var eo="closure_listenable_"+(1e6*Math.random()|0),OD=0;function FD(a,u,h,m,T){this.listener=a,this.proxy=null,this.src=u,this.type=h,this.capture=!!m,this.ha=T,this.key=++OD,this.da=this.fa=!1}function ac(a){a.da=!0,a.listener=null,a.proxy=null,a.src=null,a.ha=null}function cc(a){this.src=a,this.g={},this.h=0}cc.prototype.add=function(a,u,h,m,T){var C=a.toString();a=this.g[C],a||(a=this.g[C]=[],this.h++);var k=jd(a,u,m,T);return-1<k?(u=a[k],h||(u.fa=!1)):(u=new FD(u,this.src,C,!!m,T),u.fa=h,a.push(u)),u};function Bd(a,u){var h=u.type;if(h in a.g){var m=a.g[h],T=Array.prototype.indexOf.call(m,u,void 0),C;(C=0<=T)&&Array.prototype.splice.call(m,T,1),C&&(ac(u),a.g[h].length==0&&(delete a.g[h],a.h--))}}function jd(a,u,h,m){for(var T=0;T<a.length;++T){var C=a[T];if(!C.da&&C.listener==u&&C.capture==!!h&&C.ha==m)return T}return-1}var $d="closure_lm_"+(1e6*Math.random()|0),zd={};function Y_(a,u,h,m,T){if(m&&m.once)return X_(a,u,h,m,T);if(Array.isArray(u)){for(var C=0;C<u.length;C++)Y_(a,u[C],h,m,T);return null}return h=Wd(h),a&&a[eo]?a.K(u,h,d(m)?!!m.capture:!!m,T):Q_(a,u,h,!1,m,T)}function Q_(a,u,h,m,T,C){if(!u)throw Error("Invalid event type");var k=d(T)?!!T.capture:!!T,ge=qd(a);if(ge||(a[$d]=ge=new cc(a)),h=ge.add(u,h,m,k,C),h.proxy)return h;if(m=LD(),h.proxy=m,m.src=a,m.listener=h,a.addEventListener)ND||(T=k),T===void 0&&(T=!1),a.addEventListener(u.toString(),m,T);else if(a.attachEvent)a.attachEvent(Z_(u.toString()),m);else if(a.addListener&&a.removeListener)a.addListener(m);else throw Error("addEventListener and attachEvent are unavailable.");return h}function LD(){function a(h){return u.call(a.src,a.listener,h)}let u=VD;return a}function X_(a,u,h,m,T){if(Array.isArray(u)){for(var C=0;C<u.length;C++)X_(a,u[C],h,m,T);return null}return h=Wd(h),a&&a[eo]?a.L(u,h,d(m)?!!m.capture:!!m,T):Q_(a,u,h,!0,m,T)}function J_(a,u,h,m,T){if(Array.isArray(u))for(var C=0;C<u.length;C++)J_(a,u[C],h,m,T);else m=d(m)?!!m.capture:!!m,h=Wd(h),a&&a[eo]?(a=a.i,u=String(u).toString(),u in a.g&&(C=a.g[u],h=jd(C,h,m,T),-1<h&&(ac(C[h]),Array.prototype.splice.call(C,h,1),C.length==0&&(delete a.g[u],a.h--)))):a&&(a=qd(a))&&(u=a.g[u.toString()],a=-1,u&&(a=jd(u,h,m,T)),(h=-1<a?u[a]:null)&&Hd(h))}function Hd(a){if(typeof a!="number"&&a&&!a.da){var u=a.src;if(u&&u[eo])Bd(u.i,a);else{var h=a.type,m=a.proxy;u.removeEventListener?u.removeEventListener(h,m,a.capture):u.detachEvent?u.detachEvent(Z_(h),m):u.addListener&&u.removeListener&&u.removeListener(m),(h=qd(u))?(Bd(h,a),h.h==0&&(h.src=null,u[$d]=null)):ac(a)}}}function Z_(a){return a in zd?zd[a]:zd[a]="on"+a}function VD(a,u){if(a.da)a=!0;else{u=new Zs(u,this);var h=a.listener,m=a.ha||a.src;a.fa&&Hd(a),a=h.call(m,u)}return a}function qd(a){return a=a[$d],a instanceof cc?a:null}var Gd="__closure_events_fn_"+(1e9*Math.random()>>>0);function Wd(a){return typeof a=="function"?a:(a[Gd]||(a[Gd]=function(u){return a.handleEvent(u)}),a[Gd])}function tt(){rr.call(this),this.i=new cc(this),this.M=this,this.F=null}R(tt,rr),tt.prototype[eo]=!0,tt.prototype.removeEventListener=function(a,u,h,m){J_(this,a,u,h,m)};function lt(a,u){var h,m=a.F;if(m)for(h=[];m;m=m.F)h.push(m);if(a=a.M,m=u.type||u,typeof u=="string")u=new et(u,a);else if(u instanceof et)u.target=u.target||a;else{var T=u;u=new et(m,a),E(u,T)}if(T=!0,h)for(var C=h.length-1;0<=C;C--){var k=u.g=h[C];T=lc(k,m,!0,u)&&T}if(k=u.g=a,T=lc(k,m,!0,u)&&T,T=lc(k,m,!1,u)&&T,h)for(C=0;C<h.length;C++)k=u.g=h[C],T=lc(k,m,!1,u)&&T}tt.prototype.N=function(){if(tt.aa.N.call(this),this.i){var a=this.i,u;for(u in a.g){for(var h=a.g[u],m=0;m<h.length;m++)ac(h[m]);delete a.g[u],a.h--}}this.F=null},tt.prototype.K=function(a,u,h,m){return this.i.add(String(a),u,!1,h,m)},tt.prototype.L=function(a,u,h,m){return this.i.add(String(a),u,!0,h,m)};function lc(a,u,h,m){if(u=a.i.g[String(u)],!u)return!0;u=u.concat();for(var T=!0,C=0;C<u.length;++C){var k=u[C];if(k&&!k.da&&k.capture==h){var ge=k.listener,Ke=k.ha||k.src;k.fa&&Bd(a.i,k),T=ge.call(Ke,m)!==!1&&T}}return T&&!m.defaultPrevented}function ev(a,u,h){if(typeof a=="function")h&&(a=g(a,h));else if(a&&typeof a.handleEvent=="function")a=g(a.handleEvent,a);else throw Error("Invalid listener argument");return 2147483647<Number(u)?-1:c.setTimeout(a,u||0)}function tv(a){a.g=ev(()=>{a.g=null,a.i&&(a.i=!1,tv(a))},a.l);let u=a.h;a.h=null,a.m.apply(null,u)}class UD extends rr{constructor(u,h){super(),this.m=u,this.l=h,this.h=null,this.i=!1,this.g=null}j(u){this.h=arguments,this.g?this.i=!0:tv(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function to(a){rr.call(this),this.h=a,this.g={}}R(to,rr);var nv=[];function rv(a){re(a.g,function(u,h){this.g.hasOwnProperty(h)&&Hd(u)},a),a.g={}}to.prototype.N=function(){to.aa.N.call(this),rv(this)},to.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Kd=c.JSON.stringify,BD=c.JSON.parse,jD=class{stringify(a){return c.JSON.stringify(a,void 0)}parse(a){return c.JSON.parse(a,void 0)}};function Yd(){}Yd.prototype.h=null;function iv(a){return a.h||(a.h=a.i())}function sv(){}var no={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Qd(){et.call(this,"d")}R(Qd,et);function Xd(){et.call(this,"c")}R(Xd,et);var zr={},ov=null;function uc(){return ov=ov||new tt}zr.La="serverreachability";function av(a){et.call(this,zr.La,a)}R(av,et);function ro(a){let u=uc();lt(u,new av(u))}zr.STAT_EVENT="statevent";function cv(a,u){et.call(this,zr.STAT_EVENT,a),this.stat=u}R(cv,et);function ut(a){let u=uc();lt(u,new cv(u,a))}zr.Ma="timingevent";function lv(a,u){et.call(this,zr.Ma,a),this.size=u}R(lv,et);function io(a,u){if(typeof a!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){a()},u)}function so(){this.g=!0}so.prototype.xa=function(){this.g=!1};function $D(a,u,h,m,T,C){a.info(function(){if(a.g)if(C)for(var k="",ge=C.split("&"),Ke=0;Ke<ge.length;Ke++){var le=ge[Ke].split("=");if(1<le.length){var nt=le[0];le=le[1];var rt=nt.split("_");k=2<=rt.length&&rt[1]=="type"?k+(nt+"="+le+"&"):k+(nt+"=redacted&")}}else k=null;else k=C;return"XMLHTTP REQ ("+m+") [attempt "+T+"]: "+u+`
`+h+`
`+k})}function zD(a,u,h,m,T,C,k){a.info(function(){return"XMLHTTP RESP ("+m+") [ attempt "+T+"]: "+u+`
`+h+`
`+C+" "+k})}function Mi(a,u,h,m){a.info(function(){return"XMLHTTP TEXT ("+u+"): "+qD(a,h)+(m?" "+m:"")})}function HD(a,u){a.info(function(){return"TIMEOUT: "+u})}so.prototype.info=function(){};function qD(a,u){if(!a.g)return u;if(!u)return null;try{var h=JSON.parse(u);if(h){for(a=0;a<h.length;a++)if(Array.isArray(h[a])){var m=h[a];if(!(2>m.length)){var T=m[1];if(Array.isArray(T)&&!(1>T.length)){var C=T[0];if(C!="noop"&&C!="stop"&&C!="close")for(var k=1;k<T.length;k++)T[k]=""}}}}return Kd(h)}catch{return u}}var dc={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},uv={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Jd;function hc(){}R(hc,Yd),hc.prototype.g=function(){return new XMLHttpRequest},hc.prototype.i=function(){return{}},Jd=new hc;function ir(a,u,h,m){this.j=a,this.i=u,this.l=h,this.R=m||1,this.U=new to(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new dv}function dv(){this.i=null,this.g="",this.h=!1}var hv={},Zd={};function eh(a,u,h){a.L=1,a.v=gc(Mn(u)),a.m=h,a.P=!0,fv(a,null)}function fv(a,u){a.F=Date.now(),fc(a),a.A=Mn(a.v);var h=a.A,m=a.R;Array.isArray(m)||(m=[String(m)]),Cv(h.i,"t",m),a.C=0,h=a.j.J,a.h=new dv,a.g=qv(a.j,h?u:null,!a.m),0<a.O&&(a.M=new UD(g(a.Y,a,a.g),a.O)),u=a.U,h=a.g,m=a.ca;var T="readystatechange";Array.isArray(T)||(T&&(nv[0]=T.toString()),T=nv);for(var C=0;C<T.length;C++){var k=Y_(h,T[C],m||u.handleEvent,!1,u.h||u);if(!k)break;u.g[k.key]=k}u=a.H?_(a.H):{},a.m?(a.u||(a.u="POST"),u["Content-Type"]="application/x-www-form-urlencoded",a.g.ea(a.A,a.u,a.m,u)):(a.u="GET",a.g.ea(a.A,a.u,null,u)),ro(),$D(a.i,a.u,a.A,a.l,a.R,a.m)}ir.prototype.ca=function(a){a=a.target;let u=this.M;u&&Nn(a)==3?u.j():this.Y(a)},ir.prototype.Y=function(a){try{if(a==this.g)e:{let rt=Nn(this.g);var u=this.g.Ba();let Oi=this.g.Z();if(!(3>rt)&&(rt!=3||this.g&&(this.h.h||this.g.oa()||kv(this.g)))){this.J||rt!=4||u==7||(u==8||0>=Oi?ro(3):ro(2)),th(this);var h=this.g.Z();this.X=h;t:if(mv(this)){var m=kv(this.g);a="";var T=m.length,C=Nn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Hr(this),oo(this);var k="";break t}this.h.i=new c.TextDecoder}for(u=0;u<T;u++)this.h.h=!0,a+=this.h.i.decode(m[u],{stream:!(C&&u==T-1)});m.length=0,this.h.g+=a,this.C=0,k=this.h.g}else k=this.g.oa();if(this.o=h==200,zD(this.i,this.u,this.A,this.l,this.R,rt,h),this.o){if(this.T&&!this.K){t:{if(this.g){var ge,Ke=this.g;if((ge=Ke.g?Ke.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!U(ge)){var le=ge;break t}}le=null}if(h=le)Mi(this.i,this.l,h,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,nh(this,h);else{this.o=!1,this.s=3,ut(12),Hr(this),oo(this);break e}}if(this.P){h=!0;let Gt;for(;!this.J&&this.C<k.length;)if(Gt=GD(this,k),Gt==Zd){rt==4&&(this.s=4,ut(14),h=!1),Mi(this.i,this.l,null,"[Incomplete Response]");break}else if(Gt==hv){this.s=4,ut(15),Mi(this.i,this.l,k,"[Invalid Chunk]"),h=!1;break}else Mi(this.i,this.l,Gt,null),nh(this,Gt);if(mv(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),rt!=4||k.length!=0||this.h.h||(this.s=1,ut(16),h=!1),this.o=this.o&&h,!h)Mi(this.i,this.l,k,"[Invalid Chunked Response]"),Hr(this),oo(this);else if(0<k.length&&!this.W){this.W=!0;var nt=this.j;nt.g==this&&nt.ba&&!nt.M&&(nt.j.info("Great, no buffering proxy detected. Bytes received: "+k.length),ch(nt),nt.M=!0,ut(11))}}else Mi(this.i,this.l,k,null),nh(this,k);rt==4&&Hr(this),this.o&&!this.J&&(rt==4?jv(this.j,this):(this.o=!1,fc(this)))}else lC(this.g),h==400&&0<k.indexOf("Unknown SID")?(this.s=3,ut(12)):(this.s=0,ut(13)),Hr(this),oo(this)}}}catch{}finally{}};function mv(a){return a.g?a.u=="GET"&&a.L!=2&&a.j.Ca:!1}function GD(a,u){var h=a.C,m=u.indexOf(`
`,h);return m==-1?Zd:(h=Number(u.substring(h,m)),isNaN(h)?hv:(m+=1,m+h>u.length?Zd:(u=u.slice(m,m+h),a.C=m+h,u)))}ir.prototype.cancel=function(){this.J=!0,Hr(this)};function fc(a){a.S=Date.now()+a.I,pv(a,a.I)}function pv(a,u){if(a.B!=null)throw Error("WatchDog timer not null");a.B=io(g(a.ba,a),u)}function th(a){a.B&&(c.clearTimeout(a.B),a.B=null)}ir.prototype.ba=function(){this.B=null;let a=Date.now();0<=a-this.S?(HD(this.i,this.A),this.L!=2&&(ro(),ut(17)),Hr(this),this.s=2,oo(this)):pv(this,this.S-a)};function oo(a){a.j.G==0||a.J||jv(a.j,a)}function Hr(a){th(a);var u=a.M;u&&typeof u.ma=="function"&&u.ma(),a.M=null,rv(a.U),a.g&&(u=a.g,a.g=null,u.abort(),u.ma())}function nh(a,u){try{var h=a.j;if(h.G!=0&&(h.g==a||rh(h.h,a))){if(!a.K&&rh(h.h,a)&&h.G==3){try{var m=h.Da.g.parse(u)}catch{m=null}if(Array.isArray(m)&&m.length==3){var T=m;if(T[0]==0){e:if(!h.u){if(h.g)if(h.g.F+3e3<a.F)Ec(h),yc(h);else break e;ah(h),ut(18)}}else h.za=T[1],0<h.za-h.T&&37500>T[2]&&h.F&&h.v==0&&!h.C&&(h.C=io(g(h.Za,h),6e3));if(1>=vv(h.h)&&h.ca){try{h.ca()}catch{}h.ca=void 0}}else Gr(h,11)}else if((a.K||h.g==a)&&Ec(h),!U(u))for(T=h.Da.g.parse(u),u=0;u<T.length;u++){let le=T[u];if(h.T=le[0],le=le[1],h.G==2)if(le[0]=="c"){h.K=le[1],h.ia=le[2];let nt=le[3];nt!=null&&(h.la=nt,h.j.info("VER="+h.la));let rt=le[4];rt!=null&&(h.Aa=rt,h.j.info("SVER="+h.Aa));let Oi=le[5];Oi!=null&&typeof Oi=="number"&&0<Oi&&(m=1.5*Oi,h.L=m,h.j.info("backChannelRequestTimeoutMs_="+m)),m=h;let Gt=a.g;if(Gt){let Ic=Gt.g?Gt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ic){var C=m.h;C.g||Ic.indexOf("spdy")==-1&&Ic.indexOf("quic")==-1&&Ic.indexOf("h2")==-1||(C.j=C.l,C.g=new Set,C.h&&(ih(C,C.h),C.h=null))}if(m.D){let lh=Gt.g?Gt.g.getResponseHeader("X-HTTP-Session-Id"):null;lh&&(m.ya=lh,be(m.I,m.D,lh))}}h.G=3,h.l&&h.l.ua(),h.ba&&(h.R=Date.now()-a.F,h.j.info("Handshake RTT: "+h.R+"ms")),m=h;var k=a;if(m.qa=Hv(m,m.J?m.ia:null,m.W),k.K){yv(m.h,k);var ge=k,Ke=m.L;Ke&&(ge.I=Ke),ge.B&&(th(ge),fc(ge)),m.g=k}else Uv(m);0<h.i.length&&bc(h)}else le[0]!="stop"&&le[0]!="close"||Gr(h,7);else h.G==3&&(le[0]=="stop"||le[0]=="close"?le[0]=="stop"?Gr(h,7):oh(h):le[0]!="noop"&&h.l&&h.l.ta(le),h.v=0)}}ro(4)}catch{}}var WD=class{constructor(a,u){this.g=a,this.map=u}};function gv(a){this.l=a||10,c.PerformanceNavigationTiming?(a=c.performance.getEntriesByType("navigation"),a=0<a.length&&(a[0].nextHopProtocol=="hq"||a[0].nextHopProtocol=="h2")):a=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=a?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function _v(a){return a.h?!0:a.g?a.g.size>=a.j:!1}function vv(a){return a.h?1:a.g?a.g.size:0}function rh(a,u){return a.h?a.h==u:a.g?a.g.has(u):!1}function ih(a,u){a.g?a.g.add(u):a.h=u}function yv(a,u){a.h&&a.h==u?a.h=null:a.g&&a.g.has(u)&&a.g.delete(u)}gv.prototype.cancel=function(){if(this.i=bv(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let a of this.g.values())a.cancel();this.g.clear()}};function bv(a){if(a.h!=null)return a.i.concat(a.h.D);if(a.g!=null&&a.g.size!==0){let u=a.i;for(let h of a.g.values())u=u.concat(h.D);return u}return M(a.i)}function KD(a){if(a.V&&typeof a.V=="function")return a.V();if(typeof Map<"u"&&a instanceof Map||typeof Set<"u"&&a instanceof Set)return Array.from(a.values());if(typeof a=="string")return a.split("");if(l(a)){for(var u=[],h=a.length,m=0;m<h;m++)u.push(a[m]);return u}u=[],h=0;for(m in a)u[h++]=a[m];return u}function YD(a){if(a.na&&typeof a.na=="function")return a.na();if(!a.V||typeof a.V!="function"){if(typeof Map<"u"&&a instanceof Map)return Array.from(a.keys());if(!(typeof Set<"u"&&a instanceof Set)){if(l(a)||typeof a=="string"){var u=[];a=a.length;for(var h=0;h<a;h++)u.push(h);return u}u=[],h=0;for(let m in a)u[h++]=m;return u}}}function Ev(a,u){if(a.forEach&&typeof a.forEach=="function")a.forEach(u,void 0);else if(l(a)||typeof a=="string")Array.prototype.forEach.call(a,u,void 0);else for(var h=YD(a),m=KD(a),T=m.length,C=0;C<T;C++)u.call(void 0,m[C],h&&h[C],a)}var wv=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function QD(a,u){if(a){a=a.split("&");for(var h=0;h<a.length;h++){var m=a[h].indexOf("="),T=null;if(0<=m){var C=a[h].substring(0,m);T=a[h].substring(m+1)}else C=a[h];u(C,T?decodeURIComponent(T.replace(/\+/g," ")):"")}}}function qr(a){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,a instanceof qr){this.h=a.h,mc(this,a.j),this.o=a.o,this.g=a.g,pc(this,a.s),this.l=a.l;var u=a.i,h=new lo;h.i=u.i,u.g&&(h.g=new Map(u.g),h.h=u.h),Iv(this,h),this.m=a.m}else a&&(u=String(a).match(wv))?(this.h=!1,mc(this,u[1]||"",!0),this.o=ao(u[2]||""),this.g=ao(u[3]||"",!0),pc(this,u[4]),this.l=ao(u[5]||"",!0),Iv(this,u[6]||"",!0),this.m=ao(u[7]||"")):(this.h=!1,this.i=new lo(null,this.h))}qr.prototype.toString=function(){var a=[],u=this.j;u&&a.push(co(u,Tv,!0),":");var h=this.g;return(h||u=="file")&&(a.push("//"),(u=this.o)&&a.push(co(u,Tv,!0),"@"),a.push(encodeURIComponent(String(h)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h=this.s,h!=null&&a.push(":",String(h))),(h=this.l)&&(this.g&&h.charAt(0)!="/"&&a.push("/"),a.push(co(h,h.charAt(0)=="/"?ZD:JD,!0))),(h=this.i.toString())&&a.push("?",h),(h=this.m)&&a.push("#",co(h,tC)),a.join("")};function Mn(a){return new qr(a)}function mc(a,u,h){a.j=h?ao(u,!0):u,a.j&&(a.j=a.j.replace(/:$/,""))}function pc(a,u){if(u){if(u=Number(u),isNaN(u)||0>u)throw Error("Bad port number "+u);a.s=u}else a.s=null}function Iv(a,u,h){u instanceof lo?(a.i=u,nC(a.i,a.h)):(h||(u=co(u,eC)),a.i=new lo(u,a.h))}function be(a,u,h){a.i.set(u,h)}function gc(a){return be(a,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),a}function ao(a,u){return a?u?decodeURI(a.replace(/%25/g,"%2525")):decodeURIComponent(a):""}function co(a,u,h){return typeof a=="string"?(a=encodeURI(a).replace(u,XD),h&&(a=a.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),a):null}function XD(a){return a=a.charCodeAt(0),"%"+(a>>4&15).toString(16)+(a&15).toString(16)}var Tv=/[#\/\?@]/g,JD=/[#\?:]/g,ZD=/[#\?]/g,eC=/[#\?@]/g,tC=/#/g;function lo(a,u){this.h=this.g=null,this.i=a||null,this.j=!!u}function sr(a){a.g||(a.g=new Map,a.h=0,a.i&&QD(a.i,function(u,h){a.add(decodeURIComponent(u.replace(/\+/g," ")),h)}))}n=lo.prototype,n.add=function(a,u){sr(this),this.i=null,a=Ni(this,a);var h=this.g.get(a);return h||this.g.set(a,h=[]),h.push(u),this.h+=1,this};function Av(a,u){sr(a),u=Ni(a,u),a.g.has(u)&&(a.i=null,a.h-=a.g.get(u).length,a.g.delete(u))}function Dv(a,u){return sr(a),u=Ni(a,u),a.g.has(u)}n.forEach=function(a,u){sr(this),this.g.forEach(function(h,m){h.forEach(function(T){a.call(u,T,m,this)},this)},this)},n.na=function(){sr(this);let a=Array.from(this.g.values()),u=Array.from(this.g.keys()),h=[];for(let m=0;m<u.length;m++){let T=a[m];for(let C=0;C<T.length;C++)h.push(u[m])}return h},n.V=function(a){sr(this);let u=[];if(typeof a=="string")Dv(this,a)&&(u=u.concat(this.g.get(Ni(this,a))));else{a=Array.from(this.g.values());for(let h=0;h<a.length;h++)u=u.concat(a[h])}return u},n.set=function(a,u){return sr(this),this.i=null,a=Ni(this,a),Dv(this,a)&&(this.h-=this.g.get(a).length),this.g.set(a,[u]),this.h+=1,this},n.get=function(a,u){return a?(a=this.V(a),0<a.length?String(a[0]):u):u};function Cv(a,u,h){Av(a,u),0<h.length&&(a.i=null,a.g.set(Ni(a,u),M(h)),a.h+=h.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";let a=[],u=Array.from(this.g.keys());for(var h=0;h<u.length;h++){var m=u[h];let C=encodeURIComponent(String(m)),k=this.V(m);for(m=0;m<k.length;m++){var T=C;k[m]!==""&&(T+="="+encodeURIComponent(String(k[m]))),a.push(T)}}return this.i=a.join("&")};function Ni(a,u){return u=String(u),a.j&&(u=u.toLowerCase()),u}function nC(a,u){u&&!a.j&&(sr(a),a.i=null,a.g.forEach(function(h,m){var T=m.toLowerCase();m!=T&&(Av(this,m),Cv(this,T,h))},a)),a.j=u}function rC(a,u){let h=new so;if(c.Image){let m=new Image;m.onload=A(or,h,"TestLoadImage: loaded",!0,u,m),m.onerror=A(or,h,"TestLoadImage: error",!1,u,m),m.onabort=A(or,h,"TestLoadImage: abort",!1,u,m),m.ontimeout=A(or,h,"TestLoadImage: timeout",!1,u,m),c.setTimeout(function(){m.ontimeout&&m.ontimeout()},1e4),m.src=a}else u(!1)}function iC(a,u){let h=new so,m=new AbortController,T=setTimeout(()=>{m.abort(),or(h,"TestPingServer: timeout",!1,u)},1e4);fetch(a,{signal:m.signal}).then(C=>{clearTimeout(T),C.ok?or(h,"TestPingServer: ok",!0,u):or(h,"TestPingServer: server error",!1,u)}).catch(()=>{clearTimeout(T),or(h,"TestPingServer: error",!1,u)})}function or(a,u,h,m,T){try{T&&(T.onload=null,T.onerror=null,T.onabort=null,T.ontimeout=null),m(h)}catch{}}function sC(){this.g=new jD}function oC(a,u,h){let m=h||"";try{Ev(a,function(T,C){let k=T;d(T)&&(k=Kd(T)),u.push(m+C+"="+encodeURIComponent(k))})}catch(T){throw u.push(m+"type="+encodeURIComponent("_badmap")),T}}function uo(a){this.l=a.Ub||null,this.j=a.eb||!1}R(uo,Yd),uo.prototype.g=function(){return new _c(this.l,this.j)},uo.prototype.i=(function(a){return function(){return a}})({});function _c(a,u){tt.call(this),this.D=a,this.o=u,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}R(_c,tt),n=_c.prototype,n.open=function(a,u){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=a,this.A=u,this.readyState=1,fo(this)},n.send=function(a){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let u={headers:this.u,method:this.B,credentials:this.m,cache:void 0};a&&(u.body=a),(this.D||c).fetch(new Request(this.A,u)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ho(this)),this.readyState=0},n.Sa=function(a){if(this.g&&(this.l=a,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=a.headers,this.readyState=2,fo(this)),this.g&&(this.readyState=3,fo(this),this.g)))if(this.responseType==="arraybuffer")a.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in a){if(this.j=a.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Sv(this)}else a.text().then(this.Ra.bind(this),this.ga.bind(this))};function Sv(a){a.j.read().then(a.Pa.bind(a)).catch(a.ga.bind(a))}n.Pa=function(a){if(this.g){if(this.o&&a.value)this.response.push(a.value);else if(!this.o){var u=a.value?a.value:new Uint8Array(0);(u=this.v.decode(u,{stream:!a.done}))&&(this.response=this.responseText+=u)}a.done?ho(this):fo(this),this.readyState==3&&Sv(this)}},n.Ra=function(a){this.g&&(this.response=this.responseText=a,ho(this))},n.Qa=function(a){this.g&&(this.response=a,ho(this))},n.ga=function(){this.g&&ho(this)};function ho(a){a.readyState=4,a.l=null,a.j=null,a.v=null,fo(a)}n.setRequestHeader=function(a,u){this.u.append(a,u)},n.getResponseHeader=function(a){return this.h&&this.h.get(a.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";let a=[],u=this.h.entries();for(var h=u.next();!h.done;)h=h.value,a.push(h[0]+": "+h[1]),h=u.next();return a.join(`\r
`)};function fo(a){a.onreadystatechange&&a.onreadystatechange.call(a)}Object.defineProperty(_c.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(a){this.m=a?"include":"same-origin"}});function Rv(a){let u="";return re(a,function(h,m){u+=m,u+=":",u+=h,u+=`\r
`}),u}function sh(a,u,h){e:{for(m in h){var m=!1;break e}m=!0}m||(h=Rv(h),typeof a=="string"?h!=null&&encodeURIComponent(String(h)):be(a,u,h))}function Ae(a){tt.call(this),this.headers=new Map,this.o=a||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}R(Ae,tt);var aC=/^https?$/i,cC=["POST","PUT"];n=Ae.prototype,n.Ha=function(a){this.J=a},n.ea=function(a,u,h,m){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+a);u=u?u.toUpperCase():"GET",this.D=a,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Jd.g(),this.v=this.o?iv(this.o):iv(Jd),this.g.onreadystatechange=g(this.Ea,this);try{this.B=!0,this.g.open(u,String(a),!0),this.B=!1}catch(C){xv(this,C);return}if(a=h||"",h=new Map(this.headers),m)if(Object.getPrototypeOf(m)===Object.prototype)for(var T in m)h.set(T,m[T]);else if(typeof m.keys=="function"&&typeof m.get=="function")for(let C of m.keys())h.set(C,m.get(C));else throw Error("Unknown input type for opt_headers: "+String(m));m=Array.from(h.keys()).find(C=>C.toLowerCase()=="content-type"),T=c.FormData&&a instanceof c.FormData,!(0<=Array.prototype.indexOf.call(cC,u,void 0))||m||T||h.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[C,k]of h)this.g.setRequestHeader(C,k);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Nv(this),this.u=!0,this.g.send(a),this.u=!1}catch(C){xv(this,C)}};function xv(a,u){a.h=!1,a.g&&(a.j=!0,a.g.abort(),a.j=!1),a.l=u,a.m=5,Pv(a),vc(a)}function Pv(a){a.A||(a.A=!0,lt(a,"complete"),lt(a,"error"))}n.abort=function(a){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=a||7,lt(this,"complete"),lt(this,"abort"),vc(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),vc(this,!0)),Ae.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?Mv(this):this.bb())},n.bb=function(){Mv(this)};function Mv(a){if(a.h&&typeof o<"u"&&(!a.v[1]||Nn(a)!=4||a.Z()!=2)){if(a.u&&Nn(a)==4)ev(a.Ea,0,a);else if(lt(a,"readystatechange"),Nn(a)==4){a.h=!1;try{let k=a.Z();e:switch(k){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var u=!0;break e;default:u=!1}var h;if(!(h=u)){var m;if(m=k===0){var T=String(a.D).match(wv)[1]||null;!T&&c.self&&c.self.location&&(T=c.self.location.protocol.slice(0,-1)),m=!aC.test(T?T.toLowerCase():"")}h=m}if(h)lt(a,"complete"),lt(a,"success");else{a.m=6;try{var C=2<Nn(a)?a.g.statusText:""}catch{C=""}a.l=C+" ["+a.Z()+"]",Pv(a)}}finally{vc(a)}}}}function vc(a,u){if(a.g){Nv(a);let h=a.g,m=a.v[0]?()=>{}:null;a.g=null,a.v=null,u||lt(a,"ready");try{h.onreadystatechange=m}catch{}}}function Nv(a){a.I&&(c.clearTimeout(a.I),a.I=null)}n.isActive=function(){return!!this.g};function Nn(a){return a.g?a.g.readyState:0}n.Z=function(){try{return 2<Nn(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(a){if(this.g){var u=this.g.responseText;return a&&u.indexOf(a)==0&&(u=u.substring(a.length)),BD(u)}};function kv(a){try{if(!a.g)return null;if("response"in a.g)return a.g.response;switch(a.H){case"":case"text":return a.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in a.g)return a.g.mozResponseArrayBuffer}return null}catch{return null}}function lC(a){let u={};a=(a.g&&2<=Nn(a)&&a.g.getAllResponseHeaders()||"").split(`\r
`);for(let m=0;m<a.length;m++){if(U(a[m]))continue;var h=I(a[m]);let T=h[0];if(h=h[1],typeof h!="string")continue;h=h.trim();let C=u[T]||[];u[T]=C,C.push(h)}w(u,function(m){return m.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function mo(a,u,h){return h&&h.internalChannelParams&&h.internalChannelParams[a]||u}function Ov(a){this.Aa=0,this.i=[],this.j=new so,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=mo("failFast",!1,a),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=mo("baseRetryDelayMs",5e3,a),this.cb=mo("retryDelaySeedMs",1e4,a),this.Wa=mo("forwardChannelMaxRetries",2,a),this.wa=mo("forwardChannelRequestTimeoutMs",2e4,a),this.pa=a&&a.xmlHttpFactory||void 0,this.Xa=a&&a.Tb||void 0,this.Ca=a&&a.useFetchStreams||!1,this.L=void 0,this.J=a&&a.supportsCrossDomainXhr||!1,this.K="",this.h=new gv(a&&a.concurrentRequestLimit),this.Da=new sC,this.P=a&&a.fastHandshake||!1,this.O=a&&a.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=a&&a.Rb||!1,a&&a.xa&&this.j.xa(),a&&a.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&a&&a.detectBufferingProxy||!1,this.ja=void 0,a&&a.longPollingTimeout&&0<a.longPollingTimeout&&(this.ja=a.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=Ov.prototype,n.la=8,n.G=1,n.connect=function(a,u,h,m){ut(0),this.W=a,this.H=u||{},h&&m!==void 0&&(this.H.OSID=h,this.H.OAID=m),this.F=this.X,this.I=Hv(this,null,this.W),bc(this)};function oh(a){if(Fv(a),a.G==3){var u=a.U++,h=Mn(a.I);if(be(h,"SID",a.K),be(h,"RID",u),be(h,"TYPE","terminate"),po(a,h),u=new ir(a,a.j,u),u.L=2,u.v=gc(Mn(h)),h=!1,c.navigator&&c.navigator.sendBeacon)try{h=c.navigator.sendBeacon(u.v.toString(),"")}catch{}!h&&c.Image&&(new Image().src=u.v,h=!0),h||(u.g=qv(u.j,null),u.g.ea(u.v)),u.F=Date.now(),fc(u)}zv(a)}function yc(a){a.g&&(ch(a),a.g.cancel(),a.g=null)}function Fv(a){yc(a),a.u&&(c.clearTimeout(a.u),a.u=null),Ec(a),a.h.cancel(),a.s&&(typeof a.s=="number"&&c.clearTimeout(a.s),a.s=null)}function bc(a){if(!_v(a.h)&&!a.s){a.s=!0;var u=a.Ga;Xs||K_(),Js||(Xs(),Js=!0),Ud.add(u,a),a.B=0}}function uC(a,u){return vv(a.h)>=a.h.j-(a.s?1:0)?!1:a.s?(a.i=u.D.concat(a.i),!0):a.G==1||a.G==2||a.B>=(a.Va?0:a.Wa)?!1:(a.s=io(g(a.Ga,a,u),$v(a,a.B)),a.B++,!0)}n.Ga=function(a){if(this.s)if(this.s=null,this.G==1){if(!a){this.U=Math.floor(1e5*Math.random()),a=this.U++;let T=new ir(this,this.j,a),C=this.o;if(this.S&&(C?(C=_(C),E(C,this.S)):C=this.S),this.m!==null||this.O||(T.H=C,C=null),this.P)e:{for(var u=0,h=0;h<this.i.length;h++){t:{var m=this.i[h];if("__data__"in m.map&&(m=m.map.__data__,typeof m=="string")){m=m.length;break t}m=void 0}if(m===void 0)break;if(u+=m,4096<u){u=h;break e}if(u===4096||h===this.i.length-1){u=h+1;break e}}u=1e3}else u=1e3;u=Vv(this,T,u),h=Mn(this.I),be(h,"RID",a),be(h,"CVER",22),this.D&&be(h,"X-HTTP-Session-Id",this.D),po(this,h),C&&(this.O?u="headers="+encodeURIComponent(String(Rv(C)))+"&"+u:this.m&&sh(h,this.m,C)),ih(this.h,T),this.Ua&&be(h,"TYPE","init"),this.P?(be(h,"$req",u),be(h,"SID","null"),T.T=!0,eh(T,h,null)):eh(T,h,u),this.G=2}}else this.G==3&&(a?Lv(this,a):this.i.length==0||_v(this.h)||Lv(this))};function Lv(a,u){var h;u?h=u.l:h=a.U++;let m=Mn(a.I);be(m,"SID",a.K),be(m,"RID",h),be(m,"AID",a.T),po(a,m),a.m&&a.o&&sh(m,a.m,a.o),h=new ir(a,a.j,h,a.B+1),a.m===null&&(h.H=a.o),u&&(a.i=u.D.concat(a.i)),u=Vv(a,h,1e3),h.I=Math.round(.5*a.wa)+Math.round(.5*a.wa*Math.random()),ih(a.h,h),eh(h,m,u)}function po(a,u){a.H&&re(a.H,function(h,m){be(u,m,h)}),a.l&&Ev({},function(h,m){be(u,m,h)})}function Vv(a,u,h){h=Math.min(a.i.length,h);var m=a.l?g(a.l.Na,a.l,a):null;e:{var T=a.i;let C=-1;for(;;){let k=["count="+h];C==-1?0<h?(C=T[0].g,k.push("ofs="+C)):C=0:k.push("ofs="+C);let ge=!0;for(let Ke=0;Ke<h;Ke++){let le=T[Ke].g,nt=T[Ke].map;if(le-=C,0>le)C=Math.max(0,T[Ke].g-100),ge=!1;else try{oC(nt,k,"req"+le+"_")}catch{m&&m(nt)}}if(ge){m=k.join("&");break e}}}return a=a.i.splice(0,h),u.D=a,m}function Uv(a){if(!a.g&&!a.u){a.Y=1;var u=a.Fa;Xs||K_(),Js||(Xs(),Js=!0),Ud.add(u,a),a.v=0}}function ah(a){return a.g||a.u||3<=a.v?!1:(a.Y++,a.u=io(g(a.Fa,a),$v(a,a.v)),a.v++,!0)}n.Fa=function(){if(this.u=null,Bv(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var a=2*this.R;this.j.info("BP detection timer enabled: "+a),this.A=io(g(this.ab,this),a)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ut(10),yc(this),Bv(this))};function ch(a){a.A!=null&&(c.clearTimeout(a.A),a.A=null)}function Bv(a){a.g=new ir(a,a.j,"rpc",a.Y),a.m===null&&(a.g.H=a.o),a.g.O=0;var u=Mn(a.qa);be(u,"RID","rpc"),be(u,"SID",a.K),be(u,"AID",a.T),be(u,"CI",a.F?"0":"1"),!a.F&&a.ja&&be(u,"TO",a.ja),be(u,"TYPE","xmlhttp"),po(a,u),a.m&&a.o&&sh(u,a.m,a.o),a.L&&(a.g.I=a.L);var h=a.g;a=a.ia,h.L=1,h.v=gc(Mn(u)),h.m=null,h.P=!0,fv(h,a)}n.Za=function(){this.C!=null&&(this.C=null,yc(this),ah(this),ut(19))};function Ec(a){a.C!=null&&(c.clearTimeout(a.C),a.C=null)}function jv(a,u){var h=null;if(a.g==u){Ec(a),ch(a),a.g=null;var m=2}else if(rh(a.h,u))h=u.D,yv(a.h,u),m=1;else return;if(a.G!=0){if(u.o)if(m==1){h=u.m?u.m.length:0,u=Date.now()-u.F;var T=a.B;m=uc(),lt(m,new lv(m,h)),bc(a)}else Uv(a);else if(T=u.s,T==3||T==0&&0<u.X||!(m==1&&uC(a,u)||m==2&&ah(a)))switch(h&&0<h.length&&(u=a.h,u.i=u.i.concat(h)),T){case 1:Gr(a,5);break;case 4:Gr(a,10);break;case 3:Gr(a,6);break;default:Gr(a,2)}}}function $v(a,u){let h=a.Ta+Math.floor(Math.random()*a.cb);return a.isActive()||(h*=2),h*u}function Gr(a,u){if(a.j.info("Error code "+u),u==2){var h=g(a.fb,a),m=a.Xa;let T=!m;m=new qr(m||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||mc(m,"https"),gc(m),T?rC(m.toString(),h):iC(m.toString(),h)}else ut(2);a.G=0,a.l&&a.l.sa(u),zv(a),Fv(a)}n.fb=function(a){a?(this.j.info("Successfully pinged google.com"),ut(2)):(this.j.info("Failed to ping google.com"),ut(1))};function zv(a){if(a.G=0,a.ka=[],a.l){let u=bv(a.h);(u.length!=0||a.i.length!=0)&&(S(a.ka,u),S(a.ka,a.i),a.h.i.length=0,M(a.i),a.i.length=0),a.l.ra()}}function Hv(a,u,h){var m=h instanceof qr?Mn(h):new qr(h);if(m.g!="")u&&(m.g=u+"."+m.g),pc(m,m.s);else{var T=c.location;m=T.protocol,u=u?u+"."+T.hostname:T.hostname,T=+T.port;var C=new qr(null);m&&mc(C,m),u&&(C.g=u),T&&pc(C,T),h&&(C.l=h),m=C}return h=a.D,u=a.ya,h&&u&&be(m,h,u),be(m,"VER",a.la),po(a,m),m}function qv(a,u,h){if(u&&!a.J)throw Error("Can't create secondary domain capable XhrIo object.");return u=a.Ca&&!a.pa?new Ae(new uo({eb:h})):new Ae(a.pa),u.Ha(a.J),u}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Gv(){}n=Gv.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function wc(){}wc.prototype.g=function(a,u){return new St(a,u)};function St(a,u){tt.call(this),this.g=new Ov(u),this.l=a,this.h=u&&u.messageUrlParams||null,a=u&&u.messageHeaders||null,u&&u.clientProtocolHeaderRequired&&(a?a["X-Client-Protocol"]="webchannel":a={"X-Client-Protocol":"webchannel"}),this.g.o=a,a=u&&u.initMessageHeaders||null,u&&u.messageContentType&&(a?a["X-WebChannel-Content-Type"]=u.messageContentType:a={"X-WebChannel-Content-Type":u.messageContentType}),u&&u.va&&(a?a["X-WebChannel-Client-Profile"]=u.va:a={"X-WebChannel-Client-Profile":u.va}),this.g.S=a,(a=u&&u.Sb)&&!U(a)&&(this.g.m=a),this.v=u&&u.supportsCrossDomainXhr||!1,this.u=u&&u.sendRawJson||!1,(u=u&&u.httpSessionIdParam)&&!U(u)&&(this.g.D=u,a=this.h,a!==null&&u in a&&(a=this.h,u in a&&delete a[u])),this.j=new ki(this)}R(St,tt),St.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},St.prototype.close=function(){oh(this.g)},St.prototype.o=function(a){var u=this.g;if(typeof a=="string"){var h={};h.__data__=a,a=h}else this.u&&(h={},h.__data__=Kd(a),a=h);u.i.push(new WD(u.Ya++,a)),u.G==3&&bc(u)},St.prototype.N=function(){this.g.l=null,delete this.j,oh(this.g),delete this.g,St.aa.N.call(this)};function Wv(a){Qd.call(this),a.__headers__&&(this.headers=a.__headers__,this.statusCode=a.__status__,delete a.__headers__,delete a.__status__);var u=a.__sm__;if(u){e:{for(let h in u){a=h;break e}a=void 0}(this.i=a)&&(a=this.i,u=u!==null&&a in u?u[a]:void 0),this.data=u}else this.data=a}R(Wv,Qd);function Kv(){Xd.call(this),this.status=1}R(Kv,Xd);function ki(a){this.g=a}R(ki,Gv),ki.prototype.ua=function(){lt(this.g,"a")},ki.prototype.ta=function(a){lt(this.g,new Wv(a))},ki.prototype.sa=function(a){lt(this.g,new Kv)},ki.prototype.ra=function(){lt(this.g,"b")},wc.prototype.createWebChannel=wc.prototype.g,St.prototype.send=St.prototype.o,St.prototype.open=St.prototype.m,St.prototype.close=St.prototype.close,xp=Qn.createWebChannelTransport=function(){return new wc},Rp=Qn.getStatEventTarget=function(){return uc()},Sp=Qn.Event=zr,ju=Qn.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},dc.NO_ERROR=0,dc.TIMEOUT=8,dc.HTTP_ERROR=6,Ua=Qn.ErrorCode=dc,uv.COMPLETE="complete",Cp=Qn.EventType=uv,sv.EventType=no,no.OPEN="a",no.CLOSE="b",no.ERROR="c",no.MESSAGE="d",tt.prototype.listen=tt.prototype.K,Is=Qn.WebChannel=sv,nF=Qn.FetchXmlHttpFactory=uo,Ae.prototype.listenOnce=Ae.prototype.L,Ae.prototype.getLastError=Ae.prototype.Ka,Ae.prototype.getLastErrorCode=Ae.prototype.Ba,Ae.prototype.getStatus=Ae.prototype.Z,Ae.prototype.getResponseJson=Ae.prototype.Oa,Ae.prototype.getResponseText=Ae.prototype.oa,Ae.prototype.send=Ae.prototype.ea,Ae.prototype.setWithCredentials=Ae.prototype.Ha,Dp=Qn.XhrIo=Ae}).apply(typeof Bu<"u"?Bu:typeof self<"u"?self:typeof window<"u"?window:{});var ZI="@firebase/firestore",eT="4.8.0";var qe=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};qe.UNAUTHENTICATED=new qe(null),qe.GOOGLE_CREDENTIALS=new qe("google-credentials-uid"),qe.FIRST_PARTY=new qe("first-party-uid"),qe.MOCK_USER=new qe("mock-user");var Gs="11.10.0";var Ii=new En("@firebase/firestore");function Ts(){return Ii.logLevel}function B(n,...e){if(Ii.logLevel<=se.DEBUG){let t=e.map(b_);Ii.debug(`Firestore (${Gs}): ${n}`,...t)}}function Xn(n,...e){if(Ii.logLevel<=se.ERROR){let t=e.map(b_);Ii.error(`Firestore (${Gs}): ${n}`,...t)}}function Vr(n,...e){if(Ii.logLevel<=se.WARN){let t=e.map(b_);Ii.warn(`Firestore (${Gs}): ${n}`,...t)}}function b_(n){if(typeof n=="string")return n;try{return(function(t){return JSON.stringify(t)})(n)}catch{return n}}function q(n,e,t){let r="Unexpected state";typeof e=="string"?r=e:t=e,qT(n,r,t)}function qT(n,e,t){let r=`FIRESTORE (${Gs}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{r+=" CONTEXT: "+JSON.stringify(t)}catch{r+=" CONTEXT: "+t}throw Xn(r),new Error(r)}function he(n,e,t,r){let i="Unexpected state";typeof t=="string"?i=t:r=t,n||qT(e,i,r)}function J(n,e){return n}var x={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},V=class extends Ft{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var cn=class{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}};var Ku=class{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},Op=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(qe.UNAUTHENTICATED))}shutdown(){}},Fp=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}},Lp=class{constructor(e){this.t=e,this.currentUser=qe.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){he(this.o===void 0,42304);let r=this.i,i=l=>this.i!==r?(r=this.i,t(l)):Promise.resolve(),s=new cn;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new cn,e.enqueueRetryable(()=>i(this.currentUser))};let o=()=>{let l=s;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},c=l=>{B("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(l=>c(l)),setTimeout(()=>{if(!this.auth){let l=this.t.getImmediate({optional:!0});l?c(l):(B("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new cn)}},0),o()}getToken(){let e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(B("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(he(typeof r.accessToken=="string",31837,{l:r}),new Ku(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){let e=this.auth&&this.auth.getUid();return he(e===null||typeof e=="string",2055,{h:e}),new qe(e)}},Vp=class{constructor(e,t,r){this.P=e,this.T=t,this.I=r,this.type="FirstParty",this.user=qe.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);let e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}},Up=class{constructor(e,t,r){this.P=e,this.T=t,this.I=r}getToken(){return Promise.resolve(new Vp(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(qe.FIRST_PARTY))}shutdown(){}invalidateToken(){}},Yu=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},Bp=class{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Ct(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){he(this.o===void 0,3512);let r=s=>{s.error!=null&&B("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);let o=s.token!==this.m;return this.m=s.token,B("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?t(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};let i=s=>{B("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){let s=this.V.getImmediate({optional:!0});s?i(s):B("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Yu(this.p));let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(he(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new Yu(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}};function rF(n){let e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}function GT(){return new TextEncoder}var qa=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516),r="";for(;r.length<20;){let i=rF(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<t&&(r+=e.charAt(i[s]%62))}return r}};function te(n,e){return n<e?-1:n>e?1:0}function jp(n,e){let t=0;for(;t<n.length&&t<e.length;){let r=n.codePointAt(t),i=e.codePointAt(t);if(r!==i){if(r<128&&i<128)return te(r,i);{let s=GT(),o=iF(s.encode(tT(n,t)),s.encode(tT(e,t)));return o!==0?o:te(r,i)}}t+=r>65535?2:1}return te(n.length,e.length)}function tT(n,e){return n.codePointAt(e)>65535?n.substring(e,e+2):n.substring(e,e+1)}function iF(n,e){for(let t=0;t<n.length&&t<e.length;++t)if(n[t]!==e[t])return te(n[t],e[t]);return te(n.length,e.length)}function Ms(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}var nT="__name__",Qu=class n{constructor(e,t,r){t===void 0?t=0:t>e.length&&q(637,{offset:t,range:e.length}),r===void 0?r=e.length-t:r>e.length-t&&q(1746,{length:r,range:e.length-t}),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return n.comparator(this,e)===0}child(e){let t=this.segments.slice(this.offset,this.limit());return e instanceof n?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){let r=Math.min(e.length,t.length);for(let i=0;i<r;i++){let s=n.compareSegments(e.get(i),t.get(i));if(s!==0)return s}return te(e.length,t.length)}static compareSegments(e,t){let r=n.isNumericId(e),i=n.isNumericId(t);return r&&!i?-1:!r&&i?1:r&&i?n.extractNumericId(e).compare(n.extractNumericId(t)):jp(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Yn.fromString(e.substring(4,e.length-2))}},Ie=class n extends Qu{construct(e,t,r){return new n(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let t=[];for(let r of e){if(r.indexOf("//")>=0)throw new V(x.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new n(t)}static emptyPath(){return new n([])}},sF=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Vt=class n extends Qu{construct(e,t,r){return new n(e,t,r)}static isValidIdentifier(e){return sF.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===nT}static keyField(){return new n([nT])}static fromServerFormat(e){let t=[],r="",i=0,s=()=>{if(r.length===0)throw new V(x.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""},o=!1;for(;i<e.length;){let c=e[i];if(c==="\\"){if(i+1===e.length)throw new V(x.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new V(x.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else c==="`"?(o=!o,i++):c!=="."||o?(r+=c,i++):(s(),i++)}if(s(),o)throw new V(x.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}static emptyPath(){return new n([])}};var z=class n{constructor(e){this.path=e}static fromPath(e){return new n(Ie.fromString(e))}static fromName(e){return new n(Ie.fromString(e).popFirst(5))}static empty(){return new n(Ie.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ie.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Ie.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new n(new Ie(e.slice()))}};function WT(n,e,t){if(!t)throw new V(x.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function oF(n,e,t,r){if(e===!0&&r===!0)throw new V(x.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function rT(n){if(!z.isDocumentKey(n))throw new V(x.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function iT(n){if(z.isDocumentKey(n))throw new V(x.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function KT(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function Rd(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{let e=(function(r){return r.constructor?r.constructor.name:null})(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":q(12329,{type:typeof n})}function ln(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new V(x.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let t=Rd(n);throw new V(x.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function Be(n,e){let t={typeString:n};return e&&(t.value=e),t}function nc(n,e){if(!KT(n))throw new V(x.INVALID_ARGUMENT,"JSON must be an object");let t;for(let r in e)if(e[r]){let i=e[r].typeString,s="value"in e[r]?{value:e[r].value}:void 0;if(!(r in n)){t=`JSON missing required field: '${r}'`;break}let o=n[r];if(i&&typeof o!==i){t=`JSON field '${r}' must be a ${i}.`;break}if(s!==void 0&&o!==s.value){t=`Expected '${r}' field to equal '${s.value}'`;break}}if(t)throw new V(x.INVALID_ARGUMENT,t);return!0}var sT=-62135596800,oT=1e6,je=class n{static now(){return n.fromMillis(Date.now())}static fromDate(e){return n.fromMillis(e.getTime())}static fromMillis(e){let t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*oT);return new n(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new V(x.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new V(x.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<sT)throw new V(x.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new V(x.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/oT}_compareTo(e){return this.seconds===e.seconds?te(this.nanoseconds,e.nanoseconds):te(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:n._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(nc(e,n._jsonSchema))return new n(e.seconds,e.nanoseconds)}valueOf(){let e=this.seconds-sT;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};je._jsonSchemaVersion="firestore/timestamp/1.0",je._jsonSchema={type:Be("string",je._jsonSchemaVersion),seconds:Be("number"),nanoseconds:Be("number")};var ee=class n{static fromTimestamp(e){return new n(e)}static min(){return new n(new je(0,0))}static max(){return new n(new je(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var Ga=-1,$p=class{constructor(e,t,r,i){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=i}};$p.UNKNOWN_ID=-1;function aF(n,e){let t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=ee.fromTimestamp(r===1e9?new je(t+1,0):new je(t,r));return new Ti(i,z.empty(),e)}function cF(n){return new Ti(n.readTime,n.key,Ga)}var Ti=class n{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new n(ee.min(),z.empty(),Ga)}static max(){return new n(ee.max(),z.empty(),Ga)}};function lF(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=z.comparator(n.documentKey,e.documentKey),t!==0?t:te(n.largestBatchId,e.largestBatchId))}var uF="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",zp=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};async function Ws(n){if(n.code!==x.FAILED_PRECONDITION||n.message!==uF)throw n;B("LocalStore","Unexpectedly lost primary lease")}var P=class n{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&q(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new n((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(t,s).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{let t=e();return t instanceof n?t:n.resolve(t)}catch(t){return n.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):n.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):n.reject(t)}static resolve(e){return new n((t,r)=>{t(e)})}static reject(e){return new n((t,r)=>{r(e)})}static waitFor(e){return new n((t,r)=>{let i=0,s=0,o=!1;e.forEach(c=>{++i,c.next(()=>{++s,o&&s===i&&t()},l=>r(l))}),o=!0,s===i&&t()})}static or(e){let t=n.resolve(!1);for(let r of e)t=t.next(i=>i?n.resolve(i):r());return t}static forEach(e,t){let r=[];return e.forEach((i,s)=>{r.push(t.call(this,i,s))}),this.waitFor(r)}static mapArray(e,t){return new n((r,i)=>{let s=e.length,o=new Array(s),c=0;for(let l=0;l<s;l++){let d=l;t(e[d]).next(f=>{o[d]=f,++c,c===s&&r(o)},f=>i(f))}})}static doWhile(e,t){return new n((r,i)=>{let s=()=>{e()===!0?t().next(()=>{s()},i):r()};s()})}};function dF(n){let e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Ks(n){return n.name==="IndexedDbTransactionError"}var E_=(()=>{class n{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=i=>this._e(i),this.ae=i=>r.writeSequenceNumber(i))}_e(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){let t=++this.previousValue;return this.ae&&this.ae(t),t}}n.ue=-1;return n})(),w_=-1;function xd(n){return n==null}function Wa(n){return n===0&&1/n==-1/0}function hF(n){return typeof n=="number"&&Number.isInteger(n)&&!Wa(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}var YT="";function fF(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=aT(e)),e=mF(n.get(t),e);return aT(e)}function mF(n,e){let t=e,r=n.length;for(let i=0;i<r;i++){let s=n.charAt(i);switch(s){case"\0":t+="";break;case YT:t+="";break;default:t+=s}}return t}function aT(n){return n+YT+""}var pF="remoteDocuments",QT="owner";var XT="mutationQueues";var JT="mutations";var ZT="documentMutations",gF="remoteDocumentsV14";var eA="remoteDocumentGlobal";var tA="targets";var nA="targetDocuments";var rA="targetGlobal",iA="collectionParents";var sA="clientMetadata";var oA="bundles";var aA="namedQueries";var _F="indexConfiguration";var vF="indexState";var yF="indexEntries";var cA="documentOverlays";var bF="globals";var EF=[XT,JT,ZT,pF,tA,QT,rA,nA,sA,eA,iA,oA,aA],uH=[...EF,cA],wF=[XT,JT,ZT,gF,tA,QT,rA,nA,sA,eA,iA,oA,aA,cA],IF=wF,TF=[...IF,_F,vF,yF];var dH=[...TF,bF];function cT(n){let e=0;for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function $r(n,e){for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function lA(n){for(let e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}var xe=class n{constructor(e,t){this.comparator=e,this.root=t||An.EMPTY}insert(e,t){return new n(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,An.BLACK,null,null))}remove(e){return new n(this.comparator,this.root.remove(e,this.comparator).copy(null,null,An.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){let r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){let e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ss(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ss(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ss(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ss(this.root,e,this.comparator,!0)}},Ss=class{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=t?r(e.key,t):1,t&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},An=class n{constructor(e,t,r,i,s){this.key=e,this.value=t,this.color=r??n.RED,this.left=i??n.EMPTY,this.right=s??n.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,s){return new n(e??this.key,t??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this,s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,t,r),null):s===0?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return n.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),t(e,i.key)===0){if(i.right.isEmpty())return n.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw q(43730,{key:this.key,value:this.value});if(this.right.isRed())throw q(14113,{key:this.key,value:this.value});let e=this.left.check();if(e!==this.right.check())throw q(27949);return e+(this.isRed()?0:1)}};An.EMPTY=null,An.RED=!0,An.BLACK=!1;An.EMPTY=new class{constructor(){this.size=0}get key(){throw q(57766)}get value(){throw q(16141)}get color(){throw q(16727)}get left(){throw q(29726)}get right(){throw q(36894)}copy(e,t,r,i,s){return this}insert(e,t,r){return new An(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var Ge=class n{constructor(e){this.comparator=e,this.data=new xe(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Xu(this.data.getIterator())}getIteratorFrom(e){return new Xu(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){let i=t.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(t=>{e.push(t)}),e}toString(){let e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){let t=new n(this.comparator);return t.data=e,t}},Xu=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var qt=class n{constructor(e){this.fields=e,e.sort(Vt.comparator)}static empty(){return new n([])}unionWith(e){let t=new Ge(Vt.comparator);for(let r of this.fields)t=t.add(r);for(let r of e)t=t.add(r);return new n(t.toArray())}covers(e){for(let t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Ms(this.fields,e.fields,(t,r)=>t.isEqual(r))}};var Ju=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var ct=class n{constructor(e){this.binaryString=e}static fromBase64String(e){let t=(function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new Ju("Invalid base64 string: "+s):s}})(e);return new n(t)}static fromUint8Array(e){let t=(function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s})(e);return new n(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){let r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return te(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};ct.EMPTY_BYTE_STRING=new ct("");var AF=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Jn(n){if(he(!!n,39018),typeof n=="string"){let e=0,t=AF.exec(n);if(he(!!t,46558,{timestamp:n}),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:we(n.seconds),nanos:we(n.nanos)}}function we(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Zn(n){return typeof n=="string"?ct.fromBase64String(n):ct.fromUint8Array(n)}var uA="server_timestamp",dA="__type__",hA="__previous_value__",fA="__local_write_time__";function I_(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{})[dA])===null||t===void 0?void 0:t.stringValue)===uA}function Pd(n){let e=n.mapValue.fields[hA];return I_(e)?Pd(e):e}function Ka(n){let e=Jn(n.mapValue.fields[fA].timestampValue);return new je(e.seconds,e.nanos)}var Hp=class{constructor(e,t,r,i,s,o,c,l,d,f){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=c,this.longPollingOptions=l,this.useFetchStreams=d,this.isUsingEmulator=f}},Zu="(default)",ed=class n{constructor(e,t){this.projectId=e,this.database=t||Zu}static empty(){return new n("","")}get isDefaultDatabase(){return this.database===Zu}isEqual(e){return e instanceof n&&e.projectId===this.projectId&&e.database===this.database}};var T_="__type__",mA="__max__",$u={mapValue:{fields:{__type__:{stringValue:mA}}}},A_="__vector__",Ns="value";function Ur(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?I_(n)?4:gA(n)?9007199254740991:pA(n)?10:11:q(28295,{value:n})}function Rn(n,e){if(n===e)return!0;let t=Ur(n);if(t!==Ur(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Ka(n).isEqual(Ka(e));case 3:return(function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;let o=Jn(i.timestampValue),c=Jn(s.timestampValue);return o.seconds===c.seconds&&o.nanos===c.nanos})(n,e);case 5:return n.stringValue===e.stringValue;case 6:return(function(i,s){return Zn(i.bytesValue).isEqual(Zn(s.bytesValue))})(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return(function(i,s){return we(i.geoPointValue.latitude)===we(s.geoPointValue.latitude)&&we(i.geoPointValue.longitude)===we(s.geoPointValue.longitude)})(n,e);case 2:return(function(i,s){if("integerValue"in i&&"integerValue"in s)return we(i.integerValue)===we(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){let o=we(i.doubleValue),c=we(s.doubleValue);return o===c?Wa(o)===Wa(c):isNaN(o)&&isNaN(c)}return!1})(n,e);case 9:return Ms(n.arrayValue.values||[],e.arrayValue.values||[],Rn);case 10:case 11:return(function(i,s){let o=i.mapValue.fields||{},c=s.mapValue.fields||{};if(cT(o)!==cT(c))return!1;for(let l in o)if(o.hasOwnProperty(l)&&(c[l]===void 0||!Rn(o[l],c[l])))return!1;return!0})(n,e);default:return q(52216,{left:n})}}function Ya(n,e){return(n.values||[]).find(t=>Rn(t,e))!==void 0}function ks(n,e){if(n===e)return 0;let t=Ur(n),r=Ur(e);if(t!==r)return te(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return te(n.booleanValue,e.booleanValue);case 2:return(function(s,o){let c=we(s.integerValue||s.doubleValue),l=we(o.integerValue||o.doubleValue);return c<l?-1:c>l?1:c===l?0:isNaN(c)?isNaN(l)?0:-1:1})(n,e);case 3:return lT(n.timestampValue,e.timestampValue);case 4:return lT(Ka(n),Ka(e));case 5:return jp(n.stringValue,e.stringValue);case 6:return(function(s,o){let c=Zn(s),l=Zn(o);return c.compareTo(l)})(n.bytesValue,e.bytesValue);case 7:return(function(s,o){let c=s.split("/"),l=o.split("/");for(let d=0;d<c.length&&d<l.length;d++){let f=te(c[d],l[d]);if(f!==0)return f}return te(c.length,l.length)})(n.referenceValue,e.referenceValue);case 8:return(function(s,o){let c=te(we(s.latitude),we(o.latitude));return c!==0?c:te(we(s.longitude),we(o.longitude))})(n.geoPointValue,e.geoPointValue);case 9:return uT(n.arrayValue,e.arrayValue);case 10:return(function(s,o){var c,l,d,f;let p=s.fields||{},g=o.fields||{},A=(c=p[Ns])===null||c===void 0?void 0:c.arrayValue,R=(l=g[Ns])===null||l===void 0?void 0:l.arrayValue,M=te(((d=A?.values)===null||d===void 0?void 0:d.length)||0,((f=R?.values)===null||f===void 0?void 0:f.length)||0);return M!==0?M:uT(A,R)})(n.mapValue,e.mapValue);case 11:return(function(s,o){if(s===$u.mapValue&&o===$u.mapValue)return 0;if(s===$u.mapValue)return 1;if(o===$u.mapValue)return-1;let c=s.fields||{},l=Object.keys(c),d=o.fields||{},f=Object.keys(d);l.sort(),f.sort();for(let p=0;p<l.length&&p<f.length;++p){let g=jp(l[p],f[p]);if(g!==0)return g;let A=ks(c[l[p]],d[f[p]]);if(A!==0)return A}return te(l.length,f.length)})(n.mapValue,e.mapValue);default:throw q(23264,{le:t})}}function lT(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return te(n,e);let t=Jn(n),r=Jn(e),i=te(t.seconds,r.seconds);return i!==0?i:te(t.nanos,r.nanos)}function uT(n,e){let t=n.values||[],r=e.values||[];for(let i=0;i<t.length&&i<r.length;++i){let s=ks(t[i],r[i]);if(s)return s}return te(t.length,r.length)}function Os(n){return qp(n)}function qp(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?(function(t){let r=Jn(t);return`time(${r.seconds},${r.nanos})`})(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?(function(t){return Zn(t).toBase64()})(n.bytesValue):"referenceValue"in n?(function(t){return z.fromName(t).toString()})(n.referenceValue):"geoPointValue"in n?(function(t){return`geo(${t.latitude},${t.longitude})`})(n.geoPointValue):"arrayValue"in n?(function(t){let r="[",i=!0;for(let s of t.values||[])i?i=!1:r+=",",r+=qp(s);return r+"]"})(n.arrayValue):"mapValue"in n?(function(t){let r=Object.keys(t.fields||{}).sort(),i="{",s=!0;for(let o of r)s?s=!1:i+=",",i+=`${o}:${qp(t.fields[o])}`;return i+"}"})(n.mapValue):q(61005,{value:n})}function qu(n){switch(Ur(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:let e=Pd(n);return e?16+qu(e):16;case 5:return 2*n.stringValue.length;case 6:return Zn(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce((i,s)=>i+qu(s),0)})(n.arrayValue);case 10:case 11:return(function(r){let i=0;return $r(r.fields,(s,o)=>{i+=s.length+qu(o)}),i})(n.mapValue);default:throw q(13486,{value:n})}}function dT(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function Gp(n){return!!n&&"integerValue"in n}function D_(n){return!!n&&"arrayValue"in n}function hT(n){return!!n&&"nullValue"in n}function fT(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Gu(n){return!!n&&"mapValue"in n}function pA(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{})[T_])===null||t===void 0?void 0:t.stringValue)===A_}function ja(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){let e={mapValue:{fields:{}}};return $r(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=ja(r)),e}if(n.arrayValue){let e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=ja(n.arrayValue.values[t]);return e}return Object.assign({},n)}function gA(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===mA}var fH={mapValue:{fields:{[T_]:{stringValue:A_},[Ns]:{arrayValue:{}}}}};var Lt=class n{constructor(e){this.value=e}static empty(){return new n({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!Gu(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=ja(t)}setAll(e){let t=Vt.emptyPath(),r={},i=[];e.forEach((o,c)=>{if(!t.isImmediateParentOf(c)){let l=this.getFieldsMap(t);this.applyChanges(l,r,i),r={},i=[],t=c.popLast()}o?r[c.lastSegment()]=ja(o):i.push(c.lastSegment())});let s=this.getFieldsMap(t);this.applyChanges(s,r,i)}delete(e){let t=this.field(e.popLast());Gu(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Rn(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];Gu(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){$r(t,(i,s)=>e[i]=s);for(let i of r)delete e[i]}clone(){return new n(ja(this.value))}};function _A(n){let e=[];return $r(n.fields,(t,r)=>{let i=new Vt([t]);if(Gu(r)){let s=_A(r.mapValue).fields;if(s.length===0)e.push(i);else for(let o of s)e.push(i.child(o))}else e.push(i)}),new qt(e)}var un=class n{constructor(e,t,r,i,s,o,c){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=c}static newInvalidDocument(e){return new n(e,0,ee.min(),ee.min(),ee.min(),Lt.empty(),0)}static newFoundDocument(e,t,r,i){return new n(e,1,t,ee.min(),r,i,0)}static newNoDocument(e,t){return new n(e,2,t,ee.min(),ee.min(),Lt.empty(),0)}static newUnknownDocument(e,t){return new n(e,3,t,ee.min(),ee.min(),Lt.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(ee.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Lt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Lt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ee.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof n&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new n(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var Fs=class{constructor(e,t){this.position=e,this.inclusive=t}};function mT(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){let s=e[i],o=n.position[i];if(s.field.isKeyField()?r=z.comparator(z.fromName(o.referenceValue),t.key):r=ks(o,t.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function pT(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Rn(n.position[t],e.position[t]))return!1;return!0}var Ls=class{constructor(e,t="asc"){this.field=e,this.dir=t}};function DF(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}var td=class{},Ue=class n extends td{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new Kp(e,t,r):t==="array-contains"?new Xp(e,r):t==="in"?new Jp(e,r):t==="not-in"?new Zp(e,r):t==="array-contains-any"?new eg(e,r):new n(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new Yp(e,r):new Qp(e,r)}matches(e){let t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(ks(t,this.value)):t!==null&&Ur(this.value)===Ur(t)&&this.matchesComparison(ks(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return q(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},dn=class n extends td{constructor(e,t){super(),this.filters=e,this.op=t,this.he=null}static create(e,t){return new n(e,t)}matches(e){return vA(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.he!==null||(this.he=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.he}getFilters(){return Object.assign([],this.filters)}};function vA(n){return n.op==="and"}function yA(n){return CF(n)&&vA(n)}function CF(n){for(let e of n.filters)if(e instanceof dn)return!1;return!0}function Wp(n){if(n instanceof Ue)return n.field.canonicalString()+n.op.toString()+Os(n.value);if(yA(n))return n.filters.map(e=>Wp(e)).join(",");{let e=n.filters.map(t=>Wp(t)).join(",");return`${n.op}(${e})`}}function bA(n,e){return n instanceof Ue?(function(r,i){return i instanceof Ue&&r.op===i.op&&r.field.isEqual(i.field)&&Rn(r.value,i.value)})(n,e):n instanceof dn?(function(r,i){return i instanceof dn&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,c)=>s&&bA(o,i.filters[c]),!0):!1})(n,e):void q(19439)}function EA(n){return n instanceof Ue?(function(t){return`${t.field.canonicalString()} ${t.op} ${Os(t.value)}`})(n):n instanceof dn?(function(t){return t.op.toString()+" {"+t.getFilters().map(EA).join(" ,")+"}"})(n):"Filter"}var Kp=class extends Ue{constructor(e,t,r){super(e,t,r),this.key=z.fromName(r.referenceValue)}matches(e){let t=z.comparator(e.key,this.key);return this.matchesComparison(t)}},Yp=class extends Ue{constructor(e,t){super(e,"in",t),this.keys=wA("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}},Qp=class extends Ue{constructor(e,t){super(e,"not-in",t),this.keys=wA("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}};function wA(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(r=>z.fromName(r.referenceValue))}var Xp=class extends Ue{constructor(e,t){super(e,"array-contains",t)}matches(e){let t=e.data.field(this.field);return D_(t)&&Ya(t.arrayValue,this.value)}},Jp=class extends Ue{constructor(e,t){super(e,"in",t)}matches(e){let t=e.data.field(this.field);return t!==null&&Ya(this.value.arrayValue,t)}},Zp=class extends Ue{constructor(e,t){super(e,"not-in",t)}matches(e){if(Ya(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!Ya(this.value.arrayValue,t)}},eg=class extends Ue{constructor(e,t){super(e,"array-contains-any",t)}matches(e){let t=e.data.field(this.field);return!(!D_(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>Ya(this.value.arrayValue,r))}};var tg=class{constructor(e,t=null,r=[],i=[],s=null,o=null,c=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=c,this.Pe=null}};function gT(n,e=null,t=[],r=[],i=null,s=null,o=null){return new tg(n,e,t,r,i,s,o)}function C_(n){let e=J(n);if(e.Pe===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>Wp(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>(function(s){return s.field.canonicalString()+s.dir})(r)).join(","),xd(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>Os(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>Os(r)).join(",")),e.Pe=t}return e.Pe}function S_(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!DF(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!bA(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!pT(n.startAt,e.startAt)&&pT(n.endAt,e.endAt)}function ng(n){return z.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}var Ai=class{constructor(e,t=null,r=[],i=[],s=null,o="F",c=null,l=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=c,this.endAt=l,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}};function SF(n,e,t,r,i,s,o,c){return new Ai(n,e,t,r,i,s,o,c)}function R_(n){return new Ai(n)}function _T(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function IA(n){return n.collectionGroup!==null}function $a(n){let e=J(n);if(e.Te===null){e.Te=[];let t=new Set;for(let s of e.explicitOrderBy)e.Te.push(s),t.add(s.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let c=new Ge(Vt.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(d=>{d.isInequality()&&(c=c.add(d.field))})}),c})(e).forEach(s=>{t.has(s.canonicalString())||s.isKeyField()||e.Te.push(new Ls(s,r))}),t.has(Vt.keyField().canonicalString())||e.Te.push(new Ls(Vt.keyField(),r))}return e.Te}function Dn(n){let e=J(n);return e.Ie||(e.Ie=RF(e,$a(n))),e.Ie}function RF(n,e){if(n.limitType==="F")return gT(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(i=>{let s=i.dir==="desc"?"asc":"desc";return new Ls(i.field,s)});let t=n.endAt?new Fs(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new Fs(n.startAt.position,n.startAt.inclusive):null;return gT(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function rg(n,e){let t=n.filters.concat([e]);return new Ai(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function ig(n,e,t){return new Ai(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Md(n,e){return S_(Dn(n),Dn(e))&&n.limitType===e.limitType}function TA(n){return`${C_(Dn(n))}|lt:${n.limitType}`}function As(n){return`Query(target=${(function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(i=>EA(i)).join(", ")}]`),xd(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(i=>(function(o){return`${o.field.canonicalString()} (${o.dir})`})(i)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(i=>Os(i)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(i=>Os(i)).join(",")),`Target(${r})`})(Dn(n))}; limitType=${n.limitType})`}function Nd(n,e){return e.isFoundDocument()&&(function(r,i){let s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):z.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)})(n,e)&&(function(r,i){for(let s of $a(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0})(n,e)&&(function(r,i){for(let s of r.filters)if(!s.matches(i))return!1;return!0})(n,e)&&(function(r,i){return!(r.startAt&&!(function(o,c,l){let d=mT(o,c,l);return o.inclusive?d<=0:d<0})(r.startAt,$a(r),i)||r.endAt&&!(function(o,c,l){let d=mT(o,c,l);return o.inclusive?d>=0:d>0})(r.endAt,$a(r),i))})(n,e)}function xF(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function AA(n){return(e,t)=>{let r=!1;for(let i of $a(n)){let s=PF(i,e,t);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function PF(n,e,t){let r=n.field.isKeyField()?z.comparator(e.key,t.key):(function(s,o,c){let l=o.data.field(s),d=c.data.field(s);return l!==null&&d!==null?ks(l,d):q(42886)})(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return q(19790,{direction:n.dir})}}var er=class{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){let t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(let[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,t){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){let t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){$r(this.inner,(t,r)=>{for(let[i,s]of r)e(i,s)})}isEmpty(){return lA(this.inner)}size(){return this.innerSize}};var MF=new xe(z.comparator);function tr(){return MF}var DA=new xe(z.comparator);function Ba(...n){let e=DA;for(let t of n)e=e.insert(t.key,t);return e}function CA(n){let e=DA;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function yi(){return za()}function SA(){return za()}function za(){return new er(n=>n.toString(),(n,e)=>n.isEqual(e))}var NF=new xe(z.comparator),kF=new Ge(z.comparator);function ae(...n){let e=kF;for(let t of n)e=e.add(t);return e}var OF=new Ge(te);function FF(){return OF}function x_(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Wa(e)?"-0":e}}function RA(n){return{integerValue:""+n}}function LF(n,e){return hF(e)?RA(e):x_(n,e)}var Vs=class{constructor(){this._=void 0}};function VF(n,e,t){return n instanceof Di?(function(i,s){let o={fields:{[dA]:{stringValue:uA},[fA]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&I_(s)&&(s=Pd(s)),s&&(o.fields[hA]=s),{mapValue:o}})(t,e):n instanceof Ci?PA(n,e):n instanceof Si?MA(n,e):(function(i,s){let o=xA(i,s),c=vT(o)+vT(i.Ee);return Gp(o)&&Gp(i.Ee)?RA(c):x_(i.serializer,c)})(n,e)}function UF(n,e,t){return n instanceof Ci?PA(n,e):n instanceof Si?MA(n,e):t}function xA(n,e){return n instanceof Us?(function(r){return Gp(r)||(function(s){return!!s&&"doubleValue"in s})(r)})(e)?e:{integerValue:0}:null}var Di=class extends Vs{},Ci=class extends Vs{constructor(e){super(),this.elements=e}};function PA(n,e){let t=NA(e);for(let r of n.elements)t.some(i=>Rn(i,r))||t.push(r);return{arrayValue:{values:t}}}var Si=class extends Vs{constructor(e){super(),this.elements=e}};function MA(n,e){let t=NA(e);for(let r of n.elements)t=t.filter(i=>!Rn(i,r));return{arrayValue:{values:t}}}var Us=class extends Vs{constructor(e,t){super(),this.serializer=e,this.Ee=t}};function vT(n){return we(n.integerValue||n.doubleValue)}function NA(n){return D_(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}var sg=class{constructor(e,t){this.field=e,this.transform=t}};function BF(n,e){return n.field.isEqual(e.field)&&(function(r,i){return r instanceof Ci&&i instanceof Ci||r instanceof Si&&i instanceof Si?Ms(r.elements,i.elements,Rn):r instanceof Us&&i instanceof Us?Rn(r.Ee,i.Ee):r instanceof Di&&i instanceof Di})(n.transform,e.transform)}var og=class{constructor(e,t){this.version=e,this.transformResults=t}},Cn=class n{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new n}static exists(e){return new n(void 0,e)}static updateTime(e){return new n(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function Wu(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}var Bs=class{};function kA(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new Qa(n.key,Cn.none()):new Ri(n.key,n.data,Cn.none());{let t=n.data,r=Lt.empty(),i=new Ge(Vt.comparator);for(let s of e.fields)if(!i.has(s)){let o=t.field(s);o===null&&s.length>1&&(s=s.popLast(),o=t.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new xn(n.key,r,new qt(i.toArray()),Cn.none())}}function jF(n,e,t){n instanceof Ri?(function(i,s,o){let c=i.value.clone(),l=bT(i.fieldTransforms,s,o.transformResults);c.setAll(l),s.convertToFoundDocument(o.version,c).setHasCommittedMutations()})(n,e,t):n instanceof xn?(function(i,s,o){if(!Wu(i.precondition,s))return void s.convertToUnknownDocument(o.version);let c=bT(i.fieldTransforms,s,o.transformResults),l=s.data;l.setAll(OA(i)),l.setAll(c),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()})(n,e,t):(function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()})(0,e,t)}function Ha(n,e,t,r){return n instanceof Ri?(function(s,o,c,l){if(!Wu(s.precondition,o))return c;let d=s.value.clone(),f=ET(s.fieldTransforms,l,o);return d.setAll(f),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),null})(n,e,t,r):n instanceof xn?(function(s,o,c,l){if(!Wu(s.precondition,o))return c;let d=ET(s.fieldTransforms,l,o),f=o.data;return f.setAll(OA(s)),f.setAll(d),o.convertToFoundDocument(o.version,f).setHasLocalMutations(),c===null?null:c.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(p=>p.field))})(n,e,t,r):(function(s,o,c){return Wu(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):c})(n,e,t)}function $F(n,e){let t=null;for(let r of n.fieldTransforms){let i=e.data.field(r.field),s=xA(r.transform,i||null);s!=null&&(t===null&&(t=Lt.empty()),t.set(r.field,s))}return t||null}function yT(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!(function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Ms(r,i,(s,o)=>BF(s,o))})(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}var Ri=class extends Bs{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},xn=class extends Bs{constructor(e,t,r,i,s=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}};function OA(n){let e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){let r=n.data.field(t);e.set(t,r)}}),e}function bT(n,e,t){let r=new Map;he(n.length===t.length,32656,{Ae:t.length,Re:n.length});for(let i=0;i<t.length;i++){let s=n[i],o=s.transform,c=e.data.field(s.field);r.set(s.field,UF(o,c,t[i]))}return r}function ET(n,e,t){let r=new Map;for(let i of n){let s=i.transform,o=t.data.field(i.field);r.set(i.field,VF(s,o,e))}return r}var Qa=class extends Bs{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},ag=class extends Bs{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var cg=class{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){let r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){let s=this.mutations[i];s.key.isEqual(e.key)&&jF(s,e,r[i])}}applyToLocalView(e,t){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(t=Ha(r,e,t,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(t=Ha(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){let r=SA();return this.mutations.forEach(i=>{let s=e.get(i.key),o=s.overlayedDocument,c=this.applyToLocalView(o,s.mutatedFields);c=t.has(i.key)?null:c;let l=kA(o,c);l!==null&&r.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(ee.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),ae())}isEqual(e){return this.batchId===e.batchId&&Ms(this.mutations,e.mutations,(t,r)=>yT(t,r))&&Ms(this.baseMutations,e.baseMutations,(t,r)=>yT(t,r))}},lg=class n{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){he(e.mutations.length===r.length,58842,{Ve:e.mutations.length,me:r.length});let i=(function(){return NF})(),s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new n(e,t,r,i)}};var ug=class{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var dg=class{constructor(e,t){this.count=e,this.unchangedNames=t}};var Le,ce;function zF(n){switch(n){case x.OK:return q(64938);case x.CANCELLED:case x.UNKNOWN:case x.DEADLINE_EXCEEDED:case x.RESOURCE_EXHAUSTED:case x.INTERNAL:case x.UNAVAILABLE:case x.UNAUTHENTICATED:return!1;case x.INVALID_ARGUMENT:case x.NOT_FOUND:case x.ALREADY_EXISTS:case x.PERMISSION_DENIED:case x.FAILED_PRECONDITION:case x.ABORTED:case x.OUT_OF_RANGE:case x.UNIMPLEMENTED:case x.DATA_LOSS:return!0;default:return q(15467,{code:n})}}function FA(n){if(n===void 0)return Xn("GRPC error has no .code"),x.UNKNOWN;switch(n){case Le.OK:return x.OK;case Le.CANCELLED:return x.CANCELLED;case Le.UNKNOWN:return x.UNKNOWN;case Le.DEADLINE_EXCEEDED:return x.DEADLINE_EXCEEDED;case Le.RESOURCE_EXHAUSTED:return x.RESOURCE_EXHAUSTED;case Le.INTERNAL:return x.INTERNAL;case Le.UNAVAILABLE:return x.UNAVAILABLE;case Le.UNAUTHENTICATED:return x.UNAUTHENTICATED;case Le.INVALID_ARGUMENT:return x.INVALID_ARGUMENT;case Le.NOT_FOUND:return x.NOT_FOUND;case Le.ALREADY_EXISTS:return x.ALREADY_EXISTS;case Le.PERMISSION_DENIED:return x.PERMISSION_DENIED;case Le.FAILED_PRECONDITION:return x.FAILED_PRECONDITION;case Le.ABORTED:return x.ABORTED;case Le.OUT_OF_RANGE:return x.OUT_OF_RANGE;case Le.UNIMPLEMENTED:return x.UNIMPLEMENTED;case Le.DATA_LOSS:return x.DATA_LOSS;default:return q(39323,{code:n})}}(ce=Le||(Le={}))[ce.OK=0]="OK",ce[ce.CANCELLED=1]="CANCELLED",ce[ce.UNKNOWN=2]="UNKNOWN",ce[ce.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ce[ce.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ce[ce.NOT_FOUND=5]="NOT_FOUND",ce[ce.ALREADY_EXISTS=6]="ALREADY_EXISTS",ce[ce.PERMISSION_DENIED=7]="PERMISSION_DENIED",ce[ce.UNAUTHENTICATED=16]="UNAUTHENTICATED",ce[ce.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ce[ce.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ce[ce.ABORTED=10]="ABORTED",ce[ce.OUT_OF_RANGE=11]="OUT_OF_RANGE",ce[ce.UNIMPLEMENTED=12]="UNIMPLEMENTED",ce[ce.INTERNAL=13]="INTERNAL",ce[ce.UNAVAILABLE=14]="UNAVAILABLE",ce[ce.DATA_LOSS=15]="DATA_LOSS";var wT=null;var HF=new Yn([4294967295,4294967295],0);function IT(n){let e=GT().encode(n),t=new Ap;return t.update(e),new Uint8Array(t.digest())}function TT(n){let e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Yn([t,r],0),new Yn([i,s],0)]}var hg=class n{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new bi(`Invalid padding: ${t}`);if(r<0)throw new bi(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new bi(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new bi(`Invalid padding when bitmap length is 0: ${t}`);this.fe=8*e.length-t,this.ge=Yn.fromNumber(this.fe)}pe(e,t,r){let i=e.add(t.multiply(Yn.fromNumber(r)));return i.compare(HF)===1&&(i=new Yn([i.getBits(0),i.getBits(1)],0)),i.modulo(this.ge).toNumber()}ye(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.fe===0)return!1;let t=IT(e),[r,i]=TT(t);for(let s=0;s<this.hashCount;s++){let o=this.pe(r,i,s);if(!this.ye(o))return!1}return!0}static create(e,t,r){let i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new n(s,i,t);return r.forEach(c=>o.insert(c)),o}insert(e){if(this.fe===0)return;let t=IT(e),[r,i]=TT(t);for(let s=0;s<this.hashCount;s++){let o=this.pe(r,i,s);this.we(o)}}we(e){let t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}},bi=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var nd=class n{constructor(e,t,r,i,s){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,t,r){let i=new Map;return i.set(e,Xa.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new n(ee.min(),i,new xe(te),tr(),ae())}},Xa=class n{constructor(e,t,r,i,s){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new n(r,t,ae(),ae(),ae())}};var Rs=class{constructor(e,t,r,i){this.Se=e,this.removedTargetIds=t,this.key=r,this.be=i}},rd=class{constructor(e,t){this.targetId=e,this.De=t}},id=class{constructor(e,t,r=ct.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}},sd=class{constructor(){this.ve=0,this.Ce=AT(),this.Fe=ct.EMPTY_BYTE_STRING,this.Me=!1,this.xe=!0}get current(){return this.Me}get resumeToken(){return this.Fe}get Oe(){return this.ve!==0}get Ne(){return this.xe}Be(e){e.approximateByteSize()>0&&(this.xe=!0,this.Fe=e)}Le(){let e=ae(),t=ae(),r=ae();return this.Ce.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:q(38017,{changeType:s})}}),new Xa(this.Fe,this.Me,e,t,r)}ke(){this.xe=!1,this.Ce=AT()}qe(e,t){this.xe=!0,this.Ce=this.Ce.insert(e,t)}Qe(e){this.xe=!0,this.Ce=this.Ce.remove(e)}$e(){this.ve+=1}Ue(){this.ve-=1,he(this.ve>=0,3241,{ve:this.ve})}Ke(){this.xe=!0,this.Me=!0}},fg=class{constructor(e){this.We=e,this.Ge=new Map,this.ze=tr(),this.je=zu(),this.Je=zu(),this.He=new xe(te)}Ye(e){for(let t of e.Se)e.be&&e.be.isFoundDocument()?this.Ze(t,e.be):this.Xe(t,e.key,e.be);for(let t of e.removedTargetIds)this.Xe(t,e.key,e.be)}et(e){this.forEachTarget(e,t=>{let r=this.tt(t);switch(e.state){case 0:this.nt(t)&&r.Be(e.resumeToken);break;case 1:r.Ue(),r.Oe||r.ke(),r.Be(e.resumeToken);break;case 2:r.Ue(),r.Oe||this.removeTarget(t);break;case 3:this.nt(t)&&(r.Ke(),r.Be(e.resumeToken));break;case 4:this.nt(t)&&(this.rt(t),r.Be(e.resumeToken));break;default:q(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Ge.forEach((r,i)=>{this.nt(i)&&t(i)})}it(e){let t=e.targetId,r=e.De.count,i=this.st(t);if(i){let s=i.target;if(ng(s))if(r===0){let o=new z(s.path);this.Xe(t,o,un.newNoDocument(o,ee.min()))}else he(r===1,20013,{expectedCount:r});else{let o=this.ot(t);if(o!==r){let c=this._t(e),l=c?this.ut(c,e,o):1;if(l!==0){this.rt(t);let d=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.He=this.He.insert(t,d)}wT?.ct((function(f,p,g,A,R){var M,S,F,U,j,G;let ve={localCacheCount:f,existenceFilterCount:p.count,databaseId:g.database,projectId:g.projectId},re=p.unchangedNames;return re&&(ve.bloomFilter={applied:R===0,hashCount:(M=re?.hashCount)!==null&&M!==void 0?M:0,bitmapLength:(U=(F=(S=re?.bits)===null||S===void 0?void 0:S.bitmap)===null||F===void 0?void 0:F.length)!==null&&U!==void 0?U:0,padding:(G=(j=re?.bits)===null||j===void 0?void 0:j.padding)!==null&&G!==void 0?G:0,mightContain:w=>{var _;return(_=A?.mightContain(w))!==null&&_!==void 0&&_}}),ve})(o,e.De,this.We.lt(),c,l))}}}}_t(e){let t=e.De.unchangedNames;if(!t||!t.bits)return null;let{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=t,o,c;try{o=Zn(r).toUint8Array()}catch(l){if(l instanceof Ju)return Vr("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{c=new hg(o,i,s)}catch(l){return Vr(l instanceof bi?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return c.fe===0?null:c}ut(e,t,r){return t.De.count===r-this.ht(e,t.targetId)?0:2}ht(e,t){let r=this.We.getRemoteKeysForTarget(t),i=0;return r.forEach(s=>{let o=this.We.lt(),c=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(c)||(this.Xe(t,s,null),i++)}),i}Pt(e){let t=new Map;this.Ge.forEach((s,o)=>{let c=this.st(o);if(c){if(s.current&&ng(c.target)){let l=new z(c.target.path);this.Tt(l).has(o)||this.It(o,l)||this.Xe(o,l,un.newNoDocument(l,e))}s.Ne&&(t.set(o,s.Le()),s.ke())}});let r=ae();this.Je.forEach((s,o)=>{let c=!0;o.forEachWhile(l=>{let d=this.st(l);return!d||d.purpose==="TargetPurposeLimboResolution"||(c=!1,!1)}),c&&(r=r.add(s))}),this.ze.forEach((s,o)=>o.setReadTime(e));let i=new nd(e,t,this.He,this.ze,r);return this.ze=tr(),this.je=zu(),this.Je=zu(),this.He=new xe(te),i}Ze(e,t){if(!this.nt(e))return;let r=this.It(e,t.key)?2:0;this.tt(e).qe(t.key,r),this.ze=this.ze.insert(t.key,t),this.je=this.je.insert(t.key,this.Tt(t.key).add(e)),this.Je=this.Je.insert(t.key,this.dt(t.key).add(e))}Xe(e,t,r){if(!this.nt(e))return;let i=this.tt(e);this.It(e,t)?i.qe(t,1):i.Qe(t),this.Je=this.Je.insert(t,this.dt(t).delete(e)),this.Je=this.Je.insert(t,this.dt(t).add(e)),r&&(this.ze=this.ze.insert(t,r))}removeTarget(e){this.Ge.delete(e)}ot(e){let t=this.tt(e).Le();return this.We.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}$e(e){this.tt(e).$e()}tt(e){let t=this.Ge.get(e);return t||(t=new sd,this.Ge.set(e,t)),t}dt(e){let t=this.Je.get(e);return t||(t=new Ge(te),this.Je=this.Je.insert(e,t)),t}Tt(e){let t=this.je.get(e);return t||(t=new Ge(te),this.je=this.je.insert(e,t)),t}nt(e){let t=this.st(e)!==null;return t||B("WatchChangeAggregator","Detected inactive target",e),t}st(e){let t=this.Ge.get(e);return t&&t.Oe?null:this.We.Et(e)}rt(e){this.Ge.set(e,new sd),this.We.getRemoteKeysForTarget(e).forEach(t=>{this.Xe(e,t,null)})}It(e,t){return this.We.getRemoteKeysForTarget(e).has(t)}};function zu(){return new xe(z.comparator)}function AT(){return new xe(z.comparator)}var qF={asc:"ASCENDING",desc:"DESCENDING"},GF={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},WF={and:"AND",or:"OR"},mg=class{constructor(e,t){this.databaseId=e,this.useProto3Json=t}};function pg(n,e){return n.useProto3Json||xd(e)?e:{value:e}}function od(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function LA(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function KF(n,e){return od(n,e.toTimestamp())}function Sn(n){return he(!!n,49232),ee.fromTimestamp((function(t){let r=Jn(t);return new je(r.seconds,r.nanos)})(n))}function P_(n,e){return gg(n,e).canonicalString()}function gg(n,e){let t=(function(i){return new Ie(["projects",i.projectId,"databases",i.database])})(n).child("documents");return e===void 0?t:t.child(e)}function VA(n){let e=Ie.fromString(n);return he(zA(e),10190,{key:e.toString()}),e}function _g(n,e){return P_(n.databaseId,e.path)}function Pp(n,e){let t=VA(e);if(t.get(1)!==n.databaseId.projectId)throw new V(x.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new V(x.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new z(BA(t))}function UA(n,e){return P_(n.databaseId,e)}function YF(n){let e=VA(n);return e.length===4?Ie.emptyPath():BA(e)}function vg(n){return new Ie(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function BA(n){return he(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function DT(n,e,t){return{name:_g(n,e),fields:t.value.mapValue.fields}}function QF(n,e){let t;if("targetChange"in e){e.targetChange;let r=(function(d){return d==="NO_CHANGE"?0:d==="ADD"?1:d==="REMOVE"?2:d==="CURRENT"?3:d==="RESET"?4:q(39313,{state:d})})(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=(function(d,f){return d.useProto3Json?(he(f===void 0||typeof f=="string",58123),ct.fromBase64String(f||"")):(he(f===void 0||f instanceof Buffer||f instanceof Uint8Array,16193),ct.fromUint8Array(f||new Uint8Array))})(n,e.targetChange.resumeToken),o=e.targetChange.cause,c=o&&(function(d){let f=d.code===void 0?x.UNKNOWN:FA(d.code);return new V(f,d.message||"")})(o);t=new id(r,i,s,c||null)}else if("documentChange"in e){e.documentChange;let r=e.documentChange;r.document,r.document.name,r.document.updateTime;let i=Pp(n,r.document.name),s=Sn(r.document.updateTime),o=r.document.createTime?Sn(r.document.createTime):ee.min(),c=new Lt({mapValue:{fields:r.document.fields}}),l=un.newFoundDocument(i,s,o,c),d=r.targetIds||[],f=r.removedTargetIds||[];t=new Rs(d,f,l.key,l)}else if("documentDelete"in e){e.documentDelete;let r=e.documentDelete;r.document;let i=Pp(n,r.document),s=r.readTime?Sn(r.readTime):ee.min(),o=un.newNoDocument(i,s),c=r.removedTargetIds||[];t=new Rs([],c,o.key,o)}else if("documentRemove"in e){e.documentRemove;let r=e.documentRemove;r.document;let i=Pp(n,r.document),s=r.removedTargetIds||[];t=new Rs([],s,i,null)}else{if(!("filter"in e))return q(11601,{At:e});{e.filter;let r=e.filter;r.targetId;let{count:i=0,unchangedNames:s}=r,o=new dg(i,s),c=r.targetId;t=new rd(c,o)}}return t}function XF(n,e){let t;if(e instanceof Ri)t={update:DT(n,e.key,e.value)};else if(e instanceof Qa)t={delete:_g(n,e.key)};else if(e instanceof xn)t={update:DT(n,e.key,e.data),updateMask:oL(e.fieldMask)};else{if(!(e instanceof ag))return q(16599,{Rt:e.type});t={verify:_g(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>(function(s,o){let c=o.transform;if(c instanceof Di)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof Ci)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof Si)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof Us)return{fieldPath:o.field.canonicalString(),increment:c.Ee};throw q(20930,{transform:o.transform})})(0,r))),e.precondition.isNone||(t.currentDocument=(function(i,s){return s.updateTime!==void 0?{updateTime:KF(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:q(27497)})(n,e.precondition)),t}function JF(n,e){return n&&n.length>0?(he(e!==void 0,14353),n.map(t=>(function(i,s){let o=i.updateTime?Sn(i.updateTime):Sn(s);return o.isEqual(ee.min())&&(o=Sn(s)),new og(o,i.transformResults||[])})(t,e))):[]}function ZF(n,e){return{documents:[UA(n,e.path)]}}function eL(n,e){let t={structuredQuery:{}},r=e.path,i;e.collectionGroup!==null?(i=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=UA(n,i);let s=(function(d){if(d.length!==0)return $A(dn.create(d,"and"))})(e.filters);s&&(t.structuredQuery.where=s);let o=(function(d){if(d.length!==0)return d.map(f=>(function(g){return{field:Ds(g.field),direction:rL(g.dir)}})(f))})(e.orderBy);o&&(t.structuredQuery.orderBy=o);let c=pg(n,e.limit);return c!==null&&(t.structuredQuery.limit=c),e.startAt&&(t.structuredQuery.startAt=(function(d){return{before:d.inclusive,values:d.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(d){return{before:!d.inclusive,values:d.position}})(e.endAt)),{Vt:t,parent:i}}function tL(n){let e=YF(n.parent),t=n.structuredQuery,r=t.from?t.from.length:0,i=null;if(r>0){he(r===1,65062);let f=t.from[0];f.allDescendants?i=f.collectionId:e=e.child(f.collectionId)}let s=[];t.where&&(s=(function(p){let g=jA(p);return g instanceof dn&&yA(g)?g.getFilters():[g]})(t.where));let o=[];t.orderBy&&(o=(function(p){return p.map(g=>(function(R){return new Ls(Cs(R.field),(function(S){switch(S){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(R.direction))})(g))})(t.orderBy));let c=null;t.limit&&(c=(function(p){let g;return g=typeof p=="object"?p.value:p,xd(g)?null:g})(t.limit));let l=null;t.startAt&&(l=(function(p){let g=!!p.before,A=p.values||[];return new Fs(A,g)})(t.startAt));let d=null;return t.endAt&&(d=(function(p){let g=!p.before,A=p.values||[];return new Fs(A,g)})(t.endAt)),SF(e,i,o,s,c,"F",l,d)}function nL(n,e){let t=(function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return q(28987,{purpose:i})}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function jA(n){return n.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":let r=Cs(t.unaryFilter.field);return Ue.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=Cs(t.unaryFilter.field);return Ue.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let s=Cs(t.unaryFilter.field);return Ue.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let o=Cs(t.unaryFilter.field);return Ue.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return q(61313);default:return q(60726)}})(n):n.fieldFilter!==void 0?(function(t){return Ue.create(Cs(t.fieldFilter.field),(function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return q(58110);default:return q(50506)}})(t.fieldFilter.op),t.fieldFilter.value)})(n):n.compositeFilter!==void 0?(function(t){return dn.create(t.compositeFilter.filters.map(r=>jA(r)),(function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return q(1026)}})(t.compositeFilter.op))})(n):q(30097,{filter:n})}function rL(n){return qF[n]}function iL(n){return GF[n]}function sL(n){return WF[n]}function Ds(n){return{fieldPath:n.canonicalString()}}function Cs(n){return Vt.fromServerFormat(n.fieldPath)}function $A(n){return n instanceof Ue?(function(t){if(t.op==="=="){if(fT(t.value))return{unaryFilter:{field:Ds(t.field),op:"IS_NAN"}};if(hT(t.value))return{unaryFilter:{field:Ds(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(fT(t.value))return{unaryFilter:{field:Ds(t.field),op:"IS_NOT_NAN"}};if(hT(t.value))return{unaryFilter:{field:Ds(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ds(t.field),op:iL(t.op),value:t.value}}})(n):n instanceof dn?(function(t){let r=t.getFilters().map(i=>$A(i));return r.length===1?r[0]:{compositeFilter:{op:sL(t.op),filters:r}}})(n):q(54877,{filter:n})}function oL(n){let e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function zA(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}var Ja=class n{constructor(e,t,r,i,s=ee.min(),o=ee.min(),c=ct.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=c,this.expectedCount=l}withSequenceNumber(e){return new n(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var yg=class{constructor(e){this.gt=e}};function aL(n){let e=tL({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?ig(e,e.limit,"L"):e}var ad=class{constructor(){}bt(e,t){this.Dt(e,t),t.vt()}Dt(e,t){if("nullValue"in e)this.Ct(t,5);else if("booleanValue"in e)this.Ct(t,10),t.Ft(e.booleanValue?1:0);else if("integerValue"in e)this.Ct(t,15),t.Ft(we(e.integerValue));else if("doubleValue"in e){let r=we(e.doubleValue);isNaN(r)?this.Ct(t,13):(this.Ct(t,15),Wa(r)?t.Ft(0):t.Ft(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Ct(t,20),typeof r=="string"&&(r=Jn(r)),t.Mt(`${r.seconds||""}`),t.Ft(r.nanos||0)}else if("stringValue"in e)this.xt(e.stringValue,t),this.Ot(t);else if("bytesValue"in e)this.Ct(t,30),t.Nt(Zn(e.bytesValue)),this.Ot(t);else if("referenceValue"in e)this.Bt(e.referenceValue,t);else if("geoPointValue"in e){let r=e.geoPointValue;this.Ct(t,45),t.Ft(r.latitude||0),t.Ft(r.longitude||0)}else"mapValue"in e?gA(e)?this.Ct(t,Number.MAX_SAFE_INTEGER):pA(e)?this.Lt(e.mapValue,t):(this.kt(e.mapValue,t),this.Ot(t)):"arrayValue"in e?(this.qt(e.arrayValue,t),this.Ot(t)):q(19022,{Qt:e})}xt(e,t){this.Ct(t,25),this.$t(e,t)}$t(e,t){t.Mt(e)}kt(e,t){let r=e.fields||{};this.Ct(t,55);for(let i of Object.keys(r))this.xt(i,t),this.Dt(r[i],t)}Lt(e,t){var r,i;let s=e.fields||{};this.Ct(t,53);let o=Ns,c=((i=(r=s[o].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.length)||0;this.Ct(t,15),t.Ft(we(c)),this.xt(o,t),this.Dt(s[o],t)}qt(e,t){let r=e.values||[];this.Ct(t,50);for(let i of r)this.Dt(i,t)}Bt(e,t){this.Ct(t,37),z.fromName(e).path.forEach(r=>{this.Ct(t,60),this.$t(r,t)})}Ct(e,t){e.Ft(t)}Ot(e){e.Ft(2)}};ad.Ut=new ad;var bg=class{constructor(){this.Dn=new Eg}addToCollectionParentIndex(e,t){return this.Dn.add(t),P.resolve()}getCollectionParents(e,t){return P.resolve(this.Dn.getEntries(t))}addFieldIndex(e,t){return P.resolve()}deleteFieldIndex(e,t){return P.resolve()}deleteAllFieldIndexes(e){return P.resolve()}createTargetIndexes(e,t){return P.resolve()}getDocumentsMatchingTarget(e,t){return P.resolve(null)}getIndexType(e,t){return P.resolve(0)}getFieldIndexes(e,t){return P.resolve([])}getNextCollectionGroupToUpdate(e){return P.resolve(null)}getMinOffset(e,t){return P.resolve(Ti.min())}getMinOffsetFromCollectionGroup(e,t){return P.resolve(Ti.min())}updateCollectionGroup(e,t,r){return P.resolve()}updateIndexEntries(e,t){return P.resolve()}},Eg=class{constructor(){this.index={}}add(e){let t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new Ge(Ie.comparator),s=!i.has(r);return this.index[t]=i.add(r),s}has(e){let t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Ge(Ie.comparator)).toArray()}};var mH=new Uint8Array(0);var CT={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},HA=41943040,Ht=class n{static withCacheSize(e){return new n(e,n.DEFAULT_COLLECTION_PERCENTILE,n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}};Ht.DEFAULT_COLLECTION_PERCENTILE=10,Ht.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ht.DEFAULT=new Ht(HA,Ht.DEFAULT_COLLECTION_PERCENTILE,Ht.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ht.DISABLED=new Ht(-1,0,0);var Za=class n{constructor(e){this._r=e}next(){return this._r+=2,this._r}static ar(){return new n(0)}static ur(){return new n(-1)}};var ST="LruGarbageCollector",cL=1048576;function RT([n,e],[t,r]){let i=te(n,t);return i===0?te(e,r):i}var wg=class{constructor(e){this.Tr=e,this.buffer=new Ge(RT),this.Ir=0}dr(){return++this.Ir}Er(e){let t=[e,this.dr()];if(this.buffer.size<this.Tr)this.buffer=this.buffer.add(t);else{let r=this.buffer.last();RT(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}},Ig=class{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Ar=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Rr(6e4)}stop(){this.Ar&&(this.Ar.cancel(),this.Ar=null)}get started(){return this.Ar!==null}Rr(e){B(ST,`Garbage collection scheduled in ${e}ms`),this.Ar=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Ar=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Ks(t)?B(ST,"Ignoring IndexedDB error during garbage collection: ",t):await Ws(t)}await this.Rr(3e5)})}},Tg=class{constructor(e,t){this.Vr=e,this.params=t}calculateTargetCount(e,t){return this.Vr.mr(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(t===0)return P.resolve(E_.ue);let r=new wg(t);return this.Vr.forEachTarget(e,i=>r.Er(i.sequenceNumber)).next(()=>this.Vr.gr(e,i=>r.Er(i))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.Vr.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.Vr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(B("LruGarbageCollector","Garbage collection skipped; disabled"),P.resolve(CT)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(B("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),CT):this.pr(e,t))}getCacheSize(e){return this.Vr.getCacheSize(e)}pr(e,t){let r,i,s,o,c,l,d,f=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(p=>(p>this.params.maximumSequenceNumbersToCollect?(B("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${p}`),i=this.params.maximumSequenceNumbersToCollect):i=p,o=Date.now(),this.nthSequenceNumber(e,i))).next(p=>(r=p,c=Date.now(),this.removeTargets(e,r,t))).next(p=>(s=p,l=Date.now(),this.removeOrphanedDocuments(e,r))).next(p=>(d=Date.now(),Ts()<=se.DEBUG&&B("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-f}ms
	Determined least recently used ${i} in `+(c-o)+`ms
	Removed ${s} targets in `+(l-c)+`ms
	Removed ${p} documents in `+(d-l)+`ms
Total Duration: ${d-f}ms`),P.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:p})))}};function lL(n,e){return new Tg(n,e)}var Ag=class{constructor(){this.changes=new er(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,un.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();let r=this.changes.get(t);return r!==void 0?P.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var Dg=class{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}};var Cg=class{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(r!==null&&Ha(r.mutation,i,qt.empty(),je.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,ae()).next(()=>r))}getLocalViewOfDocuments(e,t,r=ae()){let i=yi();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(s=>{let o=Ba();return s.forEach((c,l)=>{o=o.insert(c,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,t){let r=yi();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,ae()))}populateOverlays(e,t,r){let i=[];return r.forEach(s=>{t.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,c)=>{t.set(o,c)})})}computeViews(e,t,r,i){let s=tr(),o=za(),c=(function(){return za()})();return t.forEach((l,d)=>{let f=r.get(d.key);i.has(d.key)&&(f===void 0||f.mutation instanceof xn)?s=s.insert(d.key,d):f!==void 0?(o.set(d.key,f.mutation.getFieldMask()),Ha(f.mutation,d,f.mutation.getFieldMask(),je.now())):o.set(d.key,qt.empty())}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((d,f)=>o.set(d,f)),t.forEach((d,f)=>{var p;return c.set(d,new Dg(f,(p=o.get(d))!==null&&p!==void 0?p:null))}),c))}recalculateAndSaveOverlays(e,t){let r=za(),i=new xe((o,c)=>o-c),s=ae();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(o=>{for(let c of o)c.keys().forEach(l=>{let d=t.get(l);if(d===null)return;let f=r.get(l)||qt.empty();f=c.applyToLocalView(d,f),r.set(l,f);let p=(i.get(c.batchId)||ae()).add(l);i=i.insert(c.batchId,p)})}).next(()=>{let o=[],c=i.getReverseIterator();for(;c.hasNext();){let l=c.getNext(),d=l.key,f=l.value,p=SA();f.forEach(g=>{if(!s.has(g)){let A=kA(t.get(g),r.get(g));A!==null&&p.set(g,A),s=s.add(g)}}),o.push(this.documentOverlayCache.saveOverlays(e,d,p))}return P.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,i){return(function(o){return z.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0})(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):IA(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,i):this.getDocumentsMatchingCollectionQuery(e,t,r,i)}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(s=>{let o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-s.size):P.resolve(yi()),c=Ga,l=s;return o.next(d=>P.forEach(d,(f,p)=>(c<p.largestBatchId&&(c=p.largestBatchId),s.get(f)?P.resolve():this.remoteDocumentCache.getEntry(e,f).next(g=>{l=l.insert(f,g)}))).next(()=>this.populateOverlays(e,d,s)).next(()=>this.computeViews(e,l,d,ae())).next(f=>({batchId:c,changes:CA(f)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new z(t)).next(r=>{let i=Ba();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r,i){let s=t.collectionGroup,o=Ba();return this.indexManager.getCollectionParents(e,s).next(c=>P.forEach(c,l=>{let d=(function(p,g){return new Ai(g,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)})(t,l.child(s));return this.getDocumentsMatchingCollectionQuery(e,d,r,i).next(f=>{f.forEach((p,g)=>{o=o.insert(p,g)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,t,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,s,i))).next(o=>{s.forEach((l,d)=>{let f=d.getKey();o.get(f)===null&&(o=o.insert(f,un.newInvalidDocument(f)))});let c=Ba();return o.forEach((l,d)=>{let f=s.get(l);f!==void 0&&Ha(f.mutation,d,qt.empty(),je.now()),Nd(t,d)&&(c=c.insert(l,d))}),c})}};var Sg=class{constructor(e){this.serializer=e,this.Br=new Map,this.Lr=new Map}getBundleMetadata(e,t){return P.resolve(this.Br.get(t))}saveBundleMetadata(e,t){return this.Br.set(t.id,(function(i){return{id:i.id,version:i.version,createTime:Sn(i.createTime)}})(t)),P.resolve()}getNamedQuery(e,t){return P.resolve(this.Lr.get(t))}saveNamedQuery(e,t){return this.Lr.set(t.name,(function(i){return{name:i.name,query:aL(i.bundledQuery),readTime:Sn(i.readTime)}})(t)),P.resolve()}};var Rg=class{constructor(){this.overlays=new xe(z.comparator),this.kr=new Map}getOverlay(e,t){return P.resolve(this.overlays.get(t))}getOverlays(e,t){let r=yi();return P.forEach(t,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,s)=>{this.wt(e,t,s)}),P.resolve()}removeOverlaysForBatchId(e,t,r){let i=this.kr.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.kr.delete(r)),P.resolve()}getOverlaysForCollection(e,t,r){let i=yi(),s=t.length+1,o=new z(t.child("")),c=this.overlays.getIteratorFrom(o);for(;c.hasNext();){let l=c.getNext().value,d=l.getKey();if(!t.isPrefixOf(d.path))break;d.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return P.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let s=new xe((d,f)=>d-f),o=this.overlays.getIterator();for(;o.hasNext();){let d=o.getNext().value;if(d.getKey().getCollectionGroup()===t&&d.largestBatchId>r){let f=s.get(d.largestBatchId);f===null&&(f=yi(),s=s.insert(d.largestBatchId,f)),f.set(d.getKey(),d)}}let c=yi(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((d,f)=>c.set(d,f)),!(c.size()>=i)););return P.resolve(c)}wt(e,t,r){let i=this.overlays.get(r.key);if(i!==null){let o=this.kr.get(i.largestBatchId).delete(r.key);this.kr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new ug(t,r));let s=this.kr.get(t);s===void 0&&(s=ae(),this.kr.set(t,s)),this.kr.set(t,s.add(r.key))}};var xg=class{constructor(){this.sessionToken=ct.EMPTY_BYTE_STRING}getSessionToken(e){return P.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,P.resolve()}};var ec=class{constructor(){this.qr=new Ge(Ve.Qr),this.$r=new Ge(Ve.Ur)}isEmpty(){return this.qr.isEmpty()}addReference(e,t){let r=new Ve(e,t);this.qr=this.qr.add(r),this.$r=this.$r.add(r)}Kr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.Wr(new Ve(e,t))}Gr(e,t){e.forEach(r=>this.removeReference(r,t))}zr(e){let t=new z(new Ie([])),r=new Ve(t,e),i=new Ve(t,e+1),s=[];return this.$r.forEachInRange([r,i],o=>{this.Wr(o),s.push(o.key)}),s}jr(){this.qr.forEach(e=>this.Wr(e))}Wr(e){this.qr=this.qr.delete(e),this.$r=this.$r.delete(e)}Jr(e){let t=new z(new Ie([])),r=new Ve(t,e),i=new Ve(t,e+1),s=ae();return this.$r.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){let t=new Ve(e,0),r=this.qr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}},Ve=class{constructor(e,t){this.key=e,this.Hr=t}static Qr(e,t){return z.comparator(e.key,t.key)||te(e.Hr,t.Hr)}static Ur(e,t){return te(e.Hr,t.Hr)||z.comparator(e.key,t.key)}};var Pg=class{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.er=1,this.Yr=new Ge(Ve.Qr)}checkEmpty(e){return P.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,i){let s=this.er;this.er++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let o=new cg(s,t,r,i);this.mutationQueue.push(o);for(let c of i)this.Yr=this.Yr.add(new Ve(c.key,s)),this.indexManager.addToCollectionParentIndex(e,c.key.path.popLast());return P.resolve(o)}lookupMutationBatch(e,t){return P.resolve(this.Zr(t))}getNextMutationBatchAfterBatchId(e,t){let r=t+1,i=this.Xr(r),s=i<0?0:i;return P.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return P.resolve(this.mutationQueue.length===0?w_:this.er-1)}getAllMutationBatches(e){return P.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){let r=new Ve(t,0),i=new Ve(t,Number.POSITIVE_INFINITY),s=[];return this.Yr.forEachInRange([r,i],o=>{let c=this.Zr(o.Hr);s.push(c)}),P.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Ge(te);return t.forEach(i=>{let s=new Ve(i,0),o=new Ve(i,Number.POSITIVE_INFINITY);this.Yr.forEachInRange([s,o],c=>{r=r.add(c.Hr)})}),P.resolve(this.ei(r))}getAllMutationBatchesAffectingQuery(e,t){let r=t.path,i=r.length+1,s=r;z.isDocumentKey(s)||(s=s.child(""));let o=new Ve(new z(s),0),c=new Ge(te);return this.Yr.forEachWhile(l=>{let d=l.key.path;return!!r.isPrefixOf(d)&&(d.length===i&&(c=c.add(l.Hr)),!0)},o),P.resolve(this.ei(c))}ei(e){let t=[];return e.forEach(r=>{let i=this.Zr(r);i!==null&&t.push(i)}),t}removeMutationBatch(e,t){he(this.ti(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Yr;return P.forEach(t.mutations,i=>{let s=new Ve(i.key,t.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Yr=r})}rr(e){}containsKey(e,t){let r=new Ve(t,0),i=this.Yr.firstAfterOrEqual(r);return P.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,P.resolve()}ti(e,t){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){let t=this.Xr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}};var Mg=class{constructor(e){this.ni=e,this.docs=(function(){return new xe(z.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){let r=t.key,i=this.docs.get(r),s=i?i.size:0,o=this.ni(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){let r=this.docs.get(t);return P.resolve(r?r.document.mutableCopy():un.newInvalidDocument(t))}getEntries(e,t){let r=tr();return t.forEach(i=>{let s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():un.newInvalidDocument(i))}),P.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let s=tr(),o=t.path,c=new z(o.child("__id-9223372036854775808__")),l=this.docs.getIteratorFrom(c);for(;l.hasNext();){let{key:d,value:{document:f}}=l.getNext();if(!o.isPrefixOf(d.path))break;d.path.length>o.length+1||lF(cF(f),r)<=0||(i.has(f.key)||Nd(t,f))&&(s=s.insert(f.key,f.mutableCopy()))}return P.resolve(s)}getAllFromCollectionGroup(e,t,r,i){q(9500)}ri(e,t){return P.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new Ng(this)}getSize(e){return P.resolve(this.size)}},Ng=class extends Ag{constructor(e){super(),this.Or=e}applyChanges(e){let t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.Or.addEntry(e,i)):this.Or.removeEntry(r)}),P.waitFor(t)}getFromCache(e,t){return this.Or.getEntry(e,t)}getAllFromCache(e,t){return this.Or.getEntries(e,t)}};var kg=class{constructor(e){this.persistence=e,this.ii=new er(t=>C_(t),S_),this.lastRemoteSnapshotVersion=ee.min(),this.highestTargetId=0,this.si=0,this.oi=new ec,this.targetCount=0,this._i=Za.ar()}forEachTarget(e,t){return this.ii.forEach((r,i)=>t(i)),P.resolve()}getLastRemoteSnapshotVersion(e){return P.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return P.resolve(this.si)}allocateTargetId(e){return this.highestTargetId=this._i.next(),P.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.si&&(this.si=t),P.resolve()}hr(e){this.ii.set(e.target,e);let t=e.targetId;t>this.highestTargetId&&(this._i=new Za(t),this.highestTargetId=t),e.sequenceNumber>this.si&&(this.si=e.sequenceNumber)}addTargetData(e,t){return this.hr(t),this.targetCount+=1,P.resolve()}updateTargetData(e,t){return this.hr(t),P.resolve()}removeTargetData(e,t){return this.ii.delete(t.target),this.oi.zr(t.targetId),this.targetCount-=1,P.resolve()}removeTargets(e,t,r){let i=0,s=[];return this.ii.forEach((o,c)=>{c.sequenceNumber<=t&&r.get(c.targetId)===null&&(this.ii.delete(o),s.push(this.removeMatchingKeysForTargetId(e,c.targetId)),i++)}),P.waitFor(s).next(()=>i)}getTargetCount(e){return P.resolve(this.targetCount)}getTargetData(e,t){let r=this.ii.get(t)||null;return P.resolve(r)}addMatchingKeys(e,t,r){return this.oi.Kr(t,r),P.resolve()}removeMatchingKeys(e,t,r){this.oi.Gr(t,r);let i=this.persistence.referenceDelegate,s=[];return i&&t.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),P.waitFor(s)}removeMatchingKeysForTargetId(e,t){return this.oi.zr(t),P.resolve()}getMatchingKeysForTargetId(e,t){let r=this.oi.Jr(t);return P.resolve(r)}containsKey(e,t){return P.resolve(this.oi.containsKey(t))}};var cd=class{constructor(e,t){this.ai={},this.overlays={},this.ui=new E_(0),this.ci=!1,this.ci=!0,this.li=new xg,this.referenceDelegate=e(this),this.hi=new kg(this),this.indexManager=new bg,this.remoteDocumentCache=(function(i){return new Mg(i)})(r=>this.referenceDelegate.Pi(r)),this.serializer=new yg(t),this.Ti=new Sg(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ci=!1,Promise.resolve()}get started(){return this.ci}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Rg,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.ai[e.toKey()];return r||(r=new Pg(t,this.referenceDelegate),this.ai[e.toKey()]=r),r}getGlobalsCache(){return this.li}getTargetCache(){return this.hi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ti}runTransaction(e,t,r){B("MemoryPersistence","Starting transaction:",e);let i=new Og(this.ui.next());return this.referenceDelegate.Ii(),r(i).next(s=>this.referenceDelegate.di(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Ei(e,t){return P.or(Object.values(this.ai).map(r=>()=>r.containsKey(e,t)))}},Og=class extends zp{constructor(e){super(),this.currentSequenceNumber=e}},Fg=class n{constructor(e){this.persistence=e,this.Ai=new ec,this.Ri=null}static Vi(e){return new n(e)}get mi(){if(this.Ri)return this.Ri;throw q(60996)}addReference(e,t,r){return this.Ai.addReference(r,t),this.mi.delete(r.toString()),P.resolve()}removeReference(e,t,r){return this.Ai.removeReference(r,t),this.mi.add(r.toString()),P.resolve()}markPotentiallyOrphaned(e,t){return this.mi.add(t.toString()),P.resolve()}removeTarget(e,t){this.Ai.zr(t.targetId).forEach(i=>this.mi.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(s=>this.mi.add(s.toString()))}).next(()=>r.removeTargetData(e,t))}Ii(){this.Ri=new Set}di(e){let t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return P.forEach(this.mi,r=>{let i=z.fromPath(r);return this.fi(e,i).next(s=>{s||t.removeEntry(i,ee.min())})}).next(()=>(this.Ri=null,t.apply(e)))}updateLimboDocument(e,t){return this.fi(e,t).next(r=>{r?this.mi.delete(t.toString()):this.mi.add(t.toString())})}Pi(e){return 0}fi(e,t){return P.or([()=>P.resolve(this.Ai.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ei(e,t)])}},ld=class n{constructor(e,t){this.persistence=e,this.gi=new er(r=>fF(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=lL(this,t)}static Vi(e,t){return new n(e,t)}Ii(){}di(e){return P.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}mr(e){let t=this.yr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}yr(e){let t=0;return this.gr(e,r=>{t++}).next(()=>t)}gr(e,t){return P.forEach(this.gi,(r,i)=>this.Sr(e,r,i).next(s=>s?P.resolve():t(i)))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0,i=this.persistence.getRemoteDocumentCache(),s=i.newChangeBuffer();return i.ri(e,o=>this.Sr(e,o,t).next(c=>{c||(r++,s.removeEntry(o,ee.min()))})).next(()=>s.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,t){return this.gi.set(t,e.currentSequenceNumber),P.resolve()}removeTarget(e,t){let r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.gi.set(r,e.currentSequenceNumber),P.resolve()}removeReference(e,t,r){return this.gi.set(r,e.currentSequenceNumber),P.resolve()}updateLimboDocument(e,t){return this.gi.set(t,e.currentSequenceNumber),P.resolve()}Pi(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=qu(e.data.value)),t}Sr(e,t,r){return P.or([()=>this.persistence.Ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{let i=this.gi.get(t);return P.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}};var Lg=class n{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.Is=r,this.ds=i}static Es(e,t){let r=ae(),i=ae();for(let s of t.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new n(e,t.fromCache,r,i)}};var Vg=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var Ug=class{constructor(){this.As=!1,this.Rs=!1,this.Vs=100,this.fs=(function(){return w0()?8:dF(He())>0?6:4})()}initialize(e,t){this.gs=e,this.indexManager=t,this.As=!0}getDocumentsMatchingQuery(e,t,r,i){let s={result:null};return this.ps(e,t).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.ys(e,t,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;let o=new Vg;return this.ws(e,t,o).next(c=>{if(s.result=c,this.Rs)return this.Ss(e,t,o,c.size)})}).next(()=>s.result)}Ss(e,t,r,i){return r.documentReadCount<this.Vs?(Ts()<=se.DEBUG&&B("QueryEngine","SDK will not create cache indexes for query:",As(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),P.resolve()):(Ts()<=se.DEBUG&&B("QueryEngine","Query:",As(t),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.fs*i?(Ts()<=se.DEBUG&&B("QueryEngine","The SDK decides to create cache indexes for query:",As(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Dn(t))):P.resolve())}ps(e,t){if(_T(t))return P.resolve(null);let r=Dn(t);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(t.limit!==null&&i===1&&(t=ig(t,null,"F"),r=Dn(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{let o=ae(...s);return this.gs.getDocuments(e,o).next(c=>this.indexManager.getMinOffset(e,r).next(l=>{let d=this.bs(t,c);return this.Ds(t,d,o,l.readTime)?this.ps(e,ig(t,null,"F")):this.vs(e,d,t,l)}))})))}ys(e,t,r,i){return _T(t)||i.isEqual(ee.min())?P.resolve(null):this.gs.getDocuments(e,r).next(s=>{let o=this.bs(t,s);return this.Ds(t,o,r,i)?P.resolve(null):(Ts()<=se.DEBUG&&B("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),As(t)),this.vs(e,o,t,aF(i,Ga)).next(c=>c))})}bs(e,t){let r=new Ge(AA(e));return t.forEach((i,s)=>{Nd(e,s)&&(r=r.add(s))}),r}Ds(e,t,r,i){if(e.limit===null)return!1;if(r.size!==t.size)return!0;let s=e.limitType==="F"?t.last():t.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}ws(e,t,r){return Ts()<=se.DEBUG&&B("QueryEngine","Using full collection scan to execute query:",As(t)),this.gs.getDocumentsMatchingQuery(e,t,Ti.min(),r)}vs(e,t,r,i){return this.gs.getDocumentsMatchingQuery(e,r,i).next(s=>(t.forEach(o=>{s=s.insert(o.key,o)}),s))}};var M_="LocalStore",uL=3e8,Bg=class{constructor(e,t,r,i){this.persistence=e,this.Cs=t,this.serializer=i,this.Fs=new xe(te),this.Ms=new er(s=>C_(s),S_),this.xs=new Map,this.Os=e.getRemoteDocumentCache(),this.hi=e.getTargetCache(),this.Ti=e.getBundleCache(),this.Ns(r)}Ns(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Cg(this.Os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Os.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Fs))}};function dL(n,e,t,r){return new Bg(n,e,t,r)}async function qA(n,e){let t=J(n);return await t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,t.Ns(e),t.mutationQueue.getAllMutationBatches(r))).next(s=>{let o=[],c=[],l=ae();for(let d of i){o.push(d.batchId);for(let f of d.mutations)l=l.add(f.key)}for(let d of s){c.push(d.batchId);for(let f of d.mutations)l=l.add(f.key)}return t.localDocuments.getDocuments(r,l).next(d=>({Bs:d,removedBatchIds:o,addedBatchIds:c}))})})}function hL(n,e){let t=J(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{let i=e.batch.keys(),s=t.Os.newChangeBuffer({trackRemovals:!0});return(function(c,l,d,f){let p=d.batch,g=p.keys(),A=P.resolve();return g.forEach(R=>{A=A.next(()=>f.getEntry(l,R)).next(M=>{let S=d.docVersions.get(R);he(S!==null,48541),M.version.compareTo(S)<0&&(p.applyToRemoteDocument(M,d),M.isValidDocument()&&(M.setReadTime(d.commitVersion),f.addEntry(M)))})}),A.next(()=>c.mutationQueue.removeMutationBatch(l,p))})(t,r,e,s).next(()=>s.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(c){let l=ae();for(let d=0;d<c.mutationResults.length;++d)c.mutationResults[d].transformResults.length>0&&(l=l.add(c.batch.mutations[d].key));return l})(e))).next(()=>t.localDocuments.getDocuments(r,i))})}function GA(n){let e=J(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.hi.getLastRemoteSnapshotVersion(t))}function fL(n,e){let t=J(n),r=e.snapshotVersion,i=t.Fs;return t.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{let o=t.Os.newChangeBuffer({trackRemovals:!0});i=t.Fs;let c=[];e.targetChanges.forEach((f,p)=>{let g=i.get(p);if(!g)return;c.push(t.hi.removeMatchingKeys(s,f.removedDocuments,p).next(()=>t.hi.addMatchingKeys(s,f.addedDocuments,p)));let A=g.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(p)!==null?A=A.withResumeToken(ct.EMPTY_BYTE_STRING,ee.min()).withLastLimboFreeSnapshotVersion(ee.min()):f.resumeToken.approximateByteSize()>0&&(A=A.withResumeToken(f.resumeToken,r)),i=i.insert(p,A),(function(M,S,F){return M.resumeToken.approximateByteSize()===0||S.snapshotVersion.toMicroseconds()-M.snapshotVersion.toMicroseconds()>=uL?!0:F.addedDocuments.size+F.modifiedDocuments.size+F.removedDocuments.size>0})(g,A,f)&&c.push(t.hi.updateTargetData(s,A))});let l=tr(),d=ae();if(e.documentUpdates.forEach(f=>{e.resolvedLimboDocuments.has(f)&&c.push(t.persistence.referenceDelegate.updateLimboDocument(s,f))}),c.push(mL(s,o,e.documentUpdates).next(f=>{l=f.Ls,d=f.ks})),!r.isEqual(ee.min())){let f=t.hi.getLastRemoteSnapshotVersion(s).next(p=>t.hi.setTargetsMetadata(s,s.currentSequenceNumber,r));c.push(f)}return P.waitFor(c).next(()=>o.apply(s)).next(()=>t.localDocuments.getLocalViewOfDocuments(s,l,d)).next(()=>l)}).then(s=>(t.Fs=i,s))}function mL(n,e,t){let r=ae(),i=ae();return t.forEach(s=>r=r.add(s)),e.getEntries(n,r).next(s=>{let o=tr();return t.forEach((c,l)=>{let d=s.get(c);l.isFoundDocument()!==d.isFoundDocument()&&(i=i.add(c)),l.isNoDocument()&&l.version.isEqual(ee.min())?(e.removeEntry(c,l.readTime),o=o.insert(c,l)):!d.isValidDocument()||l.version.compareTo(d.version)>0||l.version.compareTo(d.version)===0&&d.hasPendingWrites?(e.addEntry(l),o=o.insert(c,l)):B(M_,"Ignoring outdated watch update for ",c,". Current version:",d.version," Watch version:",l.version)}),{Ls:o,ks:i}})}function pL(n,e){let t=J(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=w_),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function gL(n,e){let t=J(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.hi.getTargetData(r,e).next(s=>s?(i=s,P.resolve(i)):t.hi.allocateTargetId(r).next(o=>(i=new Ja(e,o,"TargetPurposeListen",r.currentSequenceNumber),t.hi.addTargetData(r,i).next(()=>i))))}).then(r=>{let i=t.Fs.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.Fs=t.Fs.insert(r.targetId,r),t.Ms.set(e,r.targetId)),r})}async function jg(n,e,t){let r=J(n),i=r.Fs.get(e),s=t?"readwrite":"readwrite-primary";try{t||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!Ks(o))throw o;B(M_,`Failed to update sequence numbers for target ${e}: ${o}`)}r.Fs=r.Fs.remove(e),r.Ms.delete(i.target)}function xT(n,e,t){let r=J(n),i=ee.min(),s=ae();return r.persistence.runTransaction("Execute query","readwrite",o=>(function(l,d,f){let p=J(l),g=p.Ms.get(f);return g!==void 0?P.resolve(p.Fs.get(g)):p.hi.getTargetData(d,f)})(r,o,Dn(e)).next(c=>{if(c)return i=c.lastLimboFreeSnapshotVersion,r.hi.getMatchingKeysForTargetId(o,c.targetId).next(l=>{s=l})}).next(()=>r.Cs.getDocumentsMatchingQuery(o,e,t?i:ee.min(),t?s:ae())).next(c=>(_L(r,xF(e),c),{documents:c,qs:s})))}function _L(n,e,t){let r=n.xs.get(e)||ee.min();t.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),n.xs.set(e,r)}var ud=class{constructor(){this.activeTargetIds=FF()}Gs(e){this.activeTargetIds=this.activeTargetIds.add(e)}zs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var $g=class{constructor(){this.Fo=new ud,this.Mo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.Fo.Gs(e),this.Mo[e]||"not-current"}updateQueryState(e,t,r){this.Mo[e]=t}removeLocalQueryTarget(e){this.Fo.zs(e)}isLocalQueryTarget(e){return this.Fo.activeTargetIds.has(e)}clearQueryState(e){delete this.Mo[e]}getAllActiveQueryTargets(){return this.Fo.activeTargetIds}isActiveQueryTarget(e){return this.Fo.activeTargetIds.has(e)}start(){return this.Fo=new ud,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var zg=class{xo(e){}shutdown(){}};var PT="ConnectivityMonitor",dd=class{constructor(){this.Oo=()=>this.No(),this.Bo=()=>this.Lo(),this.ko=[],this.qo()}xo(e){this.ko.push(e)}shutdown(){window.removeEventListener("online",this.Oo),window.removeEventListener("offline",this.Bo)}qo(){window.addEventListener("online",this.Oo),window.addEventListener("offline",this.Bo)}No(){B(PT,"Network connectivity changed: AVAILABLE");for(let e of this.ko)e(0)}Lo(){B(PT,"Network connectivity changed: UNAVAILABLE");for(let e of this.ko)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var Hu=null;function Hg(){return Hu===null?Hu=(function(){return 268435456+Math.round(2147483648*Math.random())})():Hu++,"0x"+Hu.toString(16)}var Mp="RestConnection",vL={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"},qg=class{get Qo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;let t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.$o=t+"://"+e.host,this.Uo=`projects/${r}/databases/${i}`,this.Ko=this.databaseId.database===Zu?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Wo(e,t,r,i,s){let o=Hg(),c=this.Go(e,t.toUriEncodedString());B(Mp,`Sending RPC '${e}' ${o}:`,c,r);let l={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.Ko};this.zo(l,i,s);let{host:d}=new URL(c),f=Ir(d);return this.jo(e,c,l,r,f).then(p=>(B(Mp,`Received RPC '${e}' ${o}: `,p),p),p=>{throw Vr(Mp,`RPC '${e}' ${o} failed with error: `,p,"url: ",c,"request:",r),p})}Jo(e,t,r,i,s,o){return this.Wo(e,t,r,i,s)}zo(e,t,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Gs})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}Go(e,t){let r=vL[e];return`${this.$o}/v1/${t}:${r}`}terminate(){}};var Gg=class{constructor(e){this.Ho=e.Ho,this.Yo=e.Yo}Zo(e){this.Xo=e}e_(e){this.t_=e}n_(e){this.r_=e}onMessage(e){this.i_=e}close(){this.Yo()}send(e){this.Ho(e)}s_(){this.Xo()}o_(){this.t_()}__(e){this.r_(e)}a_(e){this.i_(e)}};var at="WebChannelConnection",Wg=class extends qg{constructor(e){super(e),this.u_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}jo(e,t,r,i,s){let o=Hg();return new Promise((c,l)=>{let d=new Dp;d.setWithCredentials(!0),d.listenOnce(Cp.COMPLETE,()=>{try{switch(d.getLastErrorCode()){case Ua.NO_ERROR:let p=d.getResponseJson();B(at,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(p)),c(p);break;case Ua.TIMEOUT:B(at,`RPC '${e}' ${o} timed out`),l(new V(x.DEADLINE_EXCEEDED,"Request time out"));break;case Ua.HTTP_ERROR:let g=d.getStatus();if(B(at,`RPC '${e}' ${o} failed with status:`,g,"response text:",d.getResponseText()),g>0){let A=d.getResponseJson();Array.isArray(A)&&(A=A[0]);let R=A?.error;if(R&&R.status&&R.message){let M=(function(F){let U=F.toLowerCase().replace(/_/g,"-");return Object.values(x).indexOf(U)>=0?U:x.UNKNOWN})(R.status);l(new V(M,R.message))}else l(new V(x.UNKNOWN,"Server responded with status "+d.getStatus()))}else l(new V(x.UNAVAILABLE,"Connection failed."));break;default:q(9055,{c_:e,streamId:o,l_:d.getLastErrorCode(),h_:d.getLastError()})}}finally{B(at,`RPC '${e}' ${o} completed.`)}});let f=JSON.stringify(i);B(at,`RPC '${e}' ${o} sending request:`,i),d.send(t,"POST",f,r,15)})}P_(e,t,r){let i=Hg(),s=[this.$o,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=xp(),c=Rp(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},d=this.longPollingOptions.timeoutSeconds;d!==void 0&&(l.longPollingTimeout=Math.round(1e3*d)),this.useFetchStreams&&(l.useFetchStreams=!0),this.zo(l.initMessageHeaders,t,r),l.encodeInitMessageHeaders=!0;let f=s.join("");B(at,`Creating RPC '${e}' stream ${i}: ${f}`,l);let p=o.createWebChannel(f,l);this.T_(p);let g=!1,A=!1,R=new Gg({Ho:S=>{A?B(at,`Not sending because RPC '${e}' stream ${i} is closed:`,S):(g||(B(at,`Opening RPC '${e}' stream ${i} transport.`),p.open(),g=!0),B(at,`RPC '${e}' stream ${i} sending:`,S),p.send(S))},Yo:()=>p.close()}),M=(S,F,U)=>{S.listen(F,j=>{try{U(j)}catch(G){setTimeout(()=>{throw G},0)}})};return M(p,Is.EventType.OPEN,()=>{A||(B(at,`RPC '${e}' stream ${i} transport opened.`),R.s_())}),M(p,Is.EventType.CLOSE,()=>{A||(A=!0,B(at,`RPC '${e}' stream ${i} transport closed`),R.__(),this.I_(p))}),M(p,Is.EventType.ERROR,S=>{A||(A=!0,Vr(at,`RPC '${e}' stream ${i} transport errored. Name:`,S.name,"Message:",S.message),R.__(new V(x.UNAVAILABLE,"The operation could not be completed")))}),M(p,Is.EventType.MESSAGE,S=>{var F;if(!A){let U=S.data[0];he(!!U,16349);let j=U,G=j?.error||((F=j[0])===null||F===void 0?void 0:F.error);if(G){B(at,`RPC '${e}' stream ${i} received error:`,G);let ve=G.status,re=(function(y){let E=Le[y];if(E!==void 0)return FA(E)})(ve),w=G.message;re===void 0&&(re=x.INTERNAL,w="Unknown error status: "+ve+" with message "+G.message),A=!0,R.__(new V(re,w)),p.close()}else B(at,`RPC '${e}' stream ${i} received:`,U),R.a_(U)}}),M(c,Sp.STAT_EVENT,S=>{S.stat===ju.PROXY?B(at,`RPC '${e}' stream ${i} detected buffering proxy`):S.stat===ju.NOPROXY&&B(at,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{R.o_()},0),R}terminate(){this.u_.forEach(e=>e.close()),this.u_=[]}T_(e){this.u_.push(e)}I_(e){this.u_=this.u_.filter(t=>t===e)}};function Np(){return typeof document<"u"?document:null}function kd(n){return new mg(n,!0)}var hd=class{constructor(e,t,r=1e3,i=1.5,s=6e4){this.Fi=e,this.timerId=t,this.d_=r,this.E_=i,this.A_=s,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(e){this.cancel();let t=Math.floor(this.R_+this.p_()),r=Math.max(0,Date.now()-this.m_),i=Math.max(0,t-r);i>0&&B("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.R_} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,i,()=>(this.m_=Date.now(),e())),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){this.V_!==null&&(this.V_.skipDelay(),this.V_=null)}cancel(){this.V_!==null&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}};var MT="PersistentStream",fd=class{constructor(e,t,r,i,s,o,c,l){this.Fi=e,this.w_=r,this.S_=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=c,this.listener=l,this.state=0,this.b_=0,this.D_=null,this.v_=null,this.stream=null,this.C_=0,this.F_=new hd(e,t)}M_(){return this.state===1||this.state===5||this.x_()}x_(){return this.state===2||this.state===3}start(){this.C_=0,this.state!==4?this.auth():this.O_()}async stop(){this.M_()&&await this.close(0)}N_(){this.state=0,this.F_.reset()}B_(){this.x_()&&this.D_===null&&(this.D_=this.Fi.enqueueAfterDelay(this.w_,6e4,()=>this.L_()))}k_(e){this.q_(),this.stream.send(e)}async L_(){if(this.x_())return this.close(0)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}Q_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.q_(),this.Q_(),this.F_.cancel(),this.b_++,e!==4?this.F_.reset():t&&t.code===x.RESOURCE_EXHAUSTED?(Xn(t.toString()),Xn("Using maximum backoff delay to prevent overloading the backend."),this.F_.f_()):t&&t.code===x.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.U_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.n_(t)}U_(){}auth(){this.state=1;let e=this.K_(this.b_),t=this.b_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.b_===t&&this.W_(r,i)},r=>{e(()=>{let i=new V(x.UNKNOWN,"Fetching auth token failed: "+r.message);return this.G_(i)})})}W_(e,t){let r=this.K_(this.b_);this.stream=this.z_(e,t),this.stream.Zo(()=>{r(()=>this.listener.Zo())}),this.stream.e_(()=>{r(()=>(this.state=2,this.v_=this.Fi.enqueueAfterDelay(this.S_,1e4,()=>(this.x_()&&(this.state=3),Promise.resolve())),this.listener.e_()))}),this.stream.n_(i=>{r(()=>this.G_(i))}),this.stream.onMessage(i=>{r(()=>++this.C_==1?this.j_(i):this.onNext(i))})}O_(){this.state=5,this.F_.g_(async()=>{this.state=0,this.start()})}G_(e){return B(MT,`close with error: ${e}`),this.stream=null,this.close(4,e)}K_(e){return t=>{this.Fi.enqueueAndForget(()=>this.b_===e?t():(B(MT,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},Kg=class extends fd{constructor(e,t,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,o),this.serializer=s}z_(e,t){return this.connection.P_("Listen",e,t)}j_(e){return this.onNext(e)}onNext(e){this.F_.reset();let t=QF(this.serializer,e),r=(function(s){if(!("targetChange"in s))return ee.min();let o=s.targetChange;return o.targetIds&&o.targetIds.length?ee.min():o.readTime?Sn(o.readTime):ee.min()})(e);return this.listener.J_(t,r)}H_(e){let t={};t.database=vg(this.serializer),t.addTarget=(function(s,o){let c,l=o.target;if(c=ng(l)?{documents:ZF(s,l)}:{query:eL(s,l).Vt},c.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){c.resumeToken=LA(s,o.resumeToken);let d=pg(s,o.expectedCount);d!==null&&(c.expectedCount=d)}else if(o.snapshotVersion.compareTo(ee.min())>0){c.readTime=od(s,o.snapshotVersion.toTimestamp());let d=pg(s,o.expectedCount);d!==null&&(c.expectedCount=d)}return c})(this.serializer,e);let r=nL(this.serializer,e);r&&(t.labels=r),this.k_(t)}Y_(e){let t={};t.database=vg(this.serializer),t.removeTarget=e,this.k_(t)}},Yg=class extends fd{constructor(e,t,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,o),this.serializer=s}get Z_(){return this.C_>0}start(){this.lastStreamToken=void 0,super.start()}U_(){this.Z_&&this.X_([])}z_(e,t){return this.connection.P_("Write",e,t)}j_(e){return he(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,he(!e.writeResults||e.writeResults.length===0,55816),this.listener.ea()}onNext(e){he(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.F_.reset();let t=JF(e.writeResults,e.commitTime),r=Sn(e.commitTime);return this.listener.ta(r,t)}na(){let e={};e.database=vg(this.serializer),this.k_(e)}X_(e){let t={streamToken:this.lastStreamToken,writes:e.map(r=>XF(this.serializer,r))};this.k_(t)}};var Qg=class{},Xg=class extends Qg{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.ra=!1}ia(){if(this.ra)throw new V(x.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,t,r,i){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Wo(e,gg(t,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===x.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new V(x.UNKNOWN,s.toString())})}Jo(e,t,r,i,s){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,c])=>this.connection.Jo(e,gg(t,r),i,o,c,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===x.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new V(x.UNKNOWN,o.toString())})}terminate(){this.ra=!0,this.connection.terminate()}},Jg=class{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.sa=0,this.oa=null,this._a=!0}aa(){this.sa===0&&(this.ua("Unknown"),this.oa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.oa=null,this.ca("Backend didn't respond within 10 seconds."),this.ua("Offline"),Promise.resolve())))}la(e){this.state==="Online"?this.ua("Unknown"):(this.sa++,this.sa>=1&&(this.ha(),this.ca(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ua("Offline")))}set(e){this.ha(),this.sa=0,e==="Online"&&(this._a=!1),this.ua(e)}ua(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ca(e){let t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this._a?(Xn(t),this._a=!1):B("OnlineStateTracker",t)}ha(){this.oa!==null&&(this.oa.cancel(),this.oa=null)}};var xi="RemoteStore",Zg=class{constructor(e,t,r,i,s){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Pa=[],this.Ta=new Map,this.Ia=new Set,this.da=[],this.Ea=s,this.Ea.xo(o=>{r.enqueueAndForget(async()=>{Pi(this)&&(B(xi,"Restarting streams for network reachability change."),await(async function(l){let d=J(l);d.Ia.add(4),await rc(d),d.Aa.set("Unknown"),d.Ia.delete(4),await Od(d)})(this))})}),this.Aa=new Jg(r,i)}};async function Od(n){if(Pi(n))for(let e of n.da)await e(!0)}async function rc(n){for(let e of n.da)await e(!1)}function WA(n,e){let t=J(n);t.Ta.has(e.targetId)||(t.Ta.set(e.targetId,e),F_(t)?O_(t):Ys(t).x_()&&k_(t,e))}function N_(n,e){let t=J(n),r=Ys(t);t.Ta.delete(e),r.x_()&&KA(t,e),t.Ta.size===0&&(r.x_()?r.B_():Pi(t)&&t.Aa.set("Unknown"))}function k_(n,e){if(n.Ra.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ee.min())>0){let t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Ys(n).H_(e)}function KA(n,e){n.Ra.$e(e),Ys(n).Y_(e)}function O_(n){n.Ra=new fg({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>n.Ta.get(e)||null,lt:()=>n.datastore.serializer.databaseId}),Ys(n).start(),n.Aa.aa()}function F_(n){return Pi(n)&&!Ys(n).M_()&&n.Ta.size>0}function Pi(n){return J(n).Ia.size===0}function YA(n){n.Ra=void 0}async function yL(n){n.Aa.set("Online")}async function bL(n){n.Ta.forEach((e,t)=>{k_(n,e)})}async function EL(n,e){YA(n),F_(n)?(n.Aa.la(e),O_(n)):n.Aa.set("Unknown")}async function wL(n,e,t){if(n.Aa.set("Online"),e instanceof id&&e.state===2&&e.cause)try{await(async function(i,s){let o=s.cause;for(let c of s.targetIds)i.Ta.has(c)&&(await i.remoteSyncer.rejectListen(c,o),i.Ta.delete(c),i.Ra.removeTarget(c))})(n,e)}catch(r){B(xi,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await md(n,r)}else if(e instanceof Rs?n.Ra.Ye(e):e instanceof rd?n.Ra.it(e):n.Ra.et(e),!t.isEqual(ee.min()))try{let r=await GA(n.localStore);t.compareTo(r)>=0&&await(function(s,o){let c=s.Ra.Pt(o);return c.targetChanges.forEach((l,d)=>{if(l.resumeToken.approximateByteSize()>0){let f=s.Ta.get(d);f&&s.Ta.set(d,f.withResumeToken(l.resumeToken,o))}}),c.targetMismatches.forEach((l,d)=>{let f=s.Ta.get(l);if(!f)return;s.Ta.set(l,f.withResumeToken(ct.EMPTY_BYTE_STRING,f.snapshotVersion)),KA(s,l);let p=new Ja(f.target,l,d,f.sequenceNumber);k_(s,p)}),s.remoteSyncer.applyRemoteEvent(c)})(n,t)}catch(r){B(xi,"Failed to raise snapshot:",r),await md(n,r)}}async function md(n,e,t){if(!Ks(e))throw e;n.Ia.add(1),await rc(n),n.Aa.set("Offline"),t||(t=()=>GA(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{B(xi,"Retrying IndexedDB access"),await t(),n.Ia.delete(1),await Od(n)})}function QA(n,e){return e().catch(t=>md(n,t,e))}async function Fd(n){let e=J(n),t=Br(e),r=e.Pa.length>0?e.Pa[e.Pa.length-1].batchId:w_;for(;IL(e);)try{let i=await pL(e.localStore,r);if(i===null){e.Pa.length===0&&t.B_();break}r=i.batchId,TL(e,i)}catch(i){await md(e,i)}XA(e)&&JA(e)}function IL(n){return Pi(n)&&n.Pa.length<10}function TL(n,e){n.Pa.push(e);let t=Br(n);t.x_()&&t.Z_&&t.X_(e.mutations)}function XA(n){return Pi(n)&&!Br(n).M_()&&n.Pa.length>0}function JA(n){Br(n).start()}async function AL(n){Br(n).na()}async function DL(n){let e=Br(n);for(let t of n.Pa)e.X_(t.mutations)}async function CL(n,e,t){let r=n.Pa.shift(),i=lg.from(r,e,t);await QA(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),await Fd(n)}async function SL(n,e){e&&Br(n).Z_&&await(async function(r,i){if((function(o){return zF(o)&&o!==x.ABORTED})(i.code)){let s=r.Pa.shift();Br(r).N_(),await QA(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await Fd(r)}})(n,e),XA(n)&&JA(n)}async function NT(n,e){let t=J(n);t.asyncQueue.verifyOperationInProgress(),B(xi,"RemoteStore received new credentials");let r=Pi(t);t.Ia.add(3),await rc(t),r&&t.Aa.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ia.delete(3),await Od(t)}async function RL(n,e){let t=J(n);e?(t.Ia.delete(2),await Od(t)):e||(t.Ia.add(2),await rc(t),t.Aa.set("Unknown"))}function Ys(n){return n.Va||(n.Va=(function(t,r,i){let s=J(t);return s.ia(),new Kg(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)})(n.datastore,n.asyncQueue,{Zo:yL.bind(null,n),e_:bL.bind(null,n),n_:EL.bind(null,n),J_:wL.bind(null,n)}),n.da.push(async e=>{e?(n.Va.N_(),F_(n)?O_(n):n.Aa.set("Unknown")):(await n.Va.stop(),YA(n))})),n.Va}function Br(n){return n.ma||(n.ma=(function(t,r,i){let s=J(t);return s.ia(),new Yg(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)})(n.datastore,n.asyncQueue,{Zo:()=>Promise.resolve(),e_:AL.bind(null,n),n_:SL.bind(null,n),ea:DL.bind(null,n),ta:CL.bind(null,n)}),n.da.push(async e=>{e?(n.ma.N_(),await Fd(n)):(await n.ma.stop(),n.Pa.length>0&&(B(xi,`Stopping write stream with ${n.Pa.length} pending writes`),n.Pa=[]))})),n.ma}var e_=class n{constructor(e,t,r,i,s){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new cn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,i,s){let o=Date.now()+r,c=new n(e,t,o,i,s);return c.start(r),c}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new V(x.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function L_(n,e){if(Xn("AsyncQueue",`${e}: ${n}`),Ks(n))return new V(x.UNAVAILABLE,`${e}: ${n}`);throw n}var pd=class n{static emptySet(e){return new n(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||z.comparator(t.key,r.key):(t,r)=>z.comparator(t.key,r.key),this.keyedMap=Ba(),this.sortedSet=new xe(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){let t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){let t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){let i=t.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){let e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){let r=new n;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}};var gd=class{constructor(){this.fa=new xe(z.comparator)}track(e){let t=e.doc.key,r=this.fa.get(t);r?e.type!==0&&r.type===3?this.fa=this.fa.insert(t,e):e.type===3&&r.type!==1?this.fa=this.fa.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.fa=this.fa.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.fa=this.fa.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.fa=this.fa.remove(t):e.type===1&&r.type===2?this.fa=this.fa.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.fa=this.fa.insert(t,{type:2,doc:e.doc}):q(63341,{At:e,ga:r}):this.fa=this.fa.insert(t,e)}pa(){let e=[];return this.fa.inorderTraversal((t,r)=>{e.push(r)}),e}},js=class n{constructor(e,t,r,i,s,o,c,l,d){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=c,this.excludesMetadataChanges=l,this.hasCachedResults=d}static fromInitialDocuments(e,t,r,i,s){let o=[];return t.forEach(c=>{o.push({type:0,doc:c})}),new n(e,t,pd.emptySet(t),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Md(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}};var t_=class{constructor(){this.ya=void 0,this.wa=[]}Sa(){return this.wa.some(e=>e.ba())}},n_=class{constructor(){this.queries=kT(),this.onlineState="Unknown",this.Da=new Set}terminate(){(function(t,r){let i=J(t),s=i.queries;i.queries=kT(),s.forEach((o,c)=>{for(let l of c.wa)l.onError(r)})})(this,new V(x.ABORTED,"Firestore shutting down"))}};function kT(){return new er(n=>TA(n),Md)}async function ZA(n,e){let t=J(n),r=3,i=e.query,s=t.queries.get(i);s?!s.Sa()&&e.ba()&&(r=2):(s=new t_,r=e.ba()?0:1);try{switch(r){case 0:s.ya=await t.onListen(i,!0);break;case 1:s.ya=await t.onListen(i,!1);break;case 2:await t.onFirstRemoteStoreListen(i)}}catch(o){let c=L_(o,`Initialization of query '${As(e.query)}' failed`);return void e.onError(c)}t.queries.set(i,s),s.wa.push(e),e.va(t.onlineState),s.ya&&e.Ca(s.ya)&&V_(t)}async function eD(n,e){let t=J(n),r=e.query,i=3,s=t.queries.get(r);if(s){let o=s.wa.indexOf(e);o>=0&&(s.wa.splice(o,1),s.wa.length===0?i=e.ba()?0:1:!s.Sa()&&e.ba()&&(i=2))}switch(i){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}}function xL(n,e){let t=J(n),r=!1;for(let i of e){let s=i.query,o=t.queries.get(s);if(o){for(let c of o.wa)c.Ca(i)&&(r=!0);o.ya=i}}r&&V_(t)}function PL(n,e,t){let r=J(n),i=r.queries.get(e);if(i)for(let s of i.wa)s.onError(t);r.queries.delete(e)}function V_(n){n.Da.forEach(e=>{e.next()})}var r_,OT;(OT=r_||(r_={})).Fa="default",OT.Cache="cache";var _d=class{constructor(e,t,r){this.query=e,this.Ma=t,this.xa=!1,this.Oa=null,this.onlineState="Unknown",this.options=r||{}}Ca(e){if(!this.options.includeMetadataChanges){let r=[];for(let i of e.docChanges)i.type!==3&&r.push(i);e=new js(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.xa?this.Na(e)&&(this.Ma.next(e),t=!0):this.Ba(e,this.onlineState)&&(this.La(e),t=!0),this.Oa=e,t}onError(e){this.Ma.error(e)}va(e){this.onlineState=e;let t=!1;return this.Oa&&!this.xa&&this.Ba(this.Oa,e)&&(this.La(this.Oa),t=!0),t}Ba(e,t){if(!e.fromCache||!this.ba())return!0;let r=t!=="Offline";return(!this.options.ka||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Na(e){if(e.docChanges.length>0)return!0;let t=this.Oa&&this.Oa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}La(e){e=js.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.xa=!0,this.Ma.next(e)}ba(){return this.options.source!==r_.Cache}};var vd=class{constructor(e){this.key=e}},yd=class{constructor(e){this.key=e}},i_=class{constructor(e,t){this.query=e,this.Ha=t,this.Ya=null,this.hasCachedResults=!1,this.current=!1,this.Za=ae(),this.mutatedKeys=ae(),this.Xa=AA(e),this.eu=new pd(this.Xa)}get tu(){return this.Ha}nu(e,t){let r=t?t.ru:new gd,i=t?t.eu:this.eu,s=t?t.mutatedKeys:this.mutatedKeys,o=i,c=!1,l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,d=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((f,p)=>{let g=i.get(f),A=Nd(this.query,p)?p:null,R=!!g&&this.mutatedKeys.has(g.key),M=!!A&&(A.hasLocalMutations||this.mutatedKeys.has(A.key)&&A.hasCommittedMutations),S=!1;g&&A?g.data.isEqual(A.data)?R!==M&&(r.track({type:3,doc:A}),S=!0):this.iu(g,A)||(r.track({type:2,doc:A}),S=!0,(l&&this.Xa(A,l)>0||d&&this.Xa(A,d)<0)&&(c=!0)):!g&&A?(r.track({type:0,doc:A}),S=!0):g&&!A&&(r.track({type:1,doc:g}),S=!0,(l||d)&&(c=!0)),S&&(A?(o=o.add(A),s=M?s.add(f):s.delete(f)):(o=o.delete(f),s=s.delete(f)))}),this.query.limit!==null)for(;o.size>this.query.limit;){let f=this.query.limitType==="F"?o.last():o.first();o=o.delete(f.key),s=s.delete(f.key),r.track({type:1,doc:f})}return{eu:o,ru:r,Ds:c,mutatedKeys:s}}iu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,i){let s=this.eu;this.eu=e.eu,this.mutatedKeys=e.mutatedKeys;let o=e.ru.pa();o.sort((f,p)=>(function(A,R){let M=S=>{switch(S){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return q(20277,{At:S})}};return M(A)-M(R)})(f.type,p.type)||this.Xa(f.doc,p.doc)),this.su(r),i=i!=null&&i;let c=t&&!i?this.ou():[],l=this.Za.size===0&&this.current&&!i?1:0,d=l!==this.Ya;return this.Ya=l,o.length!==0||d?{snapshot:new js(this.query,e.eu,s,o,e.mutatedKeys,l===0,d,!1,!!r&&r.resumeToken.approximateByteSize()>0),_u:c}:{_u:c}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({eu:this.eu,ru:new gd,mutatedKeys:this.mutatedKeys,Ds:!1},!1)):{_u:[]}}au(e){return!this.Ha.has(e)&&!!this.eu.has(e)&&!this.eu.get(e).hasLocalMutations}su(e){e&&(e.addedDocuments.forEach(t=>this.Ha=this.Ha.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ha=this.Ha.delete(t)),this.current=e.current)}ou(){if(!this.current)return[];let e=this.Za;this.Za=ae(),this.eu.forEach(r=>{this.au(r.key)&&(this.Za=this.Za.add(r.key))});let t=[];return e.forEach(r=>{this.Za.has(r)||t.push(new yd(r))}),this.Za.forEach(r=>{e.has(r)||t.push(new vd(r))}),t}uu(e){this.Ha=e.qs,this.Za=ae();let t=this.nu(e.documents);return this.applyChanges(t,!0)}cu(){return js.fromInitialDocuments(this.query,this.eu,this.mutatedKeys,this.Ya===0,this.hasCachedResults)}},U_="SyncEngine",s_=class{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}},o_=class{constructor(e){this.key=e,this.lu=!1}},a_=class{constructor(e,t,r,i,s,o){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.hu={},this.Pu=new er(c=>TA(c),Md),this.Tu=new Map,this.Iu=new Set,this.du=new xe(z.comparator),this.Eu=new Map,this.Au=new ec,this.Ru={},this.Vu=new Map,this.mu=Za.ur(),this.onlineState="Unknown",this.fu=void 0}get isPrimaryClient(){return this.fu===!0}};async function ML(n,e,t=!0){let r=oD(n),i,s=r.Pu.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.cu()):i=await tD(r,e,t,!0),i}async function NL(n,e){let t=oD(n);await tD(t,e,!0,!1)}async function tD(n,e,t,r){let i=await gL(n.localStore,Dn(e)),s=i.targetId,o=n.sharedClientState.addLocalQueryTarget(s,t),c;return r&&(c=await kL(n,e,s,o==="current",i.resumeToken)),n.isPrimaryClient&&t&&WA(n.remoteStore,i),c}async function kL(n,e,t,r,i){n.gu=(p,g,A)=>(async function(M,S,F,U){let j=S.view.nu(F);j.Ds&&(j=await xT(M.localStore,S.query,!1).then(({documents:w})=>S.view.nu(w,j)));let G=U&&U.targetChanges.get(S.targetId),ve=U&&U.targetMismatches.get(S.targetId)!=null,re=S.view.applyChanges(j,M.isPrimaryClient,G,ve);return LT(M,S.targetId,re._u),re.snapshot})(n,p,g,A);let s=await xT(n.localStore,e,!0),o=new i_(e,s.qs),c=o.nu(s.documents),l=Xa.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",i),d=o.applyChanges(c,n.isPrimaryClient,l);LT(n,t,d._u);let f=new s_(e,t,o);return n.Pu.set(e,f),n.Tu.has(t)?n.Tu.get(t).push(e):n.Tu.set(t,[e]),d.snapshot}async function OL(n,e,t){let r=J(n),i=r.Pu.get(e),s=r.Tu.get(i.targetId);if(s.length>1)return r.Tu.set(i.targetId,s.filter(o=>!Md(o,e))),void r.Pu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await jg(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),t&&N_(r.remoteStore,i.targetId),c_(r,i.targetId)}).catch(Ws)):(c_(r,i.targetId),await jg(r.localStore,i.targetId,!0))}async function FL(n,e){let t=J(n),r=t.Pu.get(e),i=t.Tu.get(r.targetId);t.isPrimaryClient&&i.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),N_(t.remoteStore,r.targetId))}async function LL(n,e,t){let r=HL(n);try{let i=await(function(o,c){let l=J(o),d=je.now(),f=c.reduce((A,R)=>A.add(R.key),ae()),p,g;return l.persistence.runTransaction("Locally write mutations","readwrite",A=>{let R=tr(),M=ae();return l.Os.getEntries(A,f).next(S=>{R=S,R.forEach((F,U)=>{U.isValidDocument()||(M=M.add(F))})}).next(()=>l.localDocuments.getOverlayedDocuments(A,R)).next(S=>{p=S;let F=[];for(let U of c){let j=$F(U,p.get(U.key).overlayedDocument);j!=null&&F.push(new xn(U.key,j,_A(j.value.mapValue),Cn.exists(!0)))}return l.mutationQueue.addMutationBatch(A,d,F,c)}).next(S=>{g=S;let F=S.applyToLocalDocumentSet(p,M);return l.documentOverlayCache.saveOverlays(A,S.batchId,F)})}).then(()=>({batchId:g.batchId,changes:CA(p)}))})(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),(function(o,c,l){let d=o.Ru[o.currentUser.toKey()];d||(d=new xe(te)),d=d.insert(c,l),o.Ru[o.currentUser.toKey()]=d})(r,i.batchId,t),await ic(r,i.changes),await Fd(r.remoteStore)}catch(i){let s=L_(i,"Failed to persist write");t.reject(s)}}async function nD(n,e){let t=J(n);try{let r=await fL(t.localStore,e);e.targetChanges.forEach((i,s)=>{let o=t.Eu.get(s);o&&(he(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?o.lu=!0:i.modifiedDocuments.size>0?he(o.lu,14607):i.removedDocuments.size>0&&(he(o.lu,42227),o.lu=!1))}),await ic(t,r,e)}catch(r){await Ws(r)}}function FT(n,e,t){let r=J(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){let i=[];r.Pu.forEach((s,o)=>{let c=o.view.va(e);c.snapshot&&i.push(c.snapshot)}),(function(o,c){let l=J(o);l.onlineState=c;let d=!1;l.queries.forEach((f,p)=>{for(let g of p.wa)g.va(c)&&(d=!0)}),d&&V_(l)})(r.eventManager,e),i.length&&r.hu.J_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function VL(n,e,t){let r=J(n);r.sharedClientState.updateQueryState(e,"rejected",t);let i=r.Eu.get(e),s=i&&i.key;if(s){let o=new xe(z.comparator);o=o.insert(s,un.newNoDocument(s,ee.min()));let c=ae().add(s),l=new nd(ee.min(),new Map,new xe(te),o,c);await nD(r,l),r.du=r.du.remove(s),r.Eu.delete(e),B_(r)}else await jg(r.localStore,e,!1).then(()=>c_(r,e,t)).catch(Ws)}async function UL(n,e){let t=J(n),r=e.batch.batchId;try{let i=await hL(t.localStore,e);iD(t,r,null),rD(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),await ic(t,i)}catch(i){await Ws(i)}}async function BL(n,e,t){let r=J(n);try{let i=await(function(o,c){let l=J(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",d=>{let f;return l.mutationQueue.lookupMutationBatch(d,c).next(p=>(he(p!==null,37113),f=p.keys(),l.mutationQueue.removeMutationBatch(d,p))).next(()=>l.mutationQueue.performConsistencyCheck(d)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(d,f,c)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(d,f)).next(()=>l.localDocuments.getDocuments(d,f))})})(r.localStore,e);iD(r,e,t),rD(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),await ic(r,i)}catch(i){await Ws(i)}}function rD(n,e){(n.Vu.get(e)||[]).forEach(t=>{t.resolve()}),n.Vu.delete(e)}function iD(n,e,t){let r=J(n),i=r.Ru[r.currentUser.toKey()];if(i){let s=i.get(e);s&&(t?s.reject(t):s.resolve(),i=i.remove(e)),r.Ru[r.currentUser.toKey()]=i}}function c_(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(let r of n.Tu.get(e))n.Pu.delete(r),t&&n.hu.pu(r,t);n.Tu.delete(e),n.isPrimaryClient&&n.Au.zr(e).forEach(r=>{n.Au.containsKey(r)||sD(n,r)})}function sD(n,e){n.Iu.delete(e.path.canonicalString());let t=n.du.get(e);t!==null&&(N_(n.remoteStore,t),n.du=n.du.remove(e),n.Eu.delete(t),B_(n))}function LT(n,e,t){for(let r of t)r instanceof vd?(n.Au.addReference(r.key,e),jL(n,r)):r instanceof yd?(B(U_,"Document no longer in limbo: "+r.key),n.Au.removeReference(r.key,e),n.Au.containsKey(r.key)||sD(n,r.key)):q(19791,{yu:r})}function jL(n,e){let t=e.key,r=t.path.canonicalString();n.du.get(t)||n.Iu.has(r)||(B(U_,"New document in limbo: "+t),n.Iu.add(r),B_(n))}function B_(n){for(;n.Iu.size>0&&n.du.size<n.maxConcurrentLimboResolutions;){let e=n.Iu.values().next().value;n.Iu.delete(e);let t=new z(Ie.fromString(e)),r=n.mu.next();n.Eu.set(r,new o_(t)),n.du=n.du.insert(t,r),WA(n.remoteStore,new Ja(Dn(R_(t.path)),r,"TargetPurposeLimboResolution",E_.ue))}}async function ic(n,e,t){let r=J(n),i=[],s=[],o=[];r.Pu.isEmpty()||(r.Pu.forEach((c,l)=>{o.push(r.gu(l,e,t).then(d=>{var f;if((d||t)&&r.isPrimaryClient){let p=d?!d.fromCache:(f=t?.targetChanges.get(l.targetId))===null||f===void 0?void 0:f.current;r.sharedClientState.updateQueryState(l.targetId,p?"current":"not-current")}if(d){i.push(d);let p=Lg.Es(l.targetId,d);s.push(p)}}))}),await Promise.all(o),r.hu.J_(i),await(async function(l,d){let f=J(l);try{await f.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>P.forEach(d,g=>P.forEach(g.Is,A=>f.persistence.referenceDelegate.addReference(p,g.targetId,A)).next(()=>P.forEach(g.ds,A=>f.persistence.referenceDelegate.removeReference(p,g.targetId,A)))))}catch(p){if(!Ks(p))throw p;B(M_,"Failed to update sequence numbers: "+p)}for(let p of d){let g=p.targetId;if(!p.fromCache){let A=f.Fs.get(g),R=A.snapshotVersion,M=A.withLastLimboFreeSnapshotVersion(R);f.Fs=f.Fs.insert(g,M)}}})(r.localStore,s))}async function $L(n,e){let t=J(n);if(!t.currentUser.isEqual(e)){B(U_,"User change. New user:",e.toKey());let r=await qA(t.localStore,e);t.currentUser=e,(function(s,o){s.Vu.forEach(c=>{c.forEach(l=>{l.reject(new V(x.CANCELLED,o))})}),s.Vu.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await ic(t,r.Bs)}}function zL(n,e){let t=J(n),r=t.Eu.get(e);if(r&&r.lu)return ae().add(r.key);{let i=ae(),s=t.Tu.get(e);if(!s)return i;for(let o of s){let c=t.Pu.get(o);i=i.unionWith(c.view.tu)}return i}}function oD(n){let e=J(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=nD.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=zL.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=VL.bind(null,e),e.hu.J_=xL.bind(null,e.eventManager),e.hu.pu=PL.bind(null,e.eventManager),e}function HL(n){let e=J(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=UL.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=BL.bind(null,e),e}var aD=(()=>{class n{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=kd(t.databaseInfo.databaseId),this.sharedClientState=this.bu(t),this.persistence=this.Du(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Cu(t,this.localStore),this.indexBackfillerScheduler=this.Fu(t,this.localStore)}Cu(t,r){return null}Fu(t,r){return null}vu(t){return dL(this.persistence,new Ug,t.initialUser,this.serializer)}Du(t){return new cd(Fg.Vi,this.serializer)}bu(t){return new $g}async terminate(){var t,r;(t=this.gcScheduler)===null||t===void 0||t.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}return n.provider={build:()=>new n},n})(),l_=class extends aD{constructor(e){super(),this.cacheSizeBytes=e}Cu(e,t){he(this.persistence.referenceDelegate instanceof ld,46915);let r=this.persistence.referenceDelegate.garbageCollector;return new Ig(r,e.asyncQueue,t)}Du(e){let t=this.cacheSizeBytes!==void 0?Ht.withCacheSize(this.cacheSizeBytes):Ht.DEFAULT;return new cd(r=>ld.Vi(r,t),this.serializer)}};var qL=(()=>{class n{async initialize(t,r){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>FT(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=$L.bind(null,this.syncEngine),await RL(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new n_})()}createDatastore(t){let r=kd(t.databaseInfo.databaseId),i=(function(o){return new Wg(o)})(t.databaseInfo);return(function(o,c,l,d){return new Xg(o,c,l,d)})(t.authCredentials,t.appCheckCredentials,i,r)}createRemoteStore(t){return(function(i,s,o,c,l){return new Zg(i,s,o,c,l)})(this.localStore,this.datastore,t.asyncQueue,r=>FT(this.syncEngine,r,0),(function(){return dd.C()?new dd:new zg})())}createSyncEngine(t,r){return(function(s,o,c,l,d,f,p){let g=new a_(s,o,c,l,d,f);return p&&(g.fu=!0),g})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,r)}async terminate(){var t,r;await(async function(s){let o=J(s);B(xi,"RemoteStore shutting down."),o.Ia.add(5),await rc(o),o.Ea.shutdown(),o.Aa.set("Unknown")})(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()}}return n.provider={build:()=>new n},n})();var bd=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.xu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.xu(this.observer.error,e):Xn("Uncaught Error in snapshot listener:",e.toString()))}Ou(){this.muted=!0}xu(e,t){setTimeout(()=>{this.muted||e(t)},0)}};var jr="FirestoreClient",u_=class{constructor(e,t,r,i,s){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=qe.UNAUTHENTICATED,this.clientId=qa.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,async o=>{B(jr,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(B(jr,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();let e=new cn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){let r=L_(t,"Failed to shutdown persistence");e.reject(r)}}),e.promise}};async function kp(n,e){n.asyncQueue.verifyOperationInProgress(),B(jr,"Initializing OfflineComponentProvider");let t=n.configuration;await e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(async i=>{r.isEqual(i)||(await qA(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>{Vr("Terminating Firestore due to IndexedDb database deletion"),n.terminate().then(()=>{B("Terminating Firestore due to IndexedDb database deletion completed successfully")}).catch(i=>{Vr("Terminating Firestore due to IndexedDb database deletion failed",i)})}),n._offlineComponents=e}async function VT(n,e){n.asyncQueue.verifyOperationInProgress();let t=await GL(n);B(jr,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>NT(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,i)=>NT(e.remoteStore,i)),n._onlineComponents=e}async function GL(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){B(jr,"Using user provided OfflineComponentProvider");try{await kp(n,n._uninitializedComponentsProvider._offline)}catch(e){let t=e;if(!(function(i){return i.name==="FirebaseError"?i.code===x.FAILED_PRECONDITION||i.code===x.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11})(t))throw t;Vr("Error using user provided cache. Falling back to memory cache: "+t),await kp(n,new aD)}}else B(jr,"Using default OfflineComponentProvider"),await kp(n,new l_(void 0));return n._offlineComponents}async function cD(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(B(jr,"Using user provided OnlineComponentProvider"),await VT(n,n._uninitializedComponentsProvider._online)):(B(jr,"Using default OnlineComponentProvider"),await VT(n,new qL))),n._onlineComponents}function WL(n){return cD(n).then(e=>e.syncEngine)}async function lD(n){let e=await cD(n),t=e.eventManager;return t.onListen=ML.bind(null,e.syncEngine),t.onUnlisten=OL.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=NL.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=FL.bind(null,e.syncEngine),t}function KL(n,e,t={}){let r=new cn;return n.asyncQueue.enqueueAndForget(async()=>(function(s,o,c,l,d){let f=new bd({next:g=>{f.Ou(),o.enqueueAndForget(()=>eD(s,p));let A=g.docs.has(c);!A&&g.fromCache?d.reject(new V(x.UNAVAILABLE,"Failed to get document because the client is offline.")):A&&g.fromCache&&l&&l.source==="server"?d.reject(new V(x.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):d.resolve(g)},error:g=>d.reject(g)}),p=new _d(R_(c.path),f,{includeMetadataChanges:!0,ka:!0});return ZA(s,p)})(await lD(n),n.asyncQueue,e,t,r)),r.promise}function YL(n,e,t={}){let r=new cn;return n.asyncQueue.enqueueAndForget(async()=>(function(s,o,c,l,d){let f=new bd({next:g=>{f.Ou(),o.enqueueAndForget(()=>eD(s,p)),g.fromCache&&l.source==="server"?d.reject(new V(x.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):d.resolve(g)},error:g=>d.reject(g)}),p=new _d(c,f,{includeMetadataChanges:!0,ka:!0});return ZA(s,p)})(await lD(n),n.asyncQueue,e,t,r)),r.promise}function uD(n){let e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}var UT=new Map;var dD="firestore.googleapis.com",BT=!0,Ed=class{constructor(e){var t,r;if(e.host===void 0){if(e.ssl!==void 0)throw new V(x.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=dD,this.ssl=BT}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:BT;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=HA;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<cL)throw new V(x.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}oF("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=uD((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new V(x.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new V(x.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new V(x.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,i){return r.timeoutSeconds===i.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},$s=class{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Ed({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new V(x.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new V(x.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Ed(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new Op;switch(r.type){case"firstParty":return new Up(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new V(x.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){let r=UT.get(t);r&&(B("ComponentProvider","Removing Datastore"),UT.delete(t),r.terminate())})(this),Promise.resolve()}};function hD(n,e,t,r={}){var i;n=ln(n,$s);let s=Ir(e),o=n._getSettings(),c=Object.assign(Object.assign({},o),{emulatorOptions:n._getEmulatorOptions()}),l=`${e}:${t}`;s&&(mu(`https://${l}`),pu("Firestore",!0)),o.host!==dD&&o.host!==l&&Vr("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");let d=Object.assign(Object.assign({},o),{host:l,ssl:s,emulatorOptions:r});if(!bn(d,c)&&(n._setSettings(d),r.mockUserToken)){let f,p;if(typeof r.mockUserToken=="string")f=r.mockUserToken,p=qe.MOCK_USER;else{f=g0(r.mockUserToken,(i=n._app)===null||i===void 0?void 0:i.options.projectId);let g=r.mockUserToken.sub||r.mockUserToken.user_id;if(!g)throw new V(x.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new qe(g)}n._authCredentials=new Fp(new Ku(f,p))}}var zs=class n{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new n(this.firestore,e,this._query)}},We=class n{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new kr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new n(this.firestore,e,this._key)}toJSON(){return{type:n._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,r){if(nc(t,n._jsonSchema))return new n(e,r||null,new z(Ie.fromString(t.referencePath)))}};We._jsonSchemaVersion="firestore/documentReference/1.0",We._jsonSchema={type:Be("string",We._jsonSchemaVersion),referencePath:Be("string")};var kr=class n extends zs{constructor(e,t,r){super(e,t,R_(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new We(this.firestore,null,new z(e))}withConverter(e){return new n(this.firestore,e,this._path)}};function fD(n,e,...t){if(n=Oe(n),WT("collection","path",e),n instanceof $s){let r=Ie.fromString(e,...t);return iT(r),new kr(n,null,r)}{if(!(n instanceof We||n instanceof kr))throw new V(x.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=n._path.child(Ie.fromString(e,...t));return iT(r),new kr(n.firestore,null,r)}}function j_(n,e,...t){if(n=Oe(n),arguments.length===1&&(e=qa.newId()),WT("doc","path",e),n instanceof $s){let r=Ie.fromString(e,...t);return rT(r),new We(n,null,new z(r))}{if(!(n instanceof We||n instanceof kr))throw new V(x.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=n._path.child(Ie.fromString(e,...t));return rT(r),new We(n.firestore,n instanceof kr?n.converter:null,new z(r))}}var jT="AsyncQueue",wd=class{constructor(e=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new hd(this,"async_queue_retry"),this.oc=()=>{let r=Np();r&&B(jT,"Visibility state changed to "+r.visibilityState),this.F_.y_()},this._c=e;let t=Np();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ac(),this.uc(e)}enterRestrictedMode(e){if(!this.Xu){this.Xu=!0,this.rc=e||!1;let t=Np();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.oc)}}enqueue(e){if(this.ac(),this.Xu)return new Promise(()=>{});let t=new cn;return this.uc(()=>this.Xu&&this.rc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Zu.push(e),this.cc()))}async cc(){if(this.Zu.length!==0){try{await this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(e){if(!Ks(e))throw e;B(jT,"Operation failed with retryable error: "+e)}this.Zu.length>0&&this.F_.g_(()=>this.cc())}}uc(e){let t=this._c.then(()=>(this.nc=!0,e().catch(r=>{throw this.tc=r,this.nc=!1,Xn("INTERNAL UNHANDLED ERROR: ",$T(r)),r}).then(r=>(this.nc=!1,r))));return this._c=t,t}enqueueAfterDelay(e,t,r){this.ac(),this.sc.indexOf(e)>-1&&(t=0);let i=e_.createAndSchedule(this,e,t,r,s=>this.lc(s));return this.ec.push(i),i}ac(){this.tc&&q(47125,{hc:$T(this.tc)})}verifyOperationInProgress(){}async Pc(){let e;do e=this._c,await e;while(e!==this._c)}Tc(e){for(let t of this.ec)if(t.timerId===e)return!0;return!1}Ic(e){return this.Pc().then(()=>{this.ec.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(let t of this.ec)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Pc()})}dc(e){this.sc.push(e)}lc(e){let t=this.ec.indexOf(e);this.ec.splice(t,1)}};function $T(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}var nr=class extends $s{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new wd,this._persistenceKey=i?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){let e=this._firestoreClient.terminate();this._queue=new wd(e),this._firestoreClient=void 0,await e}}};function mD(n,e){let t=typeof n=="object"?n:di(),r=typeof n=="string"?n:e||Zu,i=vs(t,"firestore").getImmediate({identifier:r});if(!i._initialized){let s=p0("firestore");s&&hD(i,...s)}return i}function $_(n){if(n._terminated)throw new V(x.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||QL(n),n._firestoreClient}function QL(n){var e,t,r;let i=n._freezeSettings(),s=(function(c,l,d,f){return new Hp(c,l,d,f.host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,uD(f.experimentalLongPollingOptions),f.useFetchStreams,f.isUsingEmulator)})(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,i);n._componentsProvider||!((t=i.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(n._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),n._firestoreClient=new u_(n._authCredentials,n._appCheckCredentials,n._queue,s,n._componentsProvider&&(function(c){let l=c?._online.build();return{_offline:c?._offline.build(l),_online:l}})(n._componentsProvider))}var Or=class n{constructor(e){this._byteString=e}static fromBase64String(e){try{return new n(ct.fromBase64String(e))}catch(t){throw new V(x.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new n(ct.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:n._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(nc(e,n._jsonSchema))return n.fromBase64String(e.bytes)}};Or._jsonSchemaVersion="firestore/bytes/1.0",Or._jsonSchema={type:Be("string",Or._jsonSchemaVersion),bytes:Be("string")};var Hs=class{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new V(x.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Vt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var qs=class{constructor(e){this._methodName=e}};var Fr=class n{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new V(x.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new V(x.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return te(this._lat,e._lat)||te(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:n._jsonSchemaVersion}}static fromJSON(e){if(nc(e,n._jsonSchema))return new n(e.latitude,e.longitude)}};Fr._jsonSchemaVersion="firestore/geoPoint/1.0",Fr._jsonSchema={type:Be("string",Fr._jsonSchemaVersion),latitude:Be("number"),longitude:Be("number")};var Lr=class n{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return(function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0})(this._values,e._values)}toJSON(){return{type:n._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(nc(e,n._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(t=>typeof t=="number"))return new n(e.vectorValues);throw new V(x.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}};Lr._jsonSchemaVersion="firestore/vectorValue/1.0",Lr._jsonSchema={type:Be("string",Lr._jsonSchemaVersion),vectorValues:Be("object")};var XL=/^__.*__$/,d_=class{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new xn(e,this.data,this.fieldMask,t,this.fieldTransforms):new Ri(e,this.data,t,this.fieldTransforms)}},Id=class{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new xn(e,this.data,this.fieldMask,t,this.fieldTransforms)}};function pD(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw q(40011,{Ec:n})}}var h_=class n{constructor(e,t,r,i,s,o){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.Ac(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Ec(){return this.settings.Ec}Rc(e){return new n(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Vc(e){var t;let r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.Rc({path:r,mc:!1});return i.fc(e),i}gc(e){var t;let r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.Rc({path:r,mc:!1});return i.Ac(),i}yc(e){return this.Rc({path:void 0,mc:!0})}wc(e){return Ad(e,this.settings.methodName,this.settings.Sc||!1,this.path,this.settings.bc)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Ac(){if(this.path)for(let e=0;e<this.path.length;e++)this.fc(this.path.get(e))}fc(e){if(e.length===0)throw this.wc("Document fields must not be empty");if(pD(this.Ec)&&XL.test(e))throw this.wc('Document fields cannot begin and end with "__"')}},f_=class{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||kd(e)}Dc(e,t,r,i=!1){return new h_({Ec:e,methodName:t,bc:r,path:Vt.emptyPath(),mc:!1,Sc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function Ld(n){let e=n._freezeSettings(),t=kd(n._databaseId);return new f_(n._databaseId,!!e.ignoreUndefinedProperties,t)}function gD(n,e,t,r,i,s={}){let o=n.Dc(s.merge||s.mergeFields?2:0,e,t,i);z_("Data must be an object, but it was:",o,r);let c=_D(r,o),l,d;if(s.merge)l=new qt(o.fieldMask),d=o.fieldTransforms;else if(s.mergeFields){let f=[];for(let p of s.mergeFields){let g=p_(e,p,t);if(!o.contains(g))throw new V(x.INVALID_ARGUMENT,`Field '${g}' is specified in your field mask but missing from your input data.`);yD(f,g)||f.push(g)}l=new qt(f),d=o.fieldTransforms.filter(p=>l.covers(p.field))}else l=null,d=o.fieldTransforms;return new d_(new Lt(c),l,d)}var Td=class n extends qs{_toFieldTransform(e){if(e.Ec!==2)throw e.Ec===1?e.wc(`${this._methodName}() can only appear at the top level of your update data`):e.wc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof n}};var m_=class n extends qs{_toFieldTransform(e){return new sg(e.path,new Di)}isEqual(e){return e instanceof n}};function JL(n,e,t,r){let i=n.Dc(1,e,t);z_("Data must be an object, but it was:",i,r);let s=[],o=Lt.empty();$r(r,(l,d)=>{let f=H_(e,l,t);d=Oe(d);let p=i.gc(f);if(d instanceof Td)s.push(f);else{let g=sc(d,p);g!=null&&(s.push(f),o.set(f,g))}});let c=new qt(s);return new Id(o,c,i.fieldTransforms)}function ZL(n,e,t,r,i,s){let o=n.Dc(1,e,t),c=[p_(e,r,t)],l=[i];if(s.length%2!=0)throw new V(x.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let g=0;g<s.length;g+=2)c.push(p_(e,s[g])),l.push(s[g+1]);let d=[],f=Lt.empty();for(let g=c.length-1;g>=0;--g)if(!yD(d,c[g])){let A=c[g],R=l[g];R=Oe(R);let M=o.gc(A);if(R instanceof Td)d.push(A);else{let S=sc(R,M);S!=null&&(d.push(A),f.set(A,S))}}let p=new qt(d);return new Id(f,p,o.fieldTransforms)}function eV(n,e,t,r=!1){return sc(t,n.Dc(r?4:3,e))}function sc(n,e){if(vD(n=Oe(n)))return z_("Unsupported field value:",e,n),_D(n,e);if(n instanceof qs)return(function(r,i){if(!pD(i.Ec))throw i.wc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.wc(`${r._methodName}() is not currently supported inside arrays`);let s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)})(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.mc&&e.Ec!==4)throw e.wc("Nested arrays are not supported");return(function(r,i){let s=[],o=0;for(let c of r){let l=sc(c,i.yc(o));l==null&&(l={nullValue:"NULL_VALUE"}),s.push(l),o++}return{arrayValue:{values:s}}})(n,e)}return(function(r,i){if((r=Oe(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return LF(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){let s=je.fromDate(r);return{timestampValue:od(i.serializer,s)}}if(r instanceof je){let s=new je(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:od(i.serializer,s)}}if(r instanceof Fr)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Or)return{bytesValue:LA(i.serializer,r._byteString)};if(r instanceof We){let s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.wc(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:P_(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Lr)return(function(o,c){return{mapValue:{fields:{[T_]:{stringValue:A_},[Ns]:{arrayValue:{values:o.toArray().map(d=>{if(typeof d!="number")throw c.wc("VectorValues must only contain numeric values.");return x_(c.serializer,d)})}}}}}})(r,i);throw i.wc(`Unsupported field value: ${Rd(r)}`)})(n,e)}function _D(n,e){let t={};return lA(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):$r(n,(r,i)=>{let s=sc(i,e.Vc(r));s!=null&&(t[r]=s)}),{mapValue:{fields:t}}}function vD(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof je||n instanceof Fr||n instanceof Or||n instanceof We||n instanceof qs||n instanceof Lr)}function z_(n,e,t){if(!vD(t)||!KT(t)){let r=Rd(t);throw r==="an object"?e.wc(n+" a custom object"):e.wc(n+" "+r)}}function p_(n,e,t){if((e=Oe(e))instanceof Hs)return e._internalPath;if(typeof e=="string")return H_(n,e);throw Ad("Field path arguments must be of type string or ",n,!1,void 0,t)}var tV=new RegExp("[~\\*/\\[\\]]");function H_(n,e,t){if(e.search(tV)>=0)throw Ad(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Hs(...e.split("."))._internalPath}catch{throw Ad(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Ad(n,e,t,r,i){let s=r&&!r.isEmpty(),o=i!==void 0,c=`Function ${e}() called with invalid data`;t&&(c+=" (via `toFirestore()`)"),c+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new V(x.INVALID_ARGUMENT,c+n+l)}function yD(n,e){return n.some(t=>t.isEqual(e))}var Dd=class{constructor(e,t,r,i,s){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new We(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new g_(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let t=this._document.data.field(q_("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}},g_=class extends Dd{data(){return super.data()}};function q_(n,e){return typeof e=="string"?H_(n,e):e instanceof Hs?e._internalPath:e._delegate._internalPath}function nV(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new V(x.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var tc=class{},__=class extends tc{};function bD(n,e,...t){let r=[];e instanceof tc&&r.push(e),r=r.concat(t),(function(s){let o=s.filter(l=>l instanceof v_).length,c=s.filter(l=>l instanceof Cd).length;if(o>1||o>0&&c>0)throw new V(x.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(let i of r)n=i._apply(n);return n}var Cd=class n extends __{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new n(e,t,r)}_apply(e){let t=this._parse(e);return wD(e._query,t),new zs(e.firestore,e.converter,rg(e._query,t))}_parse(e){let t=Ld(e.firestore);return(function(s,o,c,l,d,f,p){let g;if(d.isKeyField()){if(f==="array-contains"||f==="array-contains-any")throw new V(x.INVALID_ARGUMENT,`Invalid Query. You can't perform '${f}' queries on documentId().`);if(f==="in"||f==="not-in"){HT(p,f);let R=[];for(let M of p)R.push(zT(l,s,M));g={arrayValue:{values:R}}}else g=zT(l,s,p)}else f!=="in"&&f!=="not-in"&&f!=="array-contains-any"||HT(p,f),g=eV(c,o,p,f==="in"||f==="not-in");return Ue.create(d,f,g)})(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}};function ED(n,e,t){let r=e,i=q_("where",n);return Cd._create(i,r,t)}var v_=class n extends tc{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new n(e,t)}_parse(e){let t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return t.length===1?t[0]:dn.create(t,this._getOperator())}_apply(e){let t=this._parse(e);return t.getFilters().length===0?e:((function(i,s){let o=i,c=s.getFlattenedFilters();for(let l of c)wD(o,l),o=rg(o,l)})(e._query,t),new zs(e.firestore,e.converter,rg(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}};function zT(n,e,t){if(typeof(t=Oe(t))=="string"){if(t==="")throw new V(x.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!IA(e)&&t.indexOf("/")!==-1)throw new V(x.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);let r=e.path.child(Ie.fromString(t));if(!z.isDocumentKey(r))throw new V(x.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return dT(n,new z(r))}if(t instanceof We)return dT(n,t._key);throw new V(x.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Rd(t)}.`)}function HT(n,e){if(!Array.isArray(n)||n.length===0)throw new V(x.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function wD(n,e){let t=(function(i,s){for(let o of i)for(let c of o.getFlattenedFilters())if(s.indexOf(c.op)>=0)return c.op;return null})(n.filters,(function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(t!==null)throw t===e.op?new V(x.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new V(x.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}var y_=class{convertValue(e,t="none"){switch(Ur(e)){case 0:return null;case 1:return e.booleanValue;case 2:return we(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Zn(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw q(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){let r={};return $r(e,(i,s)=>{r[i]=this.convertValue(s,t)}),r}convertVectorValue(e){var t,r,i;let s=(i=(r=(t=e.fields)===null||t===void 0?void 0:t[Ns].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(o=>we(o.doubleValue));return new Lr(s)}convertGeoPoint(e){return new Fr(we(e.latitude),we(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":let r=Pd(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(Ka(e));default:return null}}convertTimestamp(e){let t=Jn(e);return new je(t.seconds,t.nanos)}convertDocumentKey(e,t){let r=Ie.fromString(e);he(zA(r),9688,{name:e});let i=new ed(r.get(1),r.get(3)),s=new z(r.popFirst(5));return i.isEqual(t)||Xn(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),s}};function ID(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}var Ei=class{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},wi=class n extends Dd{constructor(e,t,r,i,s,o){super(e,t,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let t=new xs(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){let r=this._document.data.field(q_("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new V(x.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");let e=this._document,t={};return t.type=n._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}};wi._jsonSchemaVersion="firestore/documentSnapshot/1.0",wi._jsonSchema={type:Be("string",wi._jsonSchemaVersion),bundleSource:Be("string","DocumentSnapshot"),bundleName:Be("string"),bundle:Be("string")};var xs=class extends wi{data(e={}){return super.data(e)}},Ps=class n{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new Ei(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){let e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new xs(this._firestore,this._userDataWriter,r.key,r,new Ei(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new V(x.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(c=>{let l=new xs(i._firestore,i._userDataWriter,c.doc.key,c.doc,new Ei(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter);return c.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(c=>s||c.type!==3).map(c=>{let l=new xs(i._firestore,i._userDataWriter,c.doc.key,c.doc,new Ei(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter),d=-1,f=-1;return c.type!==0&&(d=o.indexOf(c.doc.key),o=o.delete(c.doc.key)),c.type!==1&&(o=o.add(c.doc),f=o.indexOf(c.doc.key)),{type:rV(c.type),doc:l,oldIndex:d,newIndex:f}})}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new V(x.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");let e={};e.type=n._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=qa.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;let t=[],r=[],i=[];return this.docs.forEach(s=>{s._document!==null&&(t.push(s._document),r.push(this._userDataWriter.convertObjectMap(s._document.data.value.mapValue.fields,"previous")),i.push(s.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}};function rV(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return q(61501,{type:n})}}function TD(n){n=ln(n,We);let e=ln(n.firestore,nr);return KL($_(e),n._key).then(t=>iV(e,n,t))}Ps._jsonSchemaVersion="firestore/querySnapshot/1.0",Ps._jsonSchema={type:Be("string",Ps._jsonSchemaVersion),bundleSource:Be("string","QuerySnapshot"),bundleName:Be("string"),bundle:Be("string")};var Sd=class extends y_{constructor(e){super(),this.firestore=e}convertBytes(e){return new Or(e)}convertReference(e){let t=this.convertDocumentKey(e,this.firestore._databaseId);return new We(this.firestore,null,t)}};function AD(n){n=ln(n,zs);let e=ln(n.firestore,nr),t=$_(e),r=new Sd(e);return nV(n._query),YL(t,n._query).then(i=>new Ps(e,r,n,i))}function DD(n,e,t){n=ln(n,We);let r=ln(n.firestore,nr),i=ID(n.converter,e,t);return Vd(r,[gD(Ld(r),"setDoc",n._key,i,n.converter!==null,t).toMutation(n._key,Cn.none())])}function CD(n,e,t,...r){n=ln(n,We);let i=ln(n.firestore,nr),s=Ld(i),o;return o=typeof(e=Oe(e))=="string"||e instanceof Hs?ZL(s,"updateDoc",n._key,e,t,r):JL(s,"updateDoc",n._key,e),Vd(i,[o.toMutation(n._key,Cn.exists(!0))])}function SD(n){return Vd(ln(n.firestore,nr),[new Qa(n._key,Cn.none())])}function RD(n,e){let t=ln(n.firestore,nr),r=j_(n),i=ID(n.converter,e);return Vd(t,[gD(Ld(n.firestore),"addDoc",r._key,i,n.converter!==null,{}).toMutation(r._key,Cn.exists(!1))]).then(()=>r)}function Vd(n,e){return(function(r,i){let s=new cn;return r.asyncQueue.enqueueAndForget(async()=>LL(await WL(r),i,s)),s.promise})($_(n),e)}function iV(n,e,t){let r=t.docs.get(e._key),i=new Sd(n);return new wi(n,i,e._key,r,new Ei(t.hasPendingWrites,t.fromCache),e.converter)}function pH(){return new m_("serverTimestamp")}(function(e,t=!0){(function(i){Gs=i})(Ar),on(new _t("firestore",(r,{instanceIdentifier:i,options:s})=>{let o=r.getProvider("app").getImmediate(),c=new nr(new Lp(r.getProvider("auth-internal")),new Bp(o,r.getProvider("app-check-internal")),(function(d,f){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new V(x.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ed(d.options.projectId,f)})(o,i),o);return s=Object.assign({useFetchStreams:t},s),c._setSettings(s),c},"PUBLIC").setMultipleInstances(!0)),Re(ZI,eT,e),Re(ZI,eT,"esm2017")})();var oc=class{constructor(e){return e}},xD="firestore",G_=class{constructor(){return bs(xD)}};var W_=new L("angularfire2.firestore-instances");function sV(n,e){let t=Da(xD,n,e);return t&&new oc(t)}function oV(n){return(e,t)=>{let r=e.runOutsideAngular(()=>n(t));return new oc(r)}}var aV={provide:G_,deps:[[new bt,W_]]},cV={provide:oc,useFactory:sV,deps:[[new bt,W_],qn]};function yq(n,...e){return Re("angularfire",Dr.full,"fst"),Yt([cV,aV,{provide:W_,useFactory:oV(n),multi:!0,deps:[Z,De,Cr,fi,[new bt,Va],[new bt,Es],...e]}])}var bq=Fe(RD,!0,2);var Eq=Fe(fD,!0,2);var wq=Fe(SD,!0,2);var Iq=Fe(j_,!0,2);var Tq=Fe(TD,!0);var Aq=Fe(AD,!0);var Dq=Fe(mD,!0);var Cq=Fe(bD,!0,2);var Sq=Fe(DD,!0,2);var Rq=Fe(CD,!0,2);var xq=Fe(ED,!0,2);var lV=["mat-internal-form-field",""],uV=["*"],Nq=(()=>{class n{labelPosition;static \u0275fac=function(r){return new(r||n)};static \u0275cmp=Pe({type:n,selectors:[["div","mat-internal-form-field",""]],hostAttrs:[1,"mdc-form-field","mat-internal-form-field"],hostVars:2,hostBindings:function(r,i){r&2&&Ce("mdc-form-field--align-end",i.labelPosition==="before")},inputs:{labelPosition:"labelPosition"},attrs:lV,ngContentSelectors:uV,decls:1,vars:0,template:function(r,i){r&1&&(Xt(),Me(0))},styles:[`.mat-internal-form-field{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;display:inline-flex;align-items:center;vertical-align:middle}.mat-internal-form-field>label{margin-left:0;margin-right:auto;padding-left:4px;padding-right:0;order:0}[dir=rtl] .mat-internal-form-field>label{margin-left:auto;margin-right:0;padding-left:0;padding-right:4px}.mdc-form-field--align-end>label{margin-left:auto;margin-right:0;padding-left:0;padding-right:4px;order:-1}[dir=rtl] .mdc-form-field--align-end .mdc-form-field--align-end label{margin-left:0;margin-right:auto;padding-left:4px;padding-right:0}
`],encapsulation:2,changeDetection:0})}return n})();export{Jr as a,kC as b,cb as c,OC as d,Vh as e,LC as f,VC as g,hb as h,Wh as i,tS as j,RS as k,l5 as l,u5 as m,Vn as n,yr as o,_f as p,Rl as q,lx as r,gx as s,vi as t,D9 as u,C9 as v,jl as w,LE as x,hs as y,Pl as z,$n as A,mj as B,pj as C,Mf as D,$x as E,_j as F,Hx as G,Nf as H,Wx as I,Qx as J,Jx as K,vj as L,yj as M,bj as N,Ff as O,tn as P,Se as Q,fs as R,cw as S,nn as T,Gl as U,Zx as V,rn as W,Kl as X,Uf as Y,Ql as Z,rP as _,Ew as $,mP as aa,gP as ba,_P as ca,ai as da,Aw as ea,Hf as fa,yP as ga,bP as ha,rz as ia,em as ja,tm as ka,gt as la,ga as ma,uz as na,dz as oa,fz as pa,wP as qa,wr as ra,Tz as sa,ps as ta,Dz as ua,Bz as va,Lw as wa,PP as xa,Bw as ya,I4 as za,T4 as Aa,z4 as Ba,H4 as Ca,pH as Da,oc as Ea,yq as Fa,bq as Ga,Eq as Ha,wq as Ia,Iq as Ja,Tq as Ka,Aq as La,Dq as Ma,Cq as Na,Sq as Oa,Rq as Pa,xq as Qa,rm as Ra,_M as Sa,vM as Ta,yM as Ua,au as Va,cu as Wa,cm as Xa,lu as Ya,l0 as Za,u0 as _a,uu as $a,h6 as ab,f6 as bb,Nq as cb,QI as db};
